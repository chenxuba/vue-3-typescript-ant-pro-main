import{u as qe,a as Te,b as Ke,i as Le,c as we,o as Je,d as Ae,e as Qe,f as Ue,l as Xe,r as Ye,g as Ze,p as et,h as tt}from"./index-D5vtKjRx.js";import{u as Fe,_ as nt}from"./route-view.vue_vue_type_script_setup_true_lang-WrtJSfix.js";import{f as ot,u as e,d as T,ab as at,S as oe,a8 as k,a3 as a,a9 as l,a1 as S,k as u,ac as w,G as K,ad as lt,s as V,c as g,r as fe,w as ie,a0 as v,ae as B,af as $,F as L,Q as x,ag as W,ah as te,ai as st,a7 as Se,aj as ae,H as it,ak as dt,n as He,A as Pe,b as rt,B as Me,al as ut,am as Re}from"./vue-CHyeelTQ.js";import{b as ct,M as le,c as pt,e as re,L as mt,D as We,f as ze,g as ke,S as ht,h as yt,i as ft,j as kt,m as gt,n as De,p as bt,q as _t,r as vt,s as Ne,t as ue,u as be,v as Oe,w as $t,x as _e,y as ve,z as ge,B as Be,E as Ct,F as wt,N as St,G as Mt,H as Rt,I as Bt,T as Tt,J as Kt,R as Lt,K as At}from"./antd-7EK-EoHB.js";import{_ as Ut,a as Ft}from"./index.vue_vue_type_style_index_0_lang-CWEhP-fG.js";function $e(){return new DOMException("The request is not allowed","NotAllowedError")}async function Ht(s){if(!navigator.clipboard)throw $e();return navigator.clipboard.writeText(s)}async function Pt(s){const o=document.createElement("span");o.textContent=s,o.style.whiteSpace="pre",o.style.webkitUserSelect="auto",o.style.userSelect="all",document.body.appendChild(o);const n=window.getSelection(),p=window.document.createRange();n.removeAllRanges(),p.selectNode(o),n.addRange(p);let f=!1;try{f=window.document.execCommand("copy")}finally{n.removeAllRanges(),window.document.body.removeChild(o)}if(!f)throw $e()}async function Wt(s){try{await Ht(s)}catch(o){try{await Pt(s)}catch(n){throw n||o||$e()}}}var zt=(s=3e3)=>{const o=ot(!1);return{copied:o,copy:p=>{const f=e(p);Wt(f).then(()=>{o.value=!0;const c=setTimeout(()=>{o.value=!1,clearTimeout(c)},s)})}}};function Y(s){return{type:String,default:s}}function pe(s){return{type:Number,default:s}}function E(s){return{type:Boolean,default:s}}function me(s){return{type:Array,default:s}}function de(){return{type:[Function,Array]}}function he(s,...o){if(typeof s=="function")return s(...o);if(Array.isArray(s))return s.map(n=>n(...o))}const Dt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Nt={class:"anticon"},Ot=T({__name:"index",setup(s){const o=qe(),n=Te(),p=Fe(),f=Ke(),c=at(),{avatar:d,nickname:h}=oe(n);async function m({key:y}){if(y==="logout"){const b=o.loading("退出登录...",0);try{await n.logout()}finally{b(),o.success("退出登录成功",3),c.push({path:"/login"}).then(()=>{p.clear(),f.clear()})}}}return(y,b)=>{const C=ct,_=pt,r=re,t=le,i=We;return a(),k(i,null,{overlay:l(()=>[u(t,{onClick:m},{default:l(()=>[u(_),u(r,{key:"logout"},{icon:l(()=>[u(e(mt))]),default:l(()=>[b[0]||(b[0]=K(" 退出登录 "))]),_:1,__:[0]})]),_:1})]),default:l(()=>[S("span",Dt,[u(C,{src:e(d),"mr-8px":"",size:"small"},null,8,["src"]),S("span",Nt,w(e(h)),1)])]),_:1})}}});function It(s,o={}){const n=V(!1),p=g(()=>s.logo),f=g(()=>s.title),c=g(()=>s.layout),d=g(()=>s.collapsedWidth),h=g(()=>s.siderWidth),m=g(()=>s.menuData),y=g(()=>s.splitMenus),b=g(()=>s.fixedHeader),C=g(()=>s.fixedSider),_=g(()=>s.collapsed),r=g(()=>s.theme),t=g(()=>s.headerHeight),i=g(()=>s.contentWidth),A=g(()=>s.copyright),D=g(()=>s.isMobile),G=V(!1),J=()=>{G.value=!G.value},M=g(()=>s.header),F=g(()=>s.menu),Q=g(()=>s.footer),N=g(()=>s.menuHeader),j=g(()=>s.leftCollapsed),H=fe(new Map),P=fe({selectedKeys:[]});ie(m,()=>{var R;H.clear(),(R=m.value)==null||R.forEach(U=>{H.set(U.path,U)})},{immediate:!0});const X=g(()=>{var U,I;if(D.value||c.value!=="mix"||!y.value)return m.value;const R=(U=P.selectedKeys)==null?void 0:U[0];return R?((I=H.get(R))==null?void 0:I.children)??[]:[]}),O=R=>{P.selectedKeys=R},ne=g(()=>s.openKeys),se=g(()=>s.selectedKeys),Ge=R=>{he(s["onUpdate:openKeys"],R)},je=R=>{he(s["onUpdate:selectedKeys"],R)},Ve=R=>{he(s.onMenuSelect,R)},ce=(R,U,I)=>{for(const z of U??[]){if(z.path===R)return I??z;if(z.children&&z.children.length){const Ce=ce(R,z.children,I??z);if(Ce)return Ce}}};return ie(se,()=>{var R;if(y.value){const U=(R=se.value)==null?void 0:R[0];if(U){const I=ce(U,m.value??[]);I&&(P.selectedKeys=[I.path])}}},{immediate:!0}),ie(y,()=>{var R,U;if(!y.value)P.selectedKeys=[];else{const I=((R=se.value)==null?void 0:R[0])??((U=ne.value)==null?void 0:U[0])??"",z=ce(I,m.value??[]);z?P.selectedKeys=[z==null?void 0:z.path]:P.selectedKeys=[]}}),{logo:p,title:f,layout:c,collapsed:_,leftCollapsed:j,collapsedWidth:d,menuData:m,siderWidth:h,fixedHeader:b,fixedSider:C,headerHeight:t,theme:r,isMobile:D,mobileCollapsed:G,contentWidth:i,copyright:A,hasPageContainer:n,splitMenus:y,splitState:P,menuDataMap:H,selectedMenus:X,handleMobileCollapsed:J,header:M,menu:F,footer:Q,openKeys:ne,handleOpenKeys:Ge,selectedKeys:se,handleSelectedKeys:je,handleMenuSelect:Ve,handleSplitSelectedKeys:O,menuHeader:N,...o}}const[Et,xt]=lt(It),q=()=>xt(),Gt={"c-primary":""},jt=["src"],Vt={key:0},qt=T({__name:"global-header-logo",setup(s){const{logo:o,title:n,layout:p,isMobile:f}=q(),c=g(()=>({"ant-pro-global-header-logo":p.value==="mix"||f.value,"ant-pro-top-nav-header-logo":p.value==="top"&&!f.value}));return(d,h)=>(a(),v("div",{class:B(e(c))},[S("a",Gt,[S("img",{src:e(o)},null,8,jt),e(f)?$("",!0):(a(),v("h1",Vt,w(e(n)),1))])],2))}}),Jt=T({__name:"index",setup(s){const{layout:o,isMobile:n,handleMobileCollapsed:p,theme:f,menuHeader:c,collapsed:d,handleCollapsed:h,leftCollapsed:m}=q(),y=V("ant-pro-global-header"),b=g(()=>({[y.value]:!0,[`${y.value}-layout-${o.value}`]:!!o.value,[`${y.value}-inverted`]:f.value==="inverted"&&o.value==="top"}));return(C,_)=>{const r=ht;return a(),v("div",{class:B([e(b)])},[e(o)==="side"&&!e(n)&&!e(m)?(a(),v("span",{key:0,class:"ml-0 text-18px",onClick:_[0]||(_[0]=t=>{var i;return(i=e(h))==null?void 0:i(!e(d))})},[e(d)?(a(),k(e(ze),{key:0})):(a(),k(e(ke),{key:1}))])):$("",!0),e(c)?(a(),v(L,{key:1},[e(o)!=="side"||e(n)?(a(),k(qt,{key:0})):$("",!0)],64)):$("",!0),e(n)?(a(),v("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:_[1]||(_[1]=(...t)=>e(p)&&e(p)(...t))},[u(e(ke))])):$("",!0),S("div",{class:B(["flex-1",e(o)==="top"?`${e(y)}-top`:"overflow-x-auto"])},[x(C.$slots,"headerContent")],2),u(r,{align:"center","flex-shrink-0":""},{default:l(()=>[x(C.$slots,"headerActions")]),_:3})],2)}}}),Qt=T({__name:"index",setup(s){const{headerHeight:o,fixedHeader:n,layout:p,isMobile:f,collapsed:c,collapsedWidth:d,siderWidth:h,menu:m,splitMenus:y,selectedMenus:b}=q(),C=g(()=>{const t={height:`${o.value}px`,lineHeight:`${o.value}px`,paddingInline:0};if((n.value||p.value==="mix")&&(t.zIndex=100,t.width="100%",t.right=0),p.value==="side"&&m.value){if(!f.value&&n.value){const i=c.value?d.value:h.value;t.width=`calc(100% - ${i}px)`}t.zIndex=19}return t}),_=g(()=>{const t=[];return(n.value||p.value==="mix")&&t.push("ant-pro-fixed-header"),p.value&&t.push("ant-pro-fixed-header-action"),p.value==="mix"&&t.push("ant-pro-fixed-header-inverted"),t}),r=g(()=>n.value||p.value==="mix"&&(y.value?(b.value??[]).length>0:!0));return(t,i)=>{const A=yt;return a(),v(L,null,[e(r)?(a(),k(A,{key:0,style:W({height:`${e(o)}px`,lineHeight:`${e(o)}px`,background:"transparent"})},null,8,["style"])):$("",!0),u(A,{style:W(e(C)),class:B(e(_))},{default:l(()=>[u(Jt,null,te({_:2},[t.$slots.headerActions?{name:"headerActions",fn:l(()=>[x(t.$slots,"headerActions")]),key:"0"}:void 0,t.$slots.headerContent?{name:"headerContent",fn:l(()=>[x(t.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),ye=T({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(s){const o=s,n=g(()=>{if(Le(o.icon)){const p=o.icon();if(p)return p}else return ft[o.icon]});return(p,f)=>p.icon?(a(),k(st(e(n)),{key:0})):$("",!0)}}),Xt=["href","target"],Yt=["href","target"],Ie=T({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(s){function o(n){return Le(n)?n():n}return(n,p)=>{const f=Se("sub-menu",!0),c=Se("RouterLink"),d=re,h=kt;return n.item.children&&!n.item.hideChildrenInMenu?(a(),k(h,{key:n.item.path},te({title:l(()=>[K(w(o(n.item.title)),1)]),default:l(()=>[(a(!0),v(L,null,ae(n.item.children,m=>(a(),v(L,null,[m.hideInMenu?$("",!0):(a(),v(L,{key:0},[m.children?(a(),k(f,{key:m.path,item:m},null,8,["item"])):(a(),k(d,{key:m.path},te({default:l(()=>[e(we)(m.path)?(a(),v("a",{key:1,href:m.path,target:m.target??"_blank"},w(o(m.title)),9,Xt)):(a(),v(L,{key:0},[n.link?(a(),k(c,{key:0,to:m.path},{default:l(()=>[K(w(o(m.title)),1)]),_:2},1032,["to"])):(a(),v(L,{key:1},[K(w(o(m.title)),1)],64))],64))]),_:2},[m.icon?{name:"icon",fn:l(()=>[u(ye,{icon:m.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[n.item.icon?{name:"icon",fn:l(()=>[u(ye,{icon:n.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(a(),k(d,{key:n.item.path},te({default:l(()=>[e(we)(n.item.path)?(a(),v("a",{key:1,href:n.item.path,target:n.item.target??"_blank"},w(o(n.item.title)),9,Yt)):(a(),v(L,{key:0},[n.link?(a(),k(c,{key:0,to:n.item.path},{default:l(()=>[K(w(o(n.item.title)),1)]),_:1},8,["to"])):(a(),v(L,{key:1},[K(w(o(n.item.title)),1)],64))],64))]),_:2},[n.item.icon?{name:"icon",fn:l(()=>[u(ye,{icon:n.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Ee=T({__name:"index",setup(s){const{theme:o,collapsed:n,layout:p,isMobile:f,selectedMenus:c,selectedKeys:d,openKeys:h,handleOpenKeys:m,handleSelectedKeys:y,handleMenuSelect:b}=q(),C=g(()=>o.value==="inverted"?"dark":o.value);return(_,r)=>{const t=le;return a(),k(t,{"selected-keys":e(d),"open-keys":e(n)?[]:e(h),mode:e(p)==="top"&&!e(f)?"horizontal":"inline",theme:e(C),collapsed:e(n),class:"ant-pro-sider-menu","onUpdate:openKeys":e(m),"onUpdate:selectedKeys":e(y),onSelect:e(b)},{default:l(()=>[(a(!0),v(L,null,ae(e(c),i=>(a(),v(L,null,[i.hideInMenu?$("",!0):(a(),k(Ie,{key:i.path,item:i},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Zt=["src"],en={key:0},tn={class:"flex-1 of-x-hidden of-y-auto scrollbar"},xe=T({__name:"index",setup(s){const{collapsed:o,leftCollapsed:n,handleCollapsed:p,selectedMenus:f,splitMenus:c,layout:d,logo:h,theme:m,title:y,collapsedWidth:b,siderWidth:C,headerHeight:_,fixedSider:r,isMobile:t,header:i}=q(),A=V("ant-pro-sider"),D=g(()=>{const F={paddingTop:`${d.value!=="side"&&!t.value?_.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"};return d.value==="mix"&&i.value===!1&&(F.paddingTop="0px"),F}),G=g(()=>({[A.value]:!0,[`${A.value}-fixed`]:r.value,[`${A.value}-layout-${d.value}`]:!!d.value})),J=g(()=>(d.value==="side"||t.value)&&d.value!=="mix"),M=g(()=>({"ant-pro-sider-collapsed":o.value&&!t.value,"ant-pro-sider-logo-dark":m.value==="inverted"}));return(F,Q)=>{const N=re,j=le,H=gt;return a(),v(L,null,[e(r)?(a(),v("div",{key:0,style:W({width:e(o)?`${e(b)}px`:`${e(C)}px`,maxWidth:e(o)?`${e(b)}px`:`${e(C)}px`,minWidth:e(o)?`${e(b)}px`:`${e(C)}px`,...e(D)})},null,4)):$("",!0),!e(c)||(e(f)??[]).length>0?(a(),k(H,{key:1,theme:e(m)==="inverted"?"dark":"light",collapsed:e(o)&&!e(t),trigger:null,"collapsed-width":e(b),width:e(C),collapsible:"",class:B(e(G)),style:W(e(D))},{default:l(()=>[e(J)?(a(),v("div",{key:0,class:B(["ant-pro-sider-logo",e(M)])},[S("a",null,[S("img",{src:e(h),alt:"logo"},null,8,Zt),!e(o)||e(t)?(a(),v("h1",en,w(e(y)),1)):$("",!0)])],2)):$("",!0),S("div",tn,[u(Ee)]),!e(t)&&e(n)?(a(),v("div",{key:1,class:B(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(m)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[u(j,{class:"ant-pro-sider-menu",mode:"inline",theme:e(m)==="inverted"?"dark":"light",selectable:!1,onClick:Q[0]||(Q[0]=P=>{var X;return(X=e(p))==null?void 0:X(!e(o))})},{default:l(()=>[u(N,null,{icon:l(()=>[e(o)?(a(),k(e(ze),{key:0})):(a(),k(e(ke),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):$("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):$("",!0)],64)}}}),nn=T({__name:"index",setup(s){const{mobileCollapsed:o,siderWidth:n}=q();return(p,f)=>{const c=De;return a(),k(c,{open:e(o),"onUpdate:open":f[0]||(f[0]=d=>it(o)?o.value=d:null),closable:!1,placement:"left",width:e(n)},{default:l(()=>[u(xe)]),_:1},8,["open","width"])}}}),on=T({__name:"split-menu",setup(s){const{splitState:o,menuData:n,handleSplitSelectedKeys:p}=q(),f=g(()=>{var c;return(c=n.value)==null?void 0:c.map(d=>({...Je(d,["children"]),childrenCount:(d.children??[]).length}))});return(c,d)=>{const h=le;return a(),k(h,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(o).selectedKeys,"onUpdate:selectedKeys":e(p)},{default:l(()=>[(a(!0),v(L,null,ae(e(f),m=>(a(),v(L,null,[m.hideInMenu?$("",!0):(a(),k(Ie,{key:m.path,item:m,link:m.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),an={"onUpdate:openKeys":de(),"onUpdate:selectedKeys":de(),onMenuSelect:de()},ln={layout:Y("mix"),logo:Y(),title:Y(),collapsedWidth:pe(48),siderWidth:pe(234),headerHeight:pe(48),menuData:me(),fixedHeader:E(!1),fixedSider:E(!0),splitMenus:E(),collapsed:E(!1),leftCollapsed:E(!1),theme:Y("light"),onCollapsed:de(),isMobile:E(),contentWidth:Y(),header:E(!0),footer:E(!0),menu:E(!0),menuHeader:E(!0),openKeys:me(),selectedKeys:me(),copyright:Y(),...an},sn=["data-theme"],dn=T({name:"BasicLayout",__name:"index",props:ln,emits:["update:collapsed"],setup(s,{emit:o}){const n=s,p=o,f=dt();function c(y){var b;p("update:collapsed",y),(b=n==null?void 0:n.onCollapsed)==null||b.call(n,y)}const{layout:d,contentWidth:h}=Et(n,{handleCollapsed:c}),m=g(()=>h.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(y,b)=>{const C=_t,_=Ft,r=vt,t=bt;return a(),v("div",{class:"ant-pro-basicLayout","data-theme":y.theme},[u(t,null,{default:l(()=>[y.menu?(a(),v(L,{key:0},[e(d)!=="top"&&!y.isMobile?(a(),k(xe,{key:0})):$("",!0)],64)):$("",!0),u(t,null,{default:l(()=>[y.header?(a(),k(Qt,{key:0},te({_:2},[f.headerActions?{name:"headerActions",fn:l(()=>[x(y.$slots,"headerActions")]),key:"0"}:void 0,f.headerContent||e(d)==="top"||e(d)==="mix"?{name:"headerContent",fn:l(()=>[x(y.$slots,"headerContent",{},()=>[!y.isMobile&&e(d)==="top"?(a(),k(Ee,{key:0})):$("",!0),!y.isMobile&&e(d)==="mix"&&n.splitMenus?(a(),k(on,{key:1})):$("",!0)])]),key:"1"}:void 0]),1024)):$("",!0),x(y.$slots,"contentPrefix"),u(C,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:l(()=>[S("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:B(e(m))},[x(y.$slots,"default")],2)]),_:3}),y.footer?(a(),k(r,{key:1,style:{"background-color":"transparent"}},{default:l(()=>[x(y.$slots,"footerRender",{},()=>[u(Ut,{copyright:y.copyright},te({_:2},[f.renderFooterLinks?{name:"renderFooterLinks",fn:l(()=>[u(_)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):$("",!0)]),_:3})]),_:3}),y.menu?(a(),k(nn,{key:0})):$("",!0)],8,sn)}}}),rn={"mb-24px":""},un={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},Z=T({__name:"body",props:{title:{}},setup(s){return(o,n)=>(a(),v("div",rn,[S("h3",un,w(o.title),1),x(o.$slots,"default")]))}}),ee=T({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(s){const o=s,n=V("ant-pro-drawer-setting-block-checkbox"),p=g(()=>({[`${n.value}-item`]:!0,[`${n.value}-theme-item`]:o.isDark,[`${n.value}-item-${o.theme}`]:!!o.theme,[`${n.value}-theme-item-${o.theme}`]:o.isDark})),{token:f}=Ae();return(c,d)=>{const h=ue;return a(),k(h,null,{title:l(()=>{var m;return[K(w(c.theme?(m=c.t)==null?void 0:m.call(c,`app.setting.pagestyle.${c.theme}`):""),1)]}),default:l(()=>{var m;return[S("div",{class:B(e(p))},[He(u(e(Ne),{style:W({color:(m=e(f))==null?void 0:m.colorPrimary}),class:B(`${e(n)}-selectIcon`)},null,8,["style","class"]),[[Pe,c.checked]])],2)]}),_:1})}}}),cn=["onClick"],pn=T({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(s){const o=V("ant-pro-drawer-setting-theme-color");return(n,p)=>{const f=ue;return a(),v("div",{class:B(`${e(o)}`)},[S("div",{class:B(`${e(o)}-content`)},[(a(!0),v(L,null,ae(n.colorList,c=>(a(),k(f,{key:c.color},{title:l(()=>{var d;return[K(w((d=n.t)==null?void 0:d.call(n,`app.setting.themecolor.${c.key}`)),1)]}),default:l(()=>[S("div",{class:B(`${e(o)}-block`),style:W({backgroundColor:c.color}),onClick:d=>{var h;return(h=n.onChange)==null?void 0:h.call(n,c.color)}},[He(u(e(Ne),null,null,512),[[Pe,n.color===c.color]])],14,cn)]),_:2},1024))),128))],2)],2)}}}),mn=T({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},compactAlgorithm:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(s,{emit:o}){const n=s,p=o,f=g(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:n.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:n.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:n.layout!=="side",disabledReason:""},{title:"紧凑模式",key:"compactAlgorithm",disabled:!1,disabledReason:""}]);function c(d,h){p("changeSetting",d,h)}return(d,h)=>{const m=$t,y=Oe,b=_e,C=be,_=ue,r=ve;return a(),k(r,{"data-source":e(f),split:!1},{renderItem:l(({item:t})=>[u(_,{title:t.disabled?t.disabledReason:"",placement:"left"},{default:l(()=>[u(C,null,{actions:l(()=>[t.key==="contentWidth"?(a(),k(y,{key:0,size:"small",disabled:t.disabled,value:d.contentWidth||"Fluid","onUpdate:value":h[0]||(h[0]=i=>c("contentWidth",i))},{default:l(()=>[d.layout==="top"?(a(),k(m,{key:0,value:"Fixed"},{default:l(()=>{var i;return[K(w(((i=d.t)==null?void 0:i.call(d,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):$("",!0),u(m,{value:"Fluid"},{default:l(()=>{var i;return[K(w(((i=d.t)==null?void 0:i.call(d,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):$("",!0),t.key==="fixedHeader"?(a(),k(b,{key:1,size:"small",checked:d.fixedHeader,disabled:t.disabled,"onUpdate:checked":h[1]||(h[1]=i=>c("fixedHeader",i))},null,8,["checked","disabled"])):$("",!0),t.key==="fixSiderbar"?(a(),k(b,{key:2,size:"small",checked:d.fixedSider,disabled:t.disabled,"onUpdate:checked":h[2]||(h[2]=i=>c("fixedSider",i))},null,8,["checked","disabled"])):$("",!0),t.key==="splitMenus"?(a(),k(b,{key:3,size:"small",checked:d.splitMenus,disabled:t.disabled,"onUpdate:checked":h[3]||(h[3]=i=>c("splitMenus",i))},null,8,["checked","disabled"])):$("",!0),t.key==="keepAlive"?(a(),k(b,{key:4,size:"small",checked:d.keepAlive,disabled:t.disabled,"onUpdate:checked":h[4]||(h[4]=i=>c("keepAlive",i))},null,8,["checked","disabled"])):$("",!0),t.key==="accordionMode"?(a(),k(b,{key:5,size:"small",checked:d.accordionMode,disabled:t.disabled,"onUpdate:checked":h[5]||(h[5]=i=>c("accordionMode",i))},null,8,["checked","disabled"])):$("",!0),t.key==="leftCollapsed"?(a(),k(b,{key:6,size:"small",checked:d.leftCollapsed,disabled:t.disabled,"onUpdate:checked":h[6]||(h[6]=i=>c("leftCollapsed",i))},null,8,["checked","disabled"])):$("",!0),t.key==="compactAlgorithm"?(a(),k(b,{key:7,size:"small",checked:d.compactAlgorithm,disabled:t.disabled,"onUpdate:checked":h[7]||(h[7]=i=>c("compactAlgorithm",i))},null,8,["checked","disabled"])):$("",!0)]),default:l(()=>{var i;return[S("span",{style:W({opacity:t.disabled?"0.5":"1"})},w(((i=d.t)==null?void 0:i.call(d,`app.setting.content-width.${t.key}`,t.title))??t.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),hn=T({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(s,{emit:o}){const n=s,p=o,f=g(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:n.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function c(d,h){p("changeSetting",d,h)}return(d,h)=>{const m=_e,y=Oe,b=be,C=ue,_=ve;return a(),k(_,{"data-source":e(f),split:!1},{renderItem:l(({item:r})=>[u(C,{title:r.disabled?r.disabledReason:"",placement:"left"},{default:l(()=>[u(b,null,{actions:l(()=>[r.key!=="animationName"?(a(),k(m,{key:0,size:"small",checked:n[r.key],disabled:r.disabled,"onUpdate:checked":t=>c(r.key,t)},null,8,["checked","disabled","onUpdate:checked"])):(a(),k(y,{key:1,style:{width:"120px"},value:d.animationName,options:d.animationNameList,size:"small","onUpdate:value":t=>c(r.key,t)},null,8,["value","options","onUpdate:value"]))]),default:l(()=>{var t;return[S("span",{style:W({opacity:r.disabled?"0.5":"1"})},w(((t=d.t)==null?void 0:t.call(d,`app.setting.content-area.${r.key}`,r.title))??r.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),yn=T({__name:"other-setting",props:{colorWeak:{type:Boolean},colorGray:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(s,{emit:o}){const n=s,p=o,f=g(()=>[{title:"weakmode",key:"colorWeak",disabled:!1,disabledReason:""},{title:"graymode",key:"colorGray",disabled:!1,disabledReason:""}]);function c(h,m){p("changeSetting",h,m)}function d(h){return Reflect.get(n,h)}return(h,m)=>{const y=_e,b=be,C=ve;return a(),k(C,{"data-source":e(f),split:!1},{renderItem:l(({item:_})=>[u(b,null,{actions:l(()=>[u(y,{size:"small",checked:d(_.key),disabled:_.disabled,"onUpdate:checked":r=>c(_.key,r)},null,8,["checked","disabled","onUpdate:checked"])]),default:l(()=>{var r;return[S("span",{style:W({opacity:_.disabled?"0.5":"1"})},w(((r=h.t)==null?void 0:r.call(h,`app.setting.${_.title}`,_.title))??_.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),fn={flex:"","gap-2":"","flex-col":""},kn=T({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},colorGray:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},compactAlgorithm:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(s,{emit:o}){const n=s,p=o,{copy:f}=zt(),c=V("ant-pro-drawer-setting"),{message:d}=Qe();function h(){var t;f(JSON.stringify(n.layoutSetting??{})),d==null||d.success((t=n==null?void 0:n.t)==null?void 0:t.call(n,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function m(t){p("update:open",t)}function y(t){p("settingChange","theme",t)}function b(t){p("settingChange","colorPrimary",t)}function C(t){p("settingChange","layout",t)}function _(t,i){p("settingChange",t,i)}const{token:r}=Ae();return(t,i)=>{var M,F,Q;const A=Ct,D=wt,G=Mt,J=De;return a(),v(L,null,[S("div",{class:B(`${e(c)}-handle`),style:W({backgroundColor:(M=e(r))==null?void 0:M.colorPrimary,borderEndStartRadius:`${(F=e(r))==null?void 0:F.borderRadius}px`,borderStartStartRadius:`${(Q=e(r))==null?void 0:Q.borderRadius}px`}),onClick:i[0]||(i[0]=N=>m(!t.open))},[t.open?(a(),k(e(ge),{key:0,class:B(`${e(c)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),k(e(Be),{key:1,class:B(`${e(c)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),u(J,{open:t.open,width:300,placement:"right",closable:!1,"onUpdate:open":m},{handle:l(()=>{var N,j,H;return[S("div",{class:B(`${e(c)}-handle`),style:W({position:"absolute",top:"240px",right:"300px",backgroundColor:(N=e(r))==null?void 0:N.colorPrimary,borderEndStartRadius:`${(j=e(r))==null?void 0:j.borderRadius}px`,borderStartStartRadius:`${(H=e(r))==null?void 0:H.borderRadius}px`}),onClick:i[1]||(i[1]=P=>m(!t.open))},[t.open?(a(),k(e(ge),{key:0,class:B(`${e(c)}-handle-icon${n.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),k(e(Be),{key:1,class:B(`${e(c)}-handle-icon${n.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:l(()=>{var N,j,H,P,X;return[S("div",{class:B(`${e(c)}-content`)},[u(Z,{title:((N=t.t)==null?void 0:N.call(t,"app.setting.pagestyle"))??"整体风格设计"},{default:l(()=>[S("div",{class:B(`${e(c)}-block-checkbox`)},[u(ee,{t:t.t,checked:n.theme==="light",theme:"light","is-dark":n.theme==="dark",onClick:i[2]||(i[2]=O=>y("light"))},null,8,["t","checked","is-dark"]),t.layout!=="mix"?(a(),k(ee,{key:0,t:t.t,checked:n.theme==="inverted",theme:"inverted","is-dark":n.theme==="dark",onClick:i[3]||(i[3]=O=>y("inverted"))},null,8,["t","checked","is-dark"])):$("",!0),u(ee,{t:t.t,checked:n.theme==="dark",theme:"dark","is-dark":n.theme==="dark",onClick:i[4]||(i[4]=O=>y("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),u(Z,{title:((j=t.t)==null?void 0:j.call(t,"app.setting.themecolor"))??"主题色"},{default:l(()=>[u(pn,{t:t.t,"color-list":t.colorList,color:t.colorPrimary,onChange:b},null,8,["t","color-list","color"])]),_:1},8,["title"]),u(A),u(Z,{title:((H=t.t)==null?void 0:H.call(t,"app.setting.pagestyle.mode"))??"导航模式"},{default:l(()=>[S("div",{class:B(`${e(c)}-block-checkbox`)},[u(ee,{t:t.t,theme:"side",checked:t.layout==="side","is-dark":n.theme==="dark",onClick:i[5]||(i[5]=O=>C("side"))},null,8,["t","checked","is-dark"]),u(ee,{t:t.t,theme:"top",checked:t.layout==="top","is-dark":n.theme==="dark",onClick:i[6]||(i[6]=O=>C("top"))},null,8,["t","checked","is-dark"]),u(ee,{t:t.t,theme:"mix",checked:t.layout==="mix","is-dark":n.theme==="dark",onClick:i[7]||(i[7]=O=>C("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),u(mn,{layout:t.layout,t:t.t,"content-width":t.contentWidth,"fixed-header":t.fixedHeader,"fixed-sider":t.fixedSider,"split-menus":t.splitMenus,"keep-alive":t.keepAlive,"accordion-mode":t.accordionMode,"left-collapsed":t.leftCollapsed,"compact-algorithm":t.compactAlgorithm,onChangeSetting:_},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed","compact-algorithm"]),u(A),u(Z,{title:((P=t.t)==null?void 0:P.call(t,"app.setting.content-area.title"))??"内容区域"},{default:l(()=>[u(hn,{t:t.t,layout:t.layout,header:t.header,watermark:t.watermark,"menu-header":t.menuHeader,footer:t.footer,"animation-name":t.animationName,"animation-name-list":t.animationNameList,"multi-tab":t.multiTab,"multi-tab-fixed":t.multiTabFixed,menu:t.menu,onChangeSetting:_},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),u(A),u(Z,{title:((X=t.t)==null?void 0:X.call(t,"app.setting.othersettings"))??"其他设置"},{default:l(()=>[u(yn,{t:t.t,"color-weak":t.colorWeak,"color-gray":t.colorGray,onChangeSetting:_},null,8,["t","color-weak","color-gray"])]),_:1},8,["title"]),u(A),u(Z,null,{default:l(()=>{var O;return[S("div",fn,[u(D,{type:"warning","show-icon":"",message:((O=t.t)==null?void 0:O.call(t,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:l(()=>[u(e(St))]),_:1},8,["message"]),u(G,{onClick:h},{default:l(()=>{var ne;return[u(e(Rt)),K(" "+w((ne=t.t)==null?void 0:ne.call(t,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}}),gn=["onClick"],bn=["onClick"],_n={class:"w-48px flex item-center justify-center"},vn=T({__name:"index",setup(s){const o=Fe(),{list:n,activeKey:p}=oe(o),{layoutSetting:f}=oe(Ue()),{layout:c}=q(),d=g(()=>{const r={};return f.value.multiTabFixed&&(r.position="sticky",r.top=`${f.value.headerHeight}px`,r.zIndex=3,r.right=0),(f.value.header===!1||c.value!=="mix"&&f.value.fixedHeader===!1)&&(r.top="0px"),r}),h=V();function m({key:r},t){r==="closeCurrent"?o.close(p.value):r==="closeLeft"?o.closeLeft(t):r==="closeRight"?o.closeRight(t):r==="closeOther"?o.closeOther(t):r==="refresh"&&o.refresh(p.value)}const y=g(()=>n.value.length===1||n.value.filter(r=>!r.affix).length<=1);function b(r){return n.value.findIndex(i=>i.fullPath===r)===0||n.value.filter(i=>!i.affix).length<=1}function C(r){return n.value.findIndex(i=>i.fullPath===r)===n.value.length-1||n.value.filter(i=>!i.affix).length<=1}const _=g(()=>n.value.length===1||n.value.filter(r=>!r.affix).length<=1);return Xe(r=>{if(r.fullPath.startsWith("/redirect"))return;const t=n.value.find(i=>i.fullPath===r.fullPath);r.fullPath===p.value&&!(t!=null&&t.loading)||(p.value=r.fullPath,o.addItem(r))},!0),rt(()=>{Ye()}),(r,t)=>{const i=re,A=le,D=We,G=Kt,J=Tt;return a(),k(J,{ref_key:"tabsRef",ref:h,"active-key":e(p),style:W(e(d)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(o).switchTab},{leftExtra:l(()=>t[1]||(t[1]=[S("div",{class:"w-24px"},null,-1)])),rightExtra:l(()=>[S("div",_n,[u(D,{trigger:["hover"]},{overlay:l(()=>[u(A,{onClick:t[0]||(t[0]=M=>m(M,e(p)))},{default:l(()=>[u(i,{key:"closeOther",disabled:e(y)||e(_)},{default:l(()=>[K(w(r.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),u(i,{key:"refresh"},{default:l(()=>[K(w(r.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:l(()=>[u(e(Bt),{class:"text-16px"})]),_:1})])]),default:l(()=>[(a(!0),v(L,null,ae(e(n),M=>(a(),k(G,{key:M.fullPath},{tab:l(()=>[u(D,{trigger:["contextmenu"]},{overlay:l(()=>[u(A,{onClick:F=>m(F,M.fullPath)},{default:l(()=>[u(i,{key:"closeCurrent",disabled:e(y)||e(p)!==M.fullPath},{default:l(()=>[K(w(r.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),u(i,{key:"closeLeft",disabled:e(y)||b(M.fullPath)},{default:l(()=>[K(w(r.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),u(i,{key:"closeRight",disabled:e(y)||C(M.fullPath)},{default:l(()=>[K(w(r.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),u(i,{key:"closeOther",disabled:e(y)||e(_)},{default:l(()=>[K(w(r.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),u(i,{key:"refresh",disabled:!e(y)},{default:l(()=>[K(w(r.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:l(()=>[S("div",null,[K(w(M.locale?r.$t(M.locale):M.title)+" ",1),e(p)===M.fullPath?(a(),v("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:Me(F=>e(o).refresh(M.fullPath),["stop"])},[u(e(Lt),{spin:M.loading},null,8,["spin"])],8,gn)):$("",!0),!M.affix&&e(n).length>1?(a(),v("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:Me(F=>e(o).close(M.fullPath),["stop"])},[u(e(ge))],8,bn)):$("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])}}}),$n={xl:1600,lg:1199,md:991,sm:767,xs:575};function Cn(){const s=fe(ut($n)),o=s.smaller("sm"),n=s.between("sm","md"),p=s.greater("md");return{breakpoints:s,isMobile:o,isPad:n,isDesktop:p}}const Tn=T({name:"ProLayout",__name:"index",setup(s){const o=Ue(),{layoutSetting:n}=oe(o),p=Te(),f=Ke(),{t:c}=Ze(),{selectedKeys:d,openKeys:h}=oe(f),{isMobile:m,isPad:y}=Cn();ie(y,C=>{C?o.toggleCollapsed(!0):o.toggleCollapsed(!1)});const b=g(()=>et(o.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return(C,_)=>{const r=Ot,t=At;return a(),v(L,null,[u(dn,Re({collapsed:e(n).collapsed,theme:e(n).theme,"menu-data":e(p).menuData},e(b),{"selected-keys":e(d),"open-keys":e(n).layout==="top"?[]:e(h),copyright:e(n).copyright,"is-mobile":e(m),logo:e(n).logo,title:e(n).title,"accordion-mode":e(n).accordionMode,"left-collapsed":e(n).leftCollapsed,"header-height":e(n).headerHeight,"onUpdate:openKeys":e(f).handleOpenKeys,"onUpdate:selectedKeys":e(f).handleSelectedKeys,"onUpdate:collapsed":e(o).toggleCollapsed}),{headerActions:l(()=>[u(r)]),contentPrefix:l(()=>[e(n).multiTab?(a(),k(vn,{key:0})):$("",!0)]),renderFooterLinks:l(()=>_[1]||(_[1]=[])),default:l(()=>[u(t,{class:"h-full w-full flex flex-col flex-1",content:e(n).watermark?e(n).title??"Antdv Pro":" "},{default:l(()=>[u(nt)]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),u(kn,Re({open:e(n).drawerVisible,"onUpdate:open":_[0]||(_[0]=i=>e(n).drawerVisible=i),t:e(c),theme:e(n).theme,"color-primary":e(n).colorPrimary,"color-weak":e(n).colorWeak,"color-gray":e(n).colorGray,"multi-tab":e(n).multiTab,"multi-tab-fixed":e(n).multiTabFixed,"animation-name-list":e(tt),"animation-name":e(n).animationName,"keep-alive":e(n).keepAlive,"accordion-mode":e(n).accordionMode,"left-collapsed":e(n).leftCollapsed,watermark:e(n).watermark},e(b),{"layout-setting":e(n),onSettingChange:e(o).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","color-gray","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])],64)}}});export{Tn as default};

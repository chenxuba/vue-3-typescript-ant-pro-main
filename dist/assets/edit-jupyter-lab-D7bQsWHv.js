const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./antd-BsIzK5uT.js","./vue-C8C4cLDH.js"])))=>i.map(i=>d[i]);
import{k as Ft,_ as Mt}from"./index-DLVpMS9m.js";import{d as At,a9 as Pt,am as qt,f,c as Vt,w as It,o as Nt,_,a1 as m,$ as r,k as a,a7 as l,ad as T,F as R,ah as me,G as c,a6 as ge,u as S,H as jt,aa as A,ac as Et,y as qe}from"./vue-C8C4cLDH.js";import{R as Ve,u as ye,g as Ie,a as $t,d as Jt,s as Bt,c as Ot}from"./RichTextEditor-Cbgd4Efe.js";import{e as Ht,f as Gt,a as Kt,b as _e}from"./index-DSGWGCOl.js";import{g as zt,a as Dt}from"./dictionary-C9x8Yr5D.js";import{H as L,j as Wt,t as Yt,x as be,c as Zt,a as Qt,m as Xt,u as ea,F as ta,b as aa,R as la,N as oa,d as sa}from"./useFileTree-D7h08RYb.js";import{ad as i,Z as na,Y as ra,K as ia,B as ua,I as da,$ as pa,a0 as va,a1 as ca,a2 as fa,a3 as ma,a7 as ga,a4 as ya,H as _a,J as ba,a5 as ha,D as wa,a6 as ka,f as Ta,e as Ca,T as Ua,t as xa,ab as Ra,ac as Sa,af as La}from"./antd-BsIzK5uT.js";const Fa={class:"edit-jupyter-lab-page"},Ma={class:"page-container"},Aa={class:"steps-section"},Pa={key:0},qa={class:"form-section"},Va={class:"flex items-top gap-16px"},Ia={class:"flex flex-col gap-12px"},Na={key:0,class:"image-preview"},ja=["src"],Ea={class:"flex items-top gap-16px"},$a={class:"flex flex-col gap-12px"},Ja={key:0,class:"image-preview"},Ba=["src"],Oa={class:"form-section"},Ha={key:1},Ga={class:"form-section repository-section"},Ka={class:"repository-top-bar flex items-center gap-16px justify-between"},za={class:"repository-url-group"},Da={class:"repository-main-area"},Wa={class:"repository-left"},Ya={class:"repository-switch-box flex items-center justify-between"},Za={class:"flex items-center gap-12px"},Qa={key:1,class:"repository-tips"},Xa={class:"repository-right"},el={key:1,class:"empty-area"},tl={key:2,class:"step-content evaluation-step"},al={class:"evaluation-section"},ll={class:"section-block"},ol={class:"block-content"},sl={style:{display:"flex","align-items":"center",gap:"8px"}},nl={key:0,class:"section-block"},rl={class:"block-header"},il={class:"header-actions"},ul={class:"block-content"},dl={class:"test-set-label"},pl={class:"tab-footer-buttons"},vl={class:"reference-section"},cl={class:"section-block"},fl={class:"block-content"},ml={class:"tab-footer-buttons"},gl={key:3,class:"step-content environment-step"},yl={class:"environment-section"},_l={class:"environment-container"},bl={class:"environment-left"},hl={class:"search-box"},wl={class:"environment-list"},kl=["onClick"],Tl={class:"environment-right"},Cl={class:"environment-config-header"},Ul={style:{display:"flex","align-items":"center",gap:"8px"}},xl={class:"page-footer"},se="http://101.200.13.193",Rl=At({name:"EditJupyterLab",__name:"edit-jupyter-lab",setup(Sl){L.registerLanguage("javascript",Wt),L.registerLanguage("typescript",Yt),L.registerLanguage("xml",be),L.registerLanguage("html",be),L.registerLanguage("vue",be),L.registerLanguage("css",Zt),L.registerLanguage("json",Qt),L.registerLanguage("markdown",Xt);const I=Pt(),Ne=qt(),C=f(null),F=f(null),b=f(0),P=f(!1),H=f(),he=f(),o=f({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1,enableCodeRepository:!1,repositoryType:"ä»£ç ä»“åº“",gitUrl:""}),G=f(""),K=f(""),z=f(!1),D=f(!1),we={name:[{required:!0,message:"è¯·è¾“å…¥åç§°",trigger:"blur"}],tag:[{required:!0,message:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾",trigger:"blur"}],fieldType:[{required:!0,message:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",trigger:"change"}],difficulty:[{required:!0,message:"è¯·é€‰æ‹©éš¾åº¦",trigger:"change"}],environment:[{required:!0,message:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",trigger:"change"}],secondType:[{required:!0,message:"è¯·é€‰æ‹©å°ç±»åˆ«",trigger:"change"}],classHour:[{required:!0,message:"è¯·è¾“å…¥å­¦æ—¶",trigger:"blur"}],topCover:[{required:!0,message:"è¯·ä¸Šä¼ é¡¶éƒ¨èƒŒæ™¯å›¾",trigger:"change"}],cover:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"change"}],authType:[{required:!0,message:"è¯·é€‰æ‹©åŸ¹è®­å…¬å¼€èŒƒå›´",trigger:"change"}]},je=[{label:"äººå·¥æ™ºèƒ½",value:1},{label:"å¤§æ•°æ®",value:2},{label:"äº‘è®¡ç®—",value:3},{label:"Webå¼€å‘",value:4}],ke=f([]),ne=f(!1),Ee=async()=>{try{ne.value=!0;const t=zt(3),e=await Dt({code:t});e&&e.list&&(ke.value=e.list.map(n=>({label:n.name,value:n.value})))}catch(t){console.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥ï¼š",t),i.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥")}finally{ne.value=!1}},$e=[{label:"Bwapp",value:1},{label:"CSS",value:2},{label:"DataTurks",value:3}],Je=[{label:"åˆ‡æ¢ä»“åº“",value:"åˆ‡æ¢ä»“åº“"},{label:"ä»£ç ä»“åº“",value:"ä»£ç ä»“åº“"},{label:"ç§å¯†ä»£ç ä»“åº“",value:"ç§å¯†ä»£ç ä»“åº“"}],q=f(!1),re=f(new Set),Be=[{title:"åŸºæœ¬ä¿¡æ¯"},{title:"ä»£ç ä»“åº“"},{title:"è¯„æµ‹è®¾ç½®"},{title:"å®éªŒç¯å¢ƒ"}],{fileTreeData:W,expandedKeys:ie,selectedFile:Oe,highlightedCode:He,dynamicFileContents:Ge,handleSelectFile:Ke,getNodePath:Te,addFileToTree:Ce,addFolderToTree:ze,handleRenameNode:De,handleCopyPath:We,loadRemoteFileTree:Ye,loadChildrenData:Ze,getNodePathFromMap:ue}=ea(),N=f(!1),Y=f(!1),Z=f(!1),j=f("/"),E=f("/"),Ue=f(null),Q=f("/"),xe=f("settings"),v=f({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:"",scoreRule:1,evaluationSetting:"é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹",testSets:[]}),k=f({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),$=f(!1),J=f(!1);let de=1;const Qe=()=>{v.value.testSets.push({id:de++,arg:"",answer:"",select:1})},Xe=t=>{if(v.value.testSets.length===1){i.warning("è‡³å°‘ä¿ç•™ä¸€ä¸ªæµ‹è¯•é›†");return}v.value.testSets=v.value.testSets.filter(e=>e.id!==t),i.success("åˆ é™¤æˆåŠŸ")},et=(t,e)=>{t.select=e?1:2},X=f([]),tt=t=>{const{onSuccess:e}=t;setTimeout(()=>{e("ok")},0)},at=async t=>{const{fileList:e}=t,n=e.filter(u=>u.status==="uploading"||u.status==="done"||!u.status);X.value=n;const d=n.filter(u=>u.originFileObj&&!u.url).map(async u=>{try{const p=await ye(u.originFileObj);return u.url=p,p}catch(p){return console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥:",p),i.error(`æ–‡ä»¶ ${u.name} ä¸Šä¼ å¤±è´¥`),null}});if(d.length>0){const p=(await Promise.all(d)).filter(h=>h!==null);if(p.length>0){const h=n.filter(g=>g.url).map(g=>g.url).join(",");v.value.testValidateFiles=h,i.success(`æˆåŠŸä¸Šä¼  ${p.length} ä¸ªæ–‡ä»¶`)}}},ee=[{id:"1",name:"Python3/JupyterLab",value:"1"},{id:"2",name:"R4.2/Jupyterlab",value:"2"},{id:"3",name:"Python3-tensorflow2.6/JupyterLab",value:"3"},{id:"4",name:"Python3.7/Jupyterlab",value:"4"},{id:"5",name:"Python3.7-TensorFlow1.13/JupyterLab",value:"5"},{id:"6",name:"Python3.8/JupyterLab",value:"6"},{id:"7",name:"Python3.10/Jupyterlab",value:"7"},{id:"8",name:"Python3.11/JupyterLab",value:"8"},{id:"9",name:"Python3.10-ultralytics/JupyterLab",value:"9"}],te=f("1"),ae=f(""),lt=Vt(()=>ae.value?ee.filter(t=>t.name.toLowerCase().includes(ae.value.toLowerCase())):ee),w=f({dockerImage:"1",secondType:"Css",timeLimitM:""}),ot=t=>{te.value=t;const e=ee.find(n=>n.value===t);e&&(w.value.dockerImage=e.id)},st=async()=>{if(!C.value){i.error("ç¼ºå°‘é¡¹ç›®ID"),I.back();return}try{P.value=!0;const t=await Ht({id:C.value});o.value={name:t.name||"",tag:t.tag||"",fieldType:t.fieldType,difficulty:t.difficulty||1,environment:t.environment,secondType:t.secondType,classHour:t.classHour||"",topCover:t.topCover||"",cover:t.cover||"",description:t.description||"",showTaskRequire:t.showTaskRequire===1,authType:t.authType||1,enableCodeRepository:t.gitUrl?!0:t.enableCodeRepository||!1,repositoryType:t.repositoryType||"ä»£ç ä»“åº“",gitUrl:t.gitUrl||""},t.topCover&&(G.value=se+t.topCover),t.cover&&(K.value=se+t.cover),t.gitUrl&&(q.value=!0),await nt()}catch(t){console.error("è·å–é¡¹ç›®è¯¦æƒ…å¤±è´¥ï¼š",t),i.error(t.message||"è·å–é¡¹ç›®è¯¦æƒ…å¤±è´¥"),I.back()}finally{P.value=!1}},nt=async()=>{if(C.value)try{const t=await Gt({projectId:C.value});let e=[];if(Array.isArray(t)?e=t:t&&typeof t=="object"&&(e=t.list||t.data||t.tasks||[]),e&&e.length>0){const n=e[0];if(n){if(F.value=n.taskId,v.value={openTestValidate:n.openTestValidate||1,testValidateFiles:n.testValidateFiles||"",testValidateSh:n.testValidateSh||"",timeLimitM:n.timeLimitM||"",scoreRule:n.scoreRule||1,evaluationSetting:"é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹",testSets:[]},n.testContent)try{const d=JSON.parse(n.testContent);v.value.testSets=d.map((u,p)=>({id:p+1,arg:u.arg||"",answer:u.answer||"",select:u.select||1})),de=v.value.testSets.length+1}catch(d){console.error("è§£ææµ‹è¯•é›†å¤±è´¥:",d)}if(v.value.testSets.length===0&&(v.value.testSets=[{id:1,arg:"",answer:"",select:1},{id:2,arg:"",answer:"",select:1}],de=3),n.testValidateFiles&&(X.value=n.testValidateFiles.split(",").map((d,u)=>({uid:`${u}`,name:d.split("/").pop()||`æ–‡ä»¶${u+1}`,status:"done",url:d,response:d}))),k.value={showAnswer:n.showAnswer||1,prohibitCopyAnswer:n.prohibitCopyAnswer||1,referenceAnswer:n.referenceAnswer||""},n.dockerImage){const d=ee.find(u=>u.id===String(n.dockerImage));d&&(te.value=d.value),w.value.dockerImage=String(n.dockerImage)}n.secondType&&(w.value.secondType=n.secondType),n.timeLimitM&&(w.value.timeLimitM=n.timeLimitM),$.value=!0,J.value=!0}}}catch(t){console.error("è·å–ä»»åŠ¡åˆ—è¡¨å¤±è´¥ï¼š",t)}},rt=async t=>{var d;if(!(t.size/1024/1024<12))return i.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return i.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{z.value=!0;const u=await ye(t);G.value=se+u,o.value.topCover=u,(d=H.value)==null||d.validateFields(["topCover"]),i.success("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ æˆåŠŸ")}catch{i.error("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ å¤±è´¥")}finally{z.value=!1}return!1},it=async t=>{var d;if(!(t.size/1024/1024<12))return i.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return i.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{D.value=!0;const u=await ye(t);K.value=se+u,o.value.cover=u,(d=H.value)==null||d.validateFields(["cover"]),i.success("å°é¢å›¾ä¸Šä¼ æˆåŠŸ")}catch{i.error("å°é¢å›¾ä¸Šä¼ å¤±è´¥")}finally{D.value=!1}return!1},ut=t=>{(typeof t=="boolean"?t:!!t)?N.value=!0:o.value.enableCodeRepository=!1},le=async()=>{try{const t=i.loading("æ­£åœ¨æŸ¥è¯¢ä»“åº“æ–‡ä»¶...",0),e=await Ie(o.value.gitUrl,"");Ye(e),re.value.clear(),t(),i.success("ä»“åº“æ–‡ä»¶æŸ¥è¯¢æˆåŠŸ"),console.log("æŸ¥è¯¢ä»“åº“åœ°å€ï¼š",o.value.gitUrl),console.log("è·å–åˆ°çš„æ–‡ä»¶åˆ—è¡¨ï¼š",e)}catch(t){i.error(t.message||"ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥"),console.error("ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥ï¼š",t)}},dt=async()=>{if(!o.value.gitUrl||!o.value.gitUrl.trim()){i.error("è¯·å…ˆé…ç½®ä»“åº“åœ°å€"),Re();return}o.value.enableCodeRepository=!0,N.value=!1,q.value=!0,await le()},Re=()=>{o.value.enableCodeRepository=!1,N.value=!1};It(()=>o.value.repositoryType,t=>{t==="åˆ‡æ¢ä»“åº“"&&o.value.enableCodeRepository&&(q.value=!1,i.info("å·²è§£é”ä»“åº“åœ°å€ï¼Œè¯·é‡æ–°è¾“å…¥"),qe(()=>{o.value.repositoryType="ä»£ç ä»“åº“"}))});const pt=()=>{var t;o.value.enableCodeRepository&&!q.value&&((t=o.value.gitUrl)!=null&&t.trim())&&(q.value=!0,le())},vt=async(t,e)=>{const{expanded:n,node:d}=e;if(n&&!d.isLeaf){const u=String(d.key);if(re.value.has(u)){console.log("æ–‡ä»¶å¤¹å·²åŠ è½½ï¼Œè·³è¿‡ï¼š",u);return}try{const p=ue(u);console.log("åŠ è½½æ–‡ä»¶å¤¹ï¼š",p,"èŠ‚ç‚¹key:",u);const h=i.loading(`æ­£åœ¨åŠ è½½ ${d.title}...`,0),g=await Ie(o.value.gitUrl,p);Ze(u,g),re.value.add(u),h(),console.log("æ–‡ä»¶å¤¹åŠ è½½æˆåŠŸï¼š",p,g)}catch(p){i.error(p.message||"åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥"),console.error("åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥ï¼š",p)}}},ct=t=>{switch(String(t.key)){case"newFile":Le();break;case"newFolder":Fe();break;case"upload":Se("/");break}},ft=(t,e)=>{const n=String(t.key),d=ue(e.key)||Te(e.key);switch(n){case"newFile":Le(d);break;case"newFolder":Fe(d);break;case"upload":Se(d);break;case"rename":De(e);break;case"copyPath":We(e);break;case"delete":bt(e);break}},Se=t=>{var e;Q.value=t,(e=Ue.value)==null||e.click()},mt=async t=>{var d;const e=t.target,n=(d=e.files)==null?void 0:d[0];if(n)try{let u=Q.value==="/"?"":Q.value.replace(/^\//,"");const p=i.loading(`æ­£åœ¨ä¸Šä¼  ${n.name}...`,0);await $t(n,o.value.gitUrl,u);const h=new FileReader;h.onload=g=>{var y;const U=(y=g.target)==null?void 0:y.result;Ce(n.name,U,Q.value)},h.readAsText(n),p(),i.success(`æ–‡ä»¶ ${n.name} ä¸Šä¼ æˆåŠŸ`),console.log("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼š",{fileName:n.name,path:u})}catch(u){i.error(u.message||"æ–‡ä»¶ä¸Šä¼ å¤±è´¥"),console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼š",u)}finally{e&&(e.value="")}},Le=(t="/")=>{Y.value=!0,j.value=t},gt=async t=>{try{let e=j.value==="/"?"":j.value.replace(/^\//,"");const n=i.loading("æ­£åœ¨ä¿å­˜æ–‡ä»¶...",0);await Bt({fileContent:t.fileContent,fileName:t.fileName,gitUrl:o.value.gitUrl,path:e,commit:t.commitMessage}),Ce(t.fileName,t.fileContent,j.value),n(),i.success("æ–‡ä»¶åˆ›å»ºæˆåŠŸ"),Y.value=!1,console.log("æ–‡ä»¶ä¿å­˜æˆåŠŸï¼š",{fileName:t.fileName,path:e})}catch(e){i.error(e.message||"æ–‡ä»¶åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶åˆ›å»ºå¤±è´¥ï¼š",e)}},Fe=(t="/")=>{Z.value=!0,E.value=t},yt=async t=>{try{let e=E.value==="/"?t.folderName:`${E.value.replace(/^\//,"")}/${t.folderName}`;const n=i.loading("æ­£åœ¨åˆ›å»ºæ–‡ä»¶å¤¹...",0);await Ot({commit:t.commitMessage,gitUrl:o.value.gitUrl,path:e}),ze(t.folderName,E.value),n(),i.success("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸ"),Z.value=!1,console.log("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸï¼š",{folderName:t.folderName,path:e})}catch(e){i.error(e.message||"æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥ï¼š",e)}},_t=t=>{const e=n=>{const d=n.findIndex(u=>u.key===t);if(d!==-1)return n.splice(d,1),!0;for(const u of n)if(u.children&&e(u.children))return!0;return!1};e(W.value)},bt=async t=>{const e=t.children!==void 0||t.isLeaf===!1,n=t.title,u=(ue(t.key)||Te(t.key)).split("/");u.pop();const p=u.join("/")||"",{Modal:h}=await Ft(async()=>{const{Modal:g}=await import("./antd-BsIzK5uT.js").then(U=>U.au);return{Modal:g}},__vite__mapDeps([0,1]),import.meta.url);h.confirm({title:"ç¡®è®¤åˆ é™¤",content:`ç¡®å®šè¦åˆ é™¤${e?"æ–‡ä»¶å¤¹":"æ–‡ä»¶"} "${n}" å—ï¼Ÿ${e?"æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹ä¹Ÿä¼šè¢«åˆ é™¤ã€‚":""}`,okText:"ç¡®å®š",cancelText:"å–æ¶ˆ",okType:"danger",onOk:async()=>{let g=null;try{g=i.loading("æ­£åœ¨åˆ é™¤...",0),await Jt({fileName:n,gitUrl:o.value.gitUrl,path:p}),_t(t.key),g(),i.success("åˆ é™¤æˆåŠŸ"),console.log("åˆ é™¤æˆåŠŸï¼š",{fileName:n,path:p})}catch(U){g&&g(),i.error(U.message||"åˆ é™¤å¤±è´¥"),console.error("åˆ é™¤å¤±è´¥ï¼š",U)}}})},B=()=>{qe(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const t=document.querySelector(".page-content");t&&(t.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(d=>{d.scrollTop>0&&(d.scrollTop=0)})})},ht=async()=>{b.value>0?(b.value--,B(),b.value===1&&o.value.gitUrl&&o.value.enableCodeRepository&&W.value.length===0&&await le()):I.back()},wt=async()=>{var t,e;if(b.value===0)try{await Promise.all([(t=H.value)==null?void 0:t.validate(),(e=he.value)==null?void 0:e.validate()]),b.value=1,B(),o.value.gitUrl&&o.value.enableCodeRepository&&W.value.length===0&&await le()}catch{i.error("è¯·å®Œå–„å¿…å¡«ä¿¡æ¯"),B()}else if(b.value===1){if(o.value.enableCodeRepository&&(!o.value.gitUrl||o.value.gitUrl.trim()==="")){i.error("è¯·è¾“å…¥ä»“åº“åœ°å€");return}await Me(!1),b.value=2,B()}else if(b.value===2){if(!$.value){i.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†è¿›è¡Œä¸‹ä¸€æ­¥");return}if(!J.value){i.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†è¿›è¡Œä¸‹ä¸€æ­¥");return}b.value=3,B()}else b.value===3&&await Ct()},Me=async(t=!1)=>{try{P.value=!0;const e={id:C.value,projectType:3,environment:o.value.environment,name:o.value.name,tag:o.value.tag,fieldType:o.value.fieldType,difficulty:o.value.difficulty,classHour:o.value.classHour,topCover:o.value.topCover,cover:o.value.cover,description:o.value.description,showTaskRequire:o.value.showTaskRequire?1:2,authType:o.value.authType,enableCodeRepository:o.value.enableCodeRepository,secondType:o.value.secondType};o.value.enableCodeRepository&&(e.repositoryType=o.value.repositoryType,e.gitUrl=o.value.gitUrl),await Kt(e),t?(i.success("é¡¹ç›®æ›´æ–°æˆåŠŸï¼"),setTimeout(()=>{I.push("/dashboard/analysis")},500)):i.success("ä¿å­˜æˆåŠŸï¼")}catch(e){throw console.error("æ›´æ–°å¤±è´¥ï¼š",e),i.error(e.message||"é¡¹ç›®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),e}finally{P.value=!1}},kt=async()=>{try{if(!F.value){i.error("ä»»åŠ¡IDä¸å­˜åœ¨");return}if(v.value.openTestValidate===1){if(!v.value.testValidateFiles||v.value.testValidateFiles.trim()===""){i.error("è¯·ä¸Šä¼ è¯„æµ‹æ–‡ä»¶");return}if(!v.value.testValidateSh||v.value.testValidateSh.trim()===""){i.error("è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤");return}if(!v.value.timeLimitM){i.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!v.value.testSets||v.value.testSets.length===0){i.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const n=v.value.testSets.filter(d=>d.select===1);if(n.length===0){i.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let d=0;d<n.length;d++){const u=n[d];if(!u.arg||u.arg.trim()===""){i.error(`æµ‹è¯•é›†${d+1}çš„è¾“å…¥å†…å®¹ä¸èƒ½ä¸ºç©º`);return}if(!u.answer||u.answer.trim()===""){i.error(`æµ‹è¯•é›†${d+1}çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º`);return}}}const t=v.value.testSets.map(n=>({arg:n.arg,answer:n.answer,select:n.select})),e={taskId:F.value,projectId:C.value,openTestValidate:v.value.openTestValidate,testValidateFiles:v.value.testValidateFiles,testValidateSh:v.value.testValidateSh,timeLimitM:v.value.timeLimitM,scoreRule:v.value.scoreRule,testContent:JSON.stringify(t)};await _e(e),$.value=!0,i.success("è¯„æµ‹è®¾ç½®ä¿å­˜æˆåŠŸï¼")}catch(t){console.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼š",t),i.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Tt=async()=>{try{if(!F.value){i.error("ä»»åŠ¡IDä¸å­˜åœ¨");return}if(!k.value.referenceAnswer||k.value.referenceAnswer.trim()===""){i.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}if(!k.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){i.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}const e={taskId:F.value,projectId:C.value,showAnswer:k.value.showAnswer,prohibitCopyAnswer:k.value.prohibitCopyAnswer,referenceAnswer:k.value.referenceAnswer};await _e(e),J.value=!0,i.success("å‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(t){console.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",t),i.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Ct=async()=>{try{if(!C.value||!F.value){i.error("é¡¹ç›®IDæˆ–ä»»åŠ¡IDä¸å­˜åœ¨");return}if(!$.value){i.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†å®Œæˆæ›´æ–°");return}if(!J.value){i.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†å®Œæˆæ›´æ–°");return}if(!w.value.dockerImage){i.error("è¯·é€‰æ‹©å®éªŒç¯å¢ƒ");return}if(!w.value.timeLimitM){i.error("è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿");return}await _e({taskId:F.value,projectId:C.value,dockerImage:w.value.dockerImage,secondType:w.value.secondType,timeLimitM:w.value.timeLimitM}),await Me(!0)}catch(t){console.error("å®Œæˆæ›´æ–°å¤±è´¥ï¼š",t),i.error("å®Œæˆæ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•")}};return Nt(async()=>{await Ee();const t=Ne.query.id;t?(C.value=Number(t),st()):(i.error("ç¼ºå°‘é¡¹ç›®ID"),I.back())}),(t,e)=>{const n=ra,d=na,u=da,p=ua,h=va,g=ca,U=pa,y=ma,M=fa,pe=ga,x=_a,ve=ya,Ae=ba,O=ia,Ut=ha,ce=Ca,xt=Ta,Rt=wa,Pe=xa,St=Ua,fe=Sa,Lt=La;return m(),_("div",Fa,[e[72]||(e[72]=r("div",{class:"page-header"},[r("h2",null,"ç¼–è¾‘JupyterLabç¯å¢ƒå®è®­é¡¹ç›®")],-1)),a(Lt,{spinning:P.value},{default:l(()=>[r("div",Ma,[r("div",Aa,[a(d,{current:b.value,class:"custom-steps"},{default:l(()=>[(m(),_(R,null,me(Be,(s,oe)=>a(n,{key:oe,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),b.value===0?(m(),_("div",Pa,[e[39]||(e[39]=r("div",{class:"section-title"},[r("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),r("div",qa,[a(O,{ref_key:"formRef",ref:H,model:o.value,rules:we,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(p,{label:"åç§°",name:"name",required:""},{default:l(()=>[a(u,{value:o.value.name,"onUpdate:value":e[0]||(e[0]=s=>o.value.name=s),placeholder:"è¯·è¾“å…¥åç§°"},null,8,["value"])]),_:1}),a(U,null,{default:l(()=>[a(h,{span:12},{default:l(()=>[a(p,{label:"æŠ€èƒ½æ ‡ç­¾",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a(u,{value:o.value.tag,"onUpdate:value":e[1]||(e[1]=s=>o.value.tag=s),placeholder:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾"},null,8,["value"])]),_:1})]),_:1}),a(h,{span:12},{default:l(()=>[a(p,{label:"é¢†åŸŸç±»åˆ«",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a(g,{value:o.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>o.value.fieldType=s),placeholder:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",options:je},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(p,{label:"éš¾åº¦",name:"difficulty",required:""},{default:l(()=>[a(M,{value:o.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>o.value.difficulty=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[29]||(e[29]=[c("ç®€å•")])),_:1,__:[29]}),a(y,{value:2},{default:l(()=>e[30]||(e[30]=[c("é€‚ä¸­")])),_:1,__:[30]}),a(y,{value:3},{default:l(()=>e[31]||(e[31]=[c("å›°éš¾")])),_:1,__:[31]})]),_:1},8,["value"])]),_:1}),a(U,null,{default:l(()=>[a(h,{span:12},{default:l(()=>[a(p,{label:"å®éªŒç¯å¢ƒ",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a(g,{value:o.value.environment,"onUpdate:value":e[4]||(e[4]=s=>o.value.environment=s),placeholder:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",options:ke.value,loading:ne.value},null,8,["value","options","loading"])]),_:1})]),_:1}),a(h,{span:12},{default:l(()=>[a(p,{label:"å°ç±»åˆ«",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a(g,{value:o.value.secondType,"onUpdate:value":e[5]||(e[5]=s=>o.value.secondType=s),placeholder:"è¯·é€‰æ‹©å°ç±»åˆ«",options:$e},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(p,{label:"å­¦æ—¶",name:"classHour",required:""},{default:l(()=>[a(pe,{min:0,class:"w-full",value:o.value.classHour,"onUpdate:value":e[6]||(e[6]=s=>o.value.classHour=s),placeholder:"è¯·è¾“å…¥å­¦æ—¶"},null,8,["value"])]),_:1}),a(p,{label:"é¡¶éƒ¨èƒŒæ™¯å›¾",name:"topCover",required:""},{default:l(()=>[r("div",Va,[r("div",Ia,[a(ve,{"before-upload":rt,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(x,{loading:z.value},{default:l(()=>[z.value?(m(),_(R,{key:1},[c("ä¸Šä¼ ä¸­...")],64)):(m(),_(R,{key:0},[c("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),G.value?(m(),_("div",Na,[r("img",{src:G.value,alt:"é¡¶éƒ¨èƒŒæ™¯å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,ja)])):T("",!0)]),e[32]||(e[32]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),a(p,{label:"å°é¢å›¾",name:"cover",required:""},{default:l(()=>[r("div",Ea,[r("div",$a,[a(ve,{"before-upload":it,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(x,{loading:D.value},{default:l(()=>[D.value?(m(),_(R,{key:1},[c("ä¸Šä¼ ä¸­...")],64)):(m(),_(R,{key:0},[c("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),K.value?(m(),_("div",Ja,[r("img",{src:K.value,alt:"å°é¢å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Ba)])):T("",!0)]),e[33]||(e[33]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),a(p,{label:"ç®€ä»‹",name:"description"},{default:l(()=>[a(Ve,{modelValue:o.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.description=s)},null,8,["modelValue"])]),_:1}),a(p,{label:"ä»»åŠ¡è¦æ±‚",name:"showTaskRequire"},{default:l(()=>[a(Ae,{checked:o.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=s=>o.value.showTaskRequire=s)},{default:l(()=>e[34]||(e[34]=[c(" æ˜¾ç¤ºä»»åŠ¡è¦æ±‚ï¼ˆå‹¾é€‰åï¼Œå°†å¸®ä½œä¸ºä»»åŠ¡è¦æ±‚æ˜¾ç¤ºåœ¨ä»»åŠ¡é¡¹ç›®æ”¿ç­–é¢ï¼‰ ")])),_:1,__:[34]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[40]||(e[40]=r("div",{class:"section-title"},[r("h3",null,"åŸ¹è®­å…¬å¼€èŒƒå›´")],-1)),r("div",Oa,[a(O,{ref_key:"trainingScopeFormRef",ref:he,model:o.value,rules:we,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(p,{label:"åŸ¹è®­å…¬å¼€èŒƒå›´",name:"authType",required:""},{default:l(()=>[a(M,{value:o.value.authType,"onUpdate:value":e[9]||(e[9]=s=>o.value.authType=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[35]||(e[35]=[c("å®Œå…¨å…¬å¼€")])),_:1,__:[35]}),a(y,{value:2},{default:l(()=>e[36]||(e[36]=[c("å…¨é™¢å…¬å¼€")])),_:1,__:[36]}),a(y,{value:3},{default:l(()=>e[37]||(e[37]=[c("æœ¬å•ä½å…¬å¼€")])),_:1,__:[37]}),a(y,{value:4},{default:l(()=>e[38]||(e[38]=[c("ä¸å…¬å¼€")])),_:1,__:[38]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):T("",!0),b.value===1?(m(),_("div",Ha,[r("div",Ga,[r("div",Ka,[a(g,{value:o.value.repositoryType,"onUpdate:value":e[10]||(e[10]=s=>o.value.repositoryType=s),options:Je,class:"repository-type-select"},null,8,["value"]),r("div",za,[e[41]||(e[41]=r("span",{class:"url-label"},"ä»“åº“åœ°å€ï¼š",-1)),a(u,{value:o.value.gitUrl,"onUpdate:value":e[11]||(e[11]=s=>o.value.gitUrl=s),placeholder:"è¯·è¾“å…¥ä»“åº“åœ°å€",class:"url-input",disabled:q.value,onBlur:pt},null,8,["value","disabled"])])]),r("div",Da,[r("div",Wa,[r("div",Ya,[r("div",Za,[e[42]||(e[42]=r("span",{class:"switch-label"},"ä»£ç ä»“åº“",-1)),a(Ut,{checked:o.value.enableCodeRepository,disabled:o.value.enableCodeRepository,onChange:ut},null,8,["checked","disabled"])]),o.value.enableCodeRepository?(m(),ge(Rt,{key:0},{overlay:l(()=>[a(xt,{onClick:ct},{default:l(()=>[a(ce,{key:"newFile"},{default:l(()=>e[43]||(e[43]=[c("æ–°å»ºæ–‡ä»¶")])),_:1,__:[43]}),a(ce,{key:"newFolder"},{default:l(()=>e[44]||(e[44]=[c("æ–°å»ºæ–‡ä»¶å¤¹")])),_:1,__:[44]}),a(ce,{key:"upload"},{default:l(()=>e[45]||(e[45]=[c("ä¸Šä¼ ")])),_:1,__:[45]})]),_:1})]),default:l(()=>[a(x,{type:"primary",size:"small"},{default:l(()=>[a(S(ka)),e[46]||(e[46]=c(" æ–°å»º "))]),_:1,__:[46]})]),_:1})):T("",!0)]),o.value.enableCodeRepository?(m(),ge(ta,{key:0,"file-tree-data":S(W),"expanded-keys":S(ie),"onUpdate:expandedKeys":e[12]||(e[12]=s=>jt(ie)?ie.value=s:null),onSelect:S(Ke),onMenuClick:ft,onExpand:vt},null,8,["file-tree-data","expanded-keys","onSelect"])):T("",!0),o.value.enableCodeRepository?(m(),_("div",Qa,e[47]||(e[47]=[r("div",{class:"tips-title"},"æç¤ºï¼š",-1),r("div",{class:"tips-content"}," æ­¤å¤„å­˜æ”¾æœ¬å®è®­æ‰€éœ€çš„æ‰€æœ‰ä»£ç ç­‰ç›¸å…³æ–‡ä»¶ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼š ",-1),r("div",{class:"tips-list"},[c(" 1ã€"),r("a",{href:"#",class:"tips-link"},"Giteeå®¢æˆ·ç«¯"),c(" ä¸Šä¼ å·²æœ‰æ–‡ä»¶æ¥å¼€å§‹ä½¿ç”¨ã€‚ ")],-1),r("div",{class:"tips-list"}," 2ã€ç›´æ¥åœ¨å¹³å°ä¸Šåˆ›å»ºæ–‡ä»¶ç›®å½•ä»¥åŠç›¸å…³ä»£ç æ–‡ä»¶ã€‚ ",-1)]))):T("",!0)]),r("div",Xa,[o.value.enableCodeRepository?(m(),ge(aa,{key:0,"selected-file":S(Oe),"highlighted-code":S(He),"dynamic-file-contents":S(Ge)},null,8,["selected-file","highlighted-code","dynamic-file-contents"])):(m(),_("div",el," åœ¨å·¦ä¾§ä»£ç ä»“åº“åŒºåŸŸç‚¹å‡»ç›®å½•æ‰“å¼€æ–‡ä»¶ "))])])])])):T("",!0),b.value===2?(m(),_("div",tl,[a(St,{activeKey:xe.value,"onUpdate:activeKey":e[22]||(e[22]=s=>xe.value=s),class:"evaluation-tabs"},{default:l(()=>[a(Pe,{key:"settings",tab:"è¯„æµ‹è®¾ç½®"},{default:l(()=>[r("div",al,[r("div",ll,[e[58]||(e[58]=r("div",{class:"block-header"},"è¯„æµ‹æ–‡ä»¶",-1)),r("div",ol,[a(O,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(p,{label:"æ˜¯å¦å¯ç”¨è¯„æµ‹åŠŸèƒ½",required:""},{default:l(()=>[a(M,{value:v.value.openTestValidate,"onUpdate:value":e[13]||(e[13]=s=>v.value.openTestValidate=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[48]||(e[48]=[c("æ˜¯")])),_:1,__:[48]}),a(y,{value:2},{default:l(()=>e[49]||(e[49]=[c("å¦")])),_:1,__:[49]})]),_:1},8,["value"])]),_:1}),v.value.openTestValidate===1?(m(),_(R,{key:0},[a(p,{label:"è¯„æµ‹æ–‡ä»¶",required:""},{default:l(()=>[a(ve,{"file-list":X.value,"onUpdate:fileList":e[14]||(e[14]=s=>X.value=s),"custom-request":tt,onChange:at,"max-count":10},{default:l(()=>[a(x,{type:"primary"},{default:l(()=>e[50]||(e[50]=[c("ç‚¹å‡»ä¸Šä¼ ")])),_:1,__:[50]})]),_:1},8,["file-list"]),e[51]||(e[51]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡500Mã€‚ ",-1))]),_:1,__:[51]}),a(p,{label:"è¯„æµ‹æ‰§è¡Œå‘½ä»¤",required:""},{default:l(()=>[a(u,{value:v.value.testValidateSh,"onUpdate:value":e[15]||(e[15]=s=>v.value.testValidateSh=s),placeholder:"è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼špython main.py"},null,8,["value"]),e[52]||(e[52]=r("div",{class:"upload-hint"}," ï¼ˆæ‰§è¡Œè¯„æµ‹æ–‡ä»¶çš„å‘½ä»¤ï¼Œå¦‚ï¼špython main.pyã€node index.jsã€java Main ç­‰ï¼‰ ",-1))]),_:1,__:[52]}),a(p,{label:"è¯„æµ‹æ—¶é•¿é™åˆ¶",required:""},{default:l(()=>[r("div",sl,[a(pe,{value:v.value.timeLimitM,"onUpdate:value":e[16]||(e[16]=s=>v.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",style:{width:"580px"}},null,8,["value"]),e[53]||(e[53]=r("span",null,"åˆ†é’Ÿ",-1))])]),_:1}),a(p,{label:"ç³»ç»Ÿè¯„åˆ†è§„åˆ™"},{default:l(()=>[a(M,{value:v.value.scoreRule,"onUpdate:value":e[17]||(e[17]=s=>v.value.scoreRule=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[54]||(e[54]=[c(" é€šè¿‡å…¨éƒ¨æµ‹è¯•é›†ï¼ˆä»…å½“æ‰€æœ‰æµ‹è¯•é›†éƒ½æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[54]}),a(y,{value:2},{default:l(()=>e[55]||(e[55]=[c(" é€šè¿‡éƒ¨åˆ†æµ‹è¯•é›†ï¼ˆä»»æ„ä¸€ä¸ªæµ‹è¯•é›†æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[55]})]),_:1},8,["value"])]),_:1}),a(p,{label:"è¯„æµ‹è®¾ç½®",required:""},{default:l(()=>[a(M,{value:v.value.evaluationSetting,"onUpdate:value":e[18]||(e[18]=s=>v.value.evaluationSetting=s),class:"custom-radio"},{default:l(()=>[a(y,{value:"é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹"},{default:l(()=>e[56]||(e[56]=[c(" é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æ‰€æœ‰éç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[56]}),a(y,{value:"é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹"},{default:l(()=>e[57]||(e[57]=[c(" é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æŒ‡å®šéç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[57]})]),_:1},8,["value"])]),_:1})],64)):T("",!0)]),_:1})])]),v.value.openTestValidate===1?(m(),_("div",nl,[r("div",rl,[e[60]||(e[60]=r("span",null,"æµ‹è¯•é›†",-1)),r("div",il,[a(x,{onClick:Qe},{default:l(()=>e[59]||(e[59]=[c("æ–°å¢æµ‹è¯•é›†")])),_:1,__:[59]})])]),r("div",ul,[(m(!0),_(R,null,me(v.value.testSets,(s,oe)=>(m(),_("div",{key:s.id,class:"test-set-item"},[a(Ae,{checked:s.select===1,onChange:V=>et(s,V.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),r("span",dl,"æµ‹è¯•é›†"+A(oe+1),1),a(u,{value:s.arg,"onUpdate:value":V=>s.arg=V,placeholder:"è¯·è¾“å…¥è¾“å…¥å†…å®¹",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(u,{value:s.answer,"onUpdate:value":V=>s.answer=V,placeholder:"è¯·è¾“å…¥æœŸæœ›è¾“å‡º",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(S(Ra),{class:"delete-test-set-icon",onClick:V=>Xe(s.id)},null,8,["onClick"])]))),128))])])):T("",!0),r("div",pl,[a(x,{type:"primary",onClick:kt},{default:l(()=>[c(A($.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1}),a(Pe,{key:"reference",tab:"å‚è€ƒç­”æ¡ˆ"},{default:l(()=>[r("div",vl,[r("div",cl,[e[65]||(e[65]=r("div",{class:"block-header"},"å‚è€ƒç­”æ¡ˆ",-1)),r("div",fl,[a(O,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(p,{label:"æ˜¯å¦æ˜¾ç¤ºå‚è€ƒç­”æ¡ˆæ¨¡å—",required:""},{default:l(()=>[a(M,{value:k.value.showAnswer,"onUpdate:value":e[19]||(e[19]=s=>k.value.showAnswer=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[61]||(e[61]=[c("æ˜¯")])),_:1,__:[61]}),a(y,{value:2},{default:l(()=>e[62]||(e[62]=[c("å¦")])),_:1,__:[62]})]),_:1},8,["value"])]),_:1}),a(p,{label:"æ˜¯å¦ç¦æ­¢å¤åˆ¶å‚è€ƒç­”æ¡ˆ",required:""},{default:l(()=>[a(M,{value:k.value.prohibitCopyAnswer,"onUpdate:value":e[20]||(e[20]=s=>k.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:l(()=>[a(y,{value:1},{default:l(()=>e[63]||(e[63]=[c("æ˜¯")])),_:1,__:[63]}),a(y,{value:2},{default:l(()=>e[64]||(e[64]=[c("å¦")])),_:1,__:[64]})]),_:1},8,["value"])]),_:1}),a(p,{label:"å‚è€ƒç­”æ¡ˆ",required:""},{default:l(()=>[a(Ve,{modelValue:k.value.referenceAnswer,"onUpdate:modelValue":e[21]||(e[21]=s=>k.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",ml,[a(x,{type:"primary",onClick:Tt},{default:l(()=>[c(A(J.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):T("",!0),b.value===3?(m(),_("div",gl,[r("div",yl,[e[71]||(e[71]=r("h3",{class:"section-main-title"},"å®éªŒç¯å¢ƒ",-1)),r("div",_l,[r("div",bl,[r("div",hl,[a(u,{value:ae.value,"onUpdate:value":e[23]||(e[23]=s=>ae.value=s),placeholder:"æœç´¢éœ€è¦çš„å®éªŒç¯å¢ƒ","allow-clear":""},{suffix:l(()=>e[66]||(e[66]=[r("span",{class:"search-icon"},"ğŸ”",-1)])),_:1},8,["value"])]),r("div",wl,[(m(!0),_(R,null,me(lt.value,s=>(m(),_("div",{key:s.id,class:Et(["environment-item",{active:te.value===s.value}]),onClick:oe=>ot(s.value)},A(s.name),11,kl))),128))])]),r("div",Tl,[r("div",Cl," å®éªŒç¯å¢ƒ: "+A(te.value),1),a(O,{model:w.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:16}},{default:l(()=>[a(p,{label:"é™„å¸¦ç¯å¢ƒ"},{default:l(()=>[a(g,{value:w.value.secondType,"onUpdate:value":e[24]||(e[24]=s=>w.value.secondType=s),placeholder:"è¯·é€‰æ‹©é™„å¸¦ç¯å¢ƒ"},{default:l(()=>[a(fe,{value:1},{default:l(()=>e[67]||(e[67]=[c("Bwapp")])),_:1,__:[67]}),a(fe,{value:2},{default:l(()=>e[68]||(e[68]=[c("Css")])),_:1,__:[68]}),a(fe,{value:3},{default:l(()=>e[69]||(e[69]=[c("DataTurks")])),_:1,__:[69]})]),_:1},8,["value"])]),_:1}),a(p,{label:"å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿"},{default:l(()=>[r("div",Ul,[a(pe,{value:w.value.timeLimitM,"onUpdate:value":e[25]||(e[25]=s=>w.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿",style:{flex:"1"}},null,8,["value"]),e[70]||(e[70]=r("span",null,"åˆ†",-1))])]),_:1})]),_:1},8,["model"])])])])])):T("",!0),r("div",xl,[a(x,{onClick:ht},{default:l(()=>[c(A(b.value===0?"è¿”å›":"ä¸Šä¸€æ­¥"),1)]),_:1}),a(x,{type:"primary",loading:P.value,onClick:wt},{default:l(()=>[c(A(b.value===3?"å®Œæˆ":"ä¸‹ä¸€æ­¥"),1)]),_:1},8,["loading"])])])]),_:1},8,["spinning"]),r("input",{ref_key:"fileUploadInput",ref:Ue,type:"file",style:{display:"none"},onChange:mt},null,544),a(la,{open:N.value,"onUpdate:open":e[26]||(e[26]=s=>N.value=s),onConfirm:dt,onCancel:Re},null,8,["open"]),a(oa,{open:Y.value,"onUpdate:open":e[27]||(e[27]=s=>Y.value=s),"parent-path":j.value,onConfirm:gt},null,8,["open","parent-path"]),a(sa,{open:Z.value,"onUpdate:open":e[28]||(e[28]=s=>Z.value=s),"parent-path":E.value,onConfirm:yt},null,8,["open","parent-path"])])}}}),Il=Mt(Rl,[["__scopeId","data-v-16401edd"]]);export{Il as default};

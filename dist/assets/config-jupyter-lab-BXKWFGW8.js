const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./antd-DHaIpRVu.js","./vue-PnzzEkKE.js"])))=>i.map(i=>d[i]);
import{m as Hl,_ as Dl}from"./index-CHw3NtI0.js";import{d as Bl,ak as Gl,f as m,o as zl,w as oe,c as Ve,_ as g,a1 as p,$ as r,k as a,ac as S,a7 as o,F as R,ag as K,u as w,a6 as I,G as f,a9 as j,H as Jl,a2 as Kl,ab as Ee,y as $e}from"./vue-PnzzEkKE.js";import{R as He,u as ye,a as Ol,s as Wl,c as Yl,g as De,d as Ql}from"./RichTextEditor-BdL1JLaO.js";import{b as _e,d as Xl,g as Zl,s as ea,a as Be,c as la}from"./index-BPwwnzuA.js";import{u as aa,a as ta,d as oa}from"./dictionary-Cm8rd2TS.js";import{g as sa,a as na}from"./dictionary-D-KQQSws.js";import{H as N,j as ra,t as ia,x as ke,c as ua,a as da,m as ca,u as va,F as pa,b as fa,R as ma,N as ga,d as ya,e as _a}from"./useFileTree-hVzi9foA.js";import{a1 as n,a2 as ka,a3 as ha,z as ba,I as wa,a4 as Ca,a5 as Ta,a6 as Ua,a7 as xa,a8 as Sa,ac as Ra,a9 as Fa,H as Pa,J as La,K as Ma,aa as Ia,ab as qa,f as Aa,e as ja,ai as Na,Y as Va,s as Ea,ag as $a,af as Ha,T as Da,D as Ba}from"./antd-DHaIpRVu.js";const Ga={class:"config-jupyter-lab-page"},za={class:"page-container"},Ja={class:"steps-section"},Ka={key:0},Oa={class:"form-section"},Wa={class:"flex items-top gap-16px"},Ya={class:"flex flex-col gap-12px"},Qa={key:0,class:"image-preview"},Xa=["src"],Za={class:"flex items-top gap-16px"},et={class:"flex flex-col gap-12px"},lt={key:0,class:"image-preview"},at=["src"],tt={class:"form-section"},ot={key:1},st={class:"form-section repository-section"},nt={class:"repository-top-bar flex items-center gap-16px justify-between"},rt={class:"repository-url-group"},it={class:"repository-main-area"},ut={class:"repository-left"},dt={class:"repository-switch-box flex items-center justify-between"},ct={class:"flex items-center gap-12px"},vt={key:1,class:"repository-tips"},pt={class:"repository-right"},ft={key:1,class:"empty-area"},mt={key:2,class:"step-content"},gt={class:"jupyter-header"},yt={class:"jupyter-actions"},_t={class:"jupyter-iframe-wrapper"},kt={key:0,class:"loading-container"},ht=["src"],bt={key:3,class:"step-content evaluation-step"},wt={class:"evaluation-section"},Ct={class:"section-block"},Tt={class:"block-content"},Ut={class:"file-select-wrapper"},xt={class:"selected-files-list"},St={style:{display:"flex","align-items":"center",gap:"8px"}},Rt={key:0,class:"section-block"},Ft={class:"block-header"},Pt={class:"header-actions"},Lt={class:"block-content"},Mt={class:"test-set-label"},It={class:"tab-footer-buttons"},qt={class:"reference-section"},At={class:"section-block"},jt={class:"block-content"},Nt={class:"tab-footer-buttons"},Vt={key:4,class:"step-content environment-step"},Et={class:"environment-section"},$t={class:"environment-container"},Ht={class:"environment-left"},Dt={class:"search-box"},Bt={class:"environment-list"},Gt=["onClick"],zt={class:"environment-right"},Jt={class:"environment-config-header"},Kt={style:{display:"flex","align-items":"center",gap:"8px"}},Ot={class:"page-footer"},Ge="http://101.200.13.193",Wt=Bl({name:"ConfigJupyterLab",__name:"config-jupyter-lab",setup(Yt){N.registerLanguage("javascript",ra),N.registerLanguage("typescript",ia),N.registerLanguage("xml",ke),N.registerLanguage("html",ke),N.registerLanguage("vue",ke),N.registerLanguage("css",ua),N.registerLanguage("json",da),N.registerLanguage("markdown",ca);const he=Gl(),_=m(0),T=m(null),h=m(null),O=m(),be=m(),se=m(""),E=m(!1),ne=m(!1),ze=()=>{E.value=!E.value},re=m(""),ie=m(""),W=m(!1),Y=m(!1),t=m({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1,enableCodeRepository:!1,repositoryType:"ä»£ç ä»“åº“",gitUrl:""});zl(async()=>{var e;ue.load(),Ce.load(),H.load(),await Je();const l=history.state;console.log("æ¥æ”¶åˆ°çš„è·¯ç”±æ•°æ®:",l),l&&l.name?(t.value.name=l.name||"",t.value.description=l.description||"",t.value.difficulty=l.difficulty||1,t.value.environment=l.environment,t.value.secondType=l.secondType,t.value.classHour=l.classHour||"",t.value.showTaskRequire=l.showTaskRequire||!1,console.log("å·²è‡ªåŠ¨å¡«å……è¡¨å•æ•°æ®:",{name:t.value.name,description:t.value.description,descriptionLength:((e=t.value.description)==null?void 0:e.length)||0,difficulty:t.value.difficulty,environment:t.value.environment,secondType:t.value.secondType,classHour:t.value.classHour,showTaskRequire:t.value.showTaskRequire})):console.log("æœªæ¥æ”¶åˆ°è·¯ç”±æ•°æ®")}),oe(_,async(l,e)=>{l===2&&e===1&&!h.value&&T.value&&(console.log("è¿›å…¥ç¬¬ä¸‰æ­¥ï¼ˆå®éªŒå†…å®¹ï¼‰ï¼Œè‡ªåŠ¨åˆ›å»ºä»»åŠ¡..."),await xl()),l===2&&h.value&&await Ae()});const we={name:[{required:!0,message:"è¯·è¾“å…¥åç§°",trigger:"blur"}],tag:[{required:!0,message:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾",trigger:"blur"}],fieldType:[{required:!0,message:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",trigger:"change"}],difficulty:[{required:!0,message:"è¯·é€‰æ‹©éš¾åº¦",trigger:"change"}],environment:[{required:!0,message:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",trigger:"change"}],secondType:[{required:!0,message:"è¯·é€‰æ‹©å°ç±»åˆ«",trigger:"change"}],classHour:[{required:!0,message:"è¯·è¾“å…¥å­¦æ—¶",trigger:"blur"}],topCover:[{required:!0,message:"è¯·ä¸Šä¼ é¡¶éƒ¨èƒŒæ™¯å›¾",trigger:"change"}],cover:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"change"}],authType:[{required:!0,message:"è¯·é€‰æ‹©åŸ¹è®­å…¬å¼€èŒƒå›´",trigger:"change"}]},ue=aa(),Ce=ta(),H=oa(),F=m([]),de=m(!1),Je=async()=>{try{de.value=!0;const l=sa(3),e=await na({code:l});e&&e.list&&(F.value=e.list.map(u=>({label:u.name,value:String(u.value)})),console.log("åŠ è½½ç¯å¢ƒé€‰é¡¹:",{environmentOptions:F.value,currentEnvironment:t.value.environment}),t.value.environment?(P.value=String(t.value.environment),C.value.dockerImage=String(t.value.environment),console.log("ä½¿ç”¨ç¬¬ä¸€æ­¥çš„ç¯å¢ƒ:",t.value.environment)):!P.value&&F.value.length>0&&(P.value=F.value[0].value,C.value.dockerImage=F.value[0].value,t.value.environment=F.value[0].value,console.log("é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªç¯å¢ƒ:",F.value[0])))}catch(l){console.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥ï¼š",l),n.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥")}finally{de.value=!1}},Ke=[{label:"åˆ‡æ¢ä»“åº“",value:"åˆ‡æ¢ä»“åº“"},{label:"ä»£ç ä»“åº“",value:"ä»£ç ä»“åº“"},{label:"ç§å¯†ä»£ç ä»“åº“",value:"ç§å¯†ä»£ç ä»“åº“"}],D=m(!1),ce=m(new Set),Oe=[{title:"åŸºæœ¬ä¿¡æ¯"},{title:"ä»£ç ä»“åº“"},{title:"å®éªŒå†…å®¹"},{title:"è¯„æµ‹è®¾ç½®"},{title:"å®éªŒç¯å¢ƒ"}],{fileTreeData:Te,expandedKeys:ve,selectedFile:We,highlightedCode:Ye,dynamicFileContents:Qe,handleSelectFile:Xe,getNodePath:Ue,addFileToTree:xe,addFolderToTree:Ze,handleRenameNode:el,handleCopyPath:ll,loadRemoteFileTree:al,loadChildrenData:tl,getNodePathFromMap:pe}=va(),B=m(!1),Q=m(!1),X=m(!1),Z=m(!1),G=m("/"),z=m("/"),Se=m(null),ee=m("/"),ol=async l=>{var v;if(!(l.size/1024/1024<12))return n.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(l.type==="image/jpeg"||l.type==="image/png"))return n.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{W.value=!0;const i=await ye(l);re.value=Ge+i,t.value.topCover=i,(v=O.value)==null||v.validateFields(["topCover"]),n.success("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ æˆåŠŸ")}catch{n.error("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ å¤±è´¥")}finally{W.value=!1}return!1},sl=async l=>{var v;if(!(l.size/1024/1024<12))return n.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(l.type==="image/jpeg"||l.type==="image/png"))return n.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{Y.value=!0;const i=await ye(l);ie.value=Ge+i,t.value.cover=i,(v=O.value)==null||v.validateFields(["cover"]),n.success("å°é¢å›¾ä¸Šä¼ æˆåŠŸ")}catch{n.error("å°é¢å›¾ä¸Šä¼ å¤±è´¥")}finally{Y.value=!1}return!1},nl=l=>{(typeof l=="boolean"?l:!!l)?B.value=!0:t.value.enableCodeRepository=!1},Re=async()=>{try{const l=n.loading("æ­£åœ¨æŸ¥è¯¢ä»“åº“æ–‡ä»¶...",0),e=await De(t.value.gitUrl,"");al(e),ce.value.clear(),l(),n.success("ä»“åº“æ–‡ä»¶æŸ¥è¯¢æˆåŠŸ"),console.log("æŸ¥è¯¢ä»“åº“åœ°å€ï¼š",t.value.gitUrl),console.log("è·å–åˆ°çš„æ–‡ä»¶åˆ—è¡¨ï¼š",e)}catch(l){n.error(l.message||"ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥"),console.error("ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥ï¼š",l)}},rl=async()=>{if(!t.value.gitUrl||!t.value.gitUrl.trim()){n.error("è¯·å…ˆé…ç½®ä»“åº“åœ°å€"),Fe();return}t.value.enableCodeRepository=!0,B.value=!1,D.value=!0,await Re()},Fe=()=>{t.value.enableCodeRepository=!1,B.value=!1};oe(()=>t.value.repositoryType,l=>{l==="åˆ‡æ¢ä»“åº“"&&t.value.enableCodeRepository&&(D.value=!1,n.info("å·²è§£é”ä»“åº“åœ°å€ï¼Œè¯·é‡æ–°è¾“å…¥"),$e(()=>{t.value.repositoryType="ä»£ç ä»“åº“"}))});const il=()=>{var l;t.value.enableCodeRepository&&!D.value&&((l=t.value.gitUrl)!=null&&l.trim())&&(D.value=!0,Re())},ul=async(l,e)=>{const{expanded:u,node:v}=e;if(u&&!v.isLeaf){const i=String(v.key);if(ce.value.has(i)){console.log("æ–‡ä»¶å¤¹å·²åŠ è½½ï¼Œè·³è¿‡ï¼š",i);return}try{const d=pe(i);console.log("åŠ è½½æ–‡ä»¶å¤¹ï¼š",d,"èŠ‚ç‚¹key:",i);const b=n.loading(`æ­£åœ¨åŠ è½½ ${v.title}...`,0),y=await De(t.value.gitUrl,d);tl(i,y),ce.value.add(i),b(),console.log("æ–‡ä»¶å¤¹åŠ è½½æˆåŠŸï¼š",d,y)}catch(d){n.error(d.message||"åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥"),console.error("åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥ï¼š",d)}}},dl=l=>{switch(String(l.key)){case"newFile":Le();break;case"newFolder":Me();break;case"upload":Pe("/");break}},cl=(l,e)=>{const u=String(l.key),v=pe(e.key)||Ue(e.key);switch(u){case"newFile":Le(v);break;case"newFolder":Me(v);break;case"upload":Pe(v);break;case"rename":el(e);break;case"copyPath":ll(e);break;case"delete":pl(e);break}},vl=l=>{const e=u=>{const v=u.findIndex(i=>i.key===l);if(v!==-1)return u.splice(v,1),!0;for(const i of u)if(i.children&&e(i.children))return!0;return!1};e(Te.value)},pl=async l=>{const e=l.children!==void 0||l.isLeaf===!1,u=l.title,i=(pe(l.key)||Ue(l.key)).split("/");i.pop();const d=i.join("/")||"",{Modal:b}=await Hl(async()=>{const{Modal:y}=await import("./antd-DHaIpRVu.js").then(M=>M.av);return{Modal:y}},__vite__mapDeps([0,1]),import.meta.url);b.confirm({title:"ç¡®è®¤åˆ é™¤",content:`ç¡®å®šè¦åˆ é™¤${e?"æ–‡ä»¶å¤¹":"æ–‡ä»¶"} "${u}" å—ï¼Ÿ${e?"æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹ä¹Ÿä¼šè¢«åˆ é™¤ã€‚":""}`,okText:"ç¡®å®š",cancelText:"å–æ¶ˆ",okType:"danger",onOk:async()=>{let y=null;try{y=n.loading("æ­£åœ¨åˆ é™¤...",0),await Ql({fileName:u,gitUrl:t.value.gitUrl,path:d}),vl(l.key),y(),n.success("åˆ é™¤æˆåŠŸ"),console.log("åˆ é™¤æˆåŠŸï¼š",{fileName:u,path:d})}catch(M){y&&y(),n.error(M.message||"åˆ é™¤å¤±è´¥"),console.error("åˆ é™¤å¤±è´¥ï¼š",M)}}})},Pe=l=>{var e;ee.value=l,(e=Se.value)==null||e.click()},fl=async l=>{var v;const e=l.target,u=(v=e.files)==null?void 0:v[0];if(u)try{let i=ee.value==="/"?"":ee.value.replace(/^\//,"");const d=n.loading(`æ­£åœ¨ä¸Šä¼  ${u.name}...`,0);await Ol(u,t.value.gitUrl,i);const b=new FileReader;b.onload=y=>{var k;const M=(k=y.target)==null?void 0:k.result;xe(u.name,M,ee.value)},b.readAsText(u),d(),n.success(`æ–‡ä»¶ ${u.name} ä¸Šä¼ æˆåŠŸ`),console.log("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼š",{fileName:u.name,path:i})}catch(i){n.error(i.message||"æ–‡ä»¶ä¸Šä¼ å¤±è´¥"),console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼š",i)}finally{e&&(e.value="")}},Le=(l="/")=>{Q.value=!0,G.value=l},ml=async l=>{try{let e=G.value==="/"?"":G.value.replace(/^\//,"");const u=n.loading("æ­£åœ¨ä¿å­˜æ–‡ä»¶...",0);await Wl({fileContent:l.fileContent,fileName:l.fileName,gitUrl:t.value.gitUrl,path:e,commit:l.commitMessage}),xe(l.fileName,l.fileContent,G.value),u(),n.success("æ–‡ä»¶åˆ›å»ºæˆåŠŸ"),Q.value=!1,console.log("æ–‡ä»¶ä¿å­˜æˆåŠŸï¼š",{fileName:l.fileName,path:e})}catch(e){n.error(e.message||"æ–‡ä»¶åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶åˆ›å»ºå¤±è´¥ï¼š",e)}},Me=(l="/")=>{X.value=!0,z.value=l},gl=async l=>{try{let e=z.value==="/"?l.folderName:`${z.value.replace(/^\//,"")}/${l.folderName}`;const u=n.loading("æ­£åœ¨åˆ›å»ºæ–‡ä»¶å¤¹...",0);await Yl({commit:l.commitMessage,gitUrl:t.value.gitUrl,path:e}),Ze(l.folderName,z.value),u(),n.success("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸ"),X.value=!1,console.log("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸï¼š",{folderName:l.folderName,path:e})}catch(e){n.error(e.message||"æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥ï¼š",e)}},Ie=m("settings"),c=m({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:"",scoreRule:1,evaluationSetting:1,testSets:[{id:1,arg:"",answer:"",select:1},{id:2,arg:"",answer:"",select:1}]}),x=m({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),le=m(!1),ae=m(!1);let yl=3;const _l=()=>{c.value.testSets.push({id:yl++,arg:"",answer:"",select:1})},kl=l=>{if(c.value.testSets.length===1){n.warning("è‡³å°‘ä¿ç•™ä¸€ä¸ªæµ‹è¯•é›†");return}c.value.testSets=c.value.testSets.filter(e=>e.id!==l),n.success("åˆ é™¤æˆåŠŸ")},hl=(l,e)=>{l.select=e?1:2},q=m([]),bl=l=>{const{onSuccess:e}=l;setTimeout(()=>{e("ok")},0)},wl=async l=>{const{fileList:e}=l,u=e.filter(i=>i.status==="uploading"||i.status==="done"||!i.status);q.value=u;const v=u.filter(i=>i.originFileObj&&!i.url).map(async i=>{try{const d=await ye(i.originFileObj);return i.url=d,d}catch(d){return console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥:",d),n.error(`æ–‡ä»¶ ${i.name} ä¸Šä¼ å¤±è´¥`),null}});if(v.length>0){const d=(await Promise.all(v)).filter(b=>b!==null);if(d.length>0){const b=u.filter(y=>y.url).map(y=>y.url).join(",");c.value.testValidateFiles=b,n.success(`æˆåŠŸä¸Šä¼  ${d.length} ä¸ªæ–‡ä»¶`)}}},Cl=l=>{q.value=l.map(u=>({uid:u.uid,name:u.name,status:"done",url:u.path}));const e=l.map(u=>u.path).join(",");c.value.testValidateFiles=e,n.success(`å·²é€‰æ‹© ${l.length} ä¸ªæ–‡ä»¶`),Z.value=!1},qe=()=>{_.value===0?he.back():(_.value--,L())},Tl=async()=>{try{const l={projectType:3,environment:t.value.environment,name:t.value.name,tag:t.value.tag,fieldType:t.value.fieldType,difficulty:t.value.difficulty,classHour:t.value.classHour,topCover:t.value.topCover,cover:t.value.cover,description:t.value.description,showTaskRequire:t.value.showTaskRequire?1:2,authType:t.value.authType,enableCodeRepository:t.value.enableCodeRepository,secondType:t.value.secondType};t.value.enableCodeRepository&&(l.repositoryType=t.value.repositoryType,l.gitUrl=t.value.gitUrl),console.log("æäº¤é¡¹ç›®æ•°æ®ï¼š",l);let e;T.value?(l.id=T.value,e=await Be(l),n.success("é¡¹ç›®æ›´æ–°æˆåŠŸï¼"),console.log("æ›´æ–°æˆåŠŸï¼š",e)):(e=await la(l),e&&e.id&&(T.value=e.id,console.log("é¡¹ç›®IDå·²ä¿å­˜ï¼š",T.value)),n.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),console.log("åˆ›å»ºæˆåŠŸï¼š",e)),_.value=2,L()}catch(l){console.error("æ“ä½œå¤±è´¥ï¼š",l),n.error(T.value?"é¡¹ç›®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•":"é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),L()}},Ul=async()=>{var l,e;if(_.value===0)try{await Promise.all([(l=O.value)==null?void 0:l.validate(),(e=be.value)==null?void 0:e.validate()]),console.log("è¡¨å•æ•°æ®ï¼š",t.value),_.value=1,L()}catch{n.error("è¯·å®Œå–„å¿…å¡«ä¿¡æ¯"),L()}else if(_.value===1){if(t.value.enableCodeRepository&&(!t.value.gitUrl||t.value.gitUrl.trim()==="")){n.error("è¯·è¾“å…¥ä»“åº“åœ°å€"),L();return}await Tl()}else if(_.value===2)h.value&&await Sl(),_.value=3,L();else if(_.value===3){if(!le.value){n.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†è¿›è¡Œä¸‹ä¸€æ­¥"),L();return}if(!ae.value){n.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†è¿›è¡Œä¸‹ä¸€æ­¥"),L();return}_.value=4,L()}},xl=async()=>{try{if(!T.value){console.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œæ— æ³•åˆ›å»ºä»»åŠ¡");return}const l={type:4,projectId:T.value,name:"JupyterLabç¯å¢ƒå®è®­ä»»åŠ¡"};console.log("è‡ªåŠ¨æäº¤ä»»åŠ¡æ•°æ®ï¼š",l);const e=await Xl(l);e&&e.taskId&&(h.value=e.taskId,console.log("ä»»åŠ¡IDå·²ä¿å­˜ï¼š",h.value),n.success("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼"),await Ae())}catch(l){console.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼š",l),n.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},Ae=async()=>{if(!h.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•è·å–Podé…ç½®");return}try{ne.value=!0,console.log("æ­£åœ¨è·å–Podé…ç½®ï¼ŒtaskId:",h.value);const l=await Zl({taskId:h.value});console.log("è·å–åˆ°Podæ•°æ®ï¼š",l),l&&l.config&&l.config.url?(se.value=l.config.url,console.log("æ›´æ–°Jupyter URLä¸ºï¼š",se.value),n.success("å®éªŒç¯å¢ƒåŠ è½½æˆåŠŸï¼")):(console.error("Podé…ç½®ä¸­æ²¡æœ‰urlå­—æ®µ"),n.warning("æœªè·å–åˆ°å®éªŒç¯å¢ƒURL"))}catch(l){console.error("è·å–Podé…ç½®å¤±è´¥ï¼š",l),n.error("è·å–å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{ne.value=!1}},Sl=async()=>{if(!h.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•åœæ­¢Pod");return}try{console.log("æ­£åœ¨åœæ­¢Podï¼ŒtaskId:",h.value),await ea({taskId:h.value}),console.log("Podåœæ­¢æˆåŠŸ"),n.success("å®éªŒç¯å¢ƒå·²åœæ­¢")}catch(l){console.error("åœæ­¢Podå¤±è´¥ï¼š",l),n.error("åœæ­¢å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},Rl=async()=>{try{if(!h.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(c.value.openTestValidate===1){if(!c.value.testValidateFiles||c.value.testValidateFiles.trim()===""){n.error("è¯·ä¸Šä¼ è¯„æµ‹æ–‡ä»¶");return}if(!c.value.testValidateSh||c.value.testValidateSh.trim()===""){n.error("è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤");return}if(!c.value.timeLimitM){n.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!c.value.testSets||c.value.testSets.length===0){n.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const u=c.value.testSets.filter(v=>v.select===1);if(u.length===0){n.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let v=0;v<u.length;v++){const i=u[v];if(!i.arg||i.arg.trim()===""){n.error(`æµ‹è¯•é›†${v+1}çš„è¾“å…¥å†…å®¹ä¸èƒ½ä¸ºç©º`);return}if(!i.answer||i.answer.trim()===""){n.error(`æµ‹è¯•é›†${v+1}çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º`);return}}}const l=c.value.testSets.map(u=>({arg:u.arg,answer:u.answer,select:u.select})),e={taskId:h.value,projectId:T.value,openTestValidate:c.value.openTestValidate,testValidateFiles:c.value.testValidateFiles,testValidateSh:c.value.testValidateSh,timeLimitM:c.value.timeLimitM,scoreRule:c.value.scoreRule,evaluationSetting:c.value.evaluationSetting,testContent:JSON.stringify(l)};console.log("ä¿å­˜è¯„æµ‹è®¾ç½®æ•°æ®ï¼š",e),await _e(e),le.value=!0,n.success("è¯„æµ‹è®¾ç½®ä¿å­˜æˆåŠŸï¼")}catch(l){console.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼š",l),n.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Fl=async()=>{try{if(!h.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!x.value.referenceAnswer||x.value.referenceAnswer.trim()===""){n.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}if(!x.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){n.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}const e={taskId:h.value,projectId:T.value,showAnswer:x.value.showAnswer,prohibitCopyAnswer:x.value.prohibitCopyAnswer,referenceAnswer:x.value.referenceAnswer};console.log("ä¿å­˜å‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",e),await _e(e),ae.value=!0,n.success("å‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(l){console.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",l),n.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Pl=async()=>{try{if(!T.value){n.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºé¡¹ç›®");return}if(!h.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!le.value){n.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†å®Œæˆåˆ›å»º");return}if(!ae.value){n.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†å®Œæˆåˆ›å»º");return}if(!C.value.dockerImage){n.error("è¯·é€‰æ‹©å®éªŒç¯å¢ƒ");return}if(!C.value.timeLimitM){n.error("è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿");return}await _e({taskId:h.value,projectId:T.value,dockerImage:C.value.dockerImage,secondType:C.value.secondType,timeLimitM:C.value.timeLimitM}),await Be({id:T.value,status:10}),n.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),setTimeout(()=>{he.push("/dashboard/analysis")},500)}catch(l){console.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼š",l),n.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼Œè¯·é‡è¯•")}},P=m(""),te=m(""),Ll=Ve(()=>te.value?F.value.filter(l=>l.label.toLowerCase().includes(te.value.toLowerCase())):F.value),Ml=Ve(()=>{const l=F.value.find(e=>e.value===P.value);return l?l.label:"æœªé€‰æ‹©"}),C=m({dockerImage:"",secondType:"Css",timeLimitM:""}),Il=l=>{P.value=l,C.value.dockerImage=l,t.value.environment!==l&&(t.value.environment=l)};oe(()=>t.value.environment,l=>{console.log("formData.environment å˜åŒ–:",l,"å½“å‰ selectedEnvironment:",P.value),l&&String(l)!==P.value&&(P.value=String(l),C.value.dockerImage=String(l),console.log("å·²åŒæ­¥åˆ°ç¬¬å››æ­¥:",P.value))}),oe(()=>P.value,l=>{console.log("selectedEnvironment å˜åŒ–ä¸º:",l)});const L=()=>{$e(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const l=document.querySelector(".page-content");l&&(l.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(v=>{v.scrollTop>0&&(v.scrollTop=0)})})};return(l,e)=>{const u=ka,v=ha,i=wa,d=ba,b=Ta,y=Ua,M=Ca,k=Sa,V=xa,fe=Ra,U=Pa,me=Fa,je=La,J=Ma,ql=Ia,ge=ja,Al=Aa,jl=Ba,Nl=Na,Vl=Va,El=$a,Ne=Ea,$l=Da;return p(),g("div",Ga,[e[75]||(e[75]=r("div",{class:"page-header"},[r("h2",null,"JupyterLabç¯å¢ƒå®è®­é¡¹ç›®é…ç½®")],-1)),r("div",za,[r("div",Ja,[a(v,{current:_.value,class:"custom-steps"},{default:o(()=>[(p(),g(R,null,K(Oe,(s,A)=>a(u,{key:A,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),_.value===0?(p(),g("div",Ka,[e[38]||(e[38]=r("div",{class:"section-title"},[r("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),r("div",Oa,[a(J,{ref_key:"formRef",ref:O,model:t.value,rules:we,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:o(()=>[a(d,{label:"åç§°",name:"name",required:""},{default:o(()=>[a(i,{value:t.value.name,"onUpdate:value":e[0]||(e[0]=s=>t.value.name=s),placeholder:"è¯·è¾“å…¥åç§°"},null,8,["value"])]),_:1}),a(M,null,{default:o(()=>[a(b,{span:12},{default:o(()=>[a(d,{label:"æŠ€èƒ½æ ‡ç­¾",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:o(()=>[a(i,{value:t.value.tag,"onUpdate:value":e[1]||(e[1]=s=>t.value.tag=s),placeholder:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾"},null,8,["value"])]),_:1})]),_:1}),a(b,{span:12},{default:o(()=>[a(d,{label:"é¢†åŸŸç±»åˆ«",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:o(()=>[a(y,{value:t.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>t.value.fieldType=s),placeholder:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",options:w(ue).options.value,loading:w(ue).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),a(d,{label:"éš¾åº¦",name:"difficulty",required:""},{default:o(()=>[a(V,{value:t.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>t.value.difficulty=s),class:"custom-radio"},{default:o(()=>[(p(!0),g(R,null,K(w(Ce).data.value,s=>(p(),I(k,{key:s.value,value:Number(s.value)},{default:o(()=>[f(j(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(M,null,{default:o(()=>[a(b,{span:12},{default:o(()=>[a(d,{label:"å®éªŒç¯å¢ƒ",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:o(()=>[a(y,{value:t.value.environment,"onUpdate:value":e[4]||(e[4]=s=>t.value.environment=s),placeholder:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",options:F.value,loading:de.value},null,8,["value","options","loading"])]),_:1})]),_:1}),a(b,{span:12},{default:o(()=>[a(d,{label:"å°ç±»åˆ«",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:o(()=>[a(y,{value:t.value.secondType,"onUpdate:value":e[5]||(e[5]=s=>t.value.secondType=s),placeholder:"è¯·é€‰æ‹©å°ç±»åˆ«",options:w(H).options.value,loading:w(H).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),a(d,{label:"å­¦æ—¶",name:"classHour",required:""},{default:o(()=>[a(fe,{min:0,class:"w-full",value:t.value.classHour,"onUpdate:value":e[6]||(e[6]=s=>t.value.classHour=s),placeholder:"è¯·è¾“å…¥å­¦æ—¶"},null,8,["value"])]),_:1}),a(d,{label:"é¡¶éƒ¨èƒŒæ™¯å›¾",name:"topCover",required:""},{default:o(()=>[r("div",Wa,[r("div",Ya,[a(me,{"before-upload":ol,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:o(()=>[a(U,{loading:W.value},{default:o(()=>[W.value?(p(),g(R,{key:1},[f("ä¸Šä¼ ä¸­...")],64)):(p(),g(R,{key:0},[f("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),re.value?(p(),g("div",Qa,[r("img",{src:re.value,alt:"é¡¶éƒ¨èƒŒæ™¯å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Xa)])):S("",!0)]),e[31]||(e[31]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),a(d,{label:"å°é¢å›¾",name:"cover",required:""},{default:o(()=>[r("div",Za,[r("div",et,[a(me,{"before-upload":sl,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:o(()=>[a(U,{loading:Y.value},{default:o(()=>[Y.value?(p(),g(R,{key:1},[f("ä¸Šä¼ ä¸­...")],64)):(p(),g(R,{key:0},[f("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),ie.value?(p(),g("div",lt,[r("img",{src:ie.value,alt:"å°é¢å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,at)])):S("",!0)]),e[32]||(e[32]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),a(d,{label:"ç®€ä»‹",name:"description"},{default:o(()=>[a(He,{modelValue:t.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.description=s)},null,8,["modelValue"])]),_:1}),a(d,{label:"ä»»åŠ¡è¦æ±‚",name:"showTaskRequire"},{default:o(()=>[a(je,{checked:t.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=s=>t.value.showTaskRequire=s)},{default:o(()=>e[33]||(e[33]=[f(" æ˜¾ç¤ºä»»åŠ¡è¦æ±‚ï¼ˆå‹¾é€‰åï¼Œå°†å¸®ä½œä¸ºä»»åŠ¡è¦æ±‚æ˜¾ç¤ºåœ¨ä»»åŠ¡é¡¹ç›®æ”¿ç­–é¢ï¼‰ ")])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[39]||(e[39]=r("div",{class:"section-title"},[r("h3",null,"åŸ¹è®­å…¬å¼€èŒƒå›´")],-1)),r("div",tt,[a(J,{ref_key:"trainingScopeFormRef",ref:be,model:t.value,rules:we,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:o(()=>[a(d,{label:"åŸ¹è®­å…¬å¼€èŒƒå›´",name:"authType",required:""},{default:o(()=>[a(V,{value:t.value.authType,"onUpdate:value":e[9]||(e[9]=s=>t.value.authType=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[34]||(e[34]=[f("å®Œå…¨å…¬å¼€")])),_:1,__:[34]}),a(k,{value:2},{default:o(()=>e[35]||(e[35]=[f("å…¨é™¢å…¬å¼€")])),_:1,__:[35]}),a(k,{value:3},{default:o(()=>e[36]||(e[36]=[f("æœ¬å•ä½å…¬å¼€")])),_:1,__:[36]}),a(k,{value:4},{default:o(()=>e[37]||(e[37]=[f("ä¸å…¬å¼€")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):S("",!0),_.value===1?(p(),g("div",ot,[r("div",st,[r("div",nt,[a(y,{value:t.value.repositoryType,"onUpdate:value":e[10]||(e[10]=s=>t.value.repositoryType=s),options:Ke,class:"repository-type-select"},null,8,["value"]),r("div",rt,[e[40]||(e[40]=r("span",{class:"url-label"},"ä»“åº“åœ°å€ï¼š",-1)),a(i,{value:t.value.gitUrl,"onUpdate:value":e[11]||(e[11]=s=>t.value.gitUrl=s),placeholder:"è¯·è¾“å…¥ä»“åº“åœ°å€",class:"url-input",disabled:D.value,onBlur:il},null,8,["value","disabled"])])]),r("div",it,[r("div",ut,[r("div",dt,[r("div",ct,[e[41]||(e[41]=r("span",{class:"switch-label"},"ä»£ç ä»“åº“",-1)),a(ql,{checked:t.value.enableCodeRepository,disabled:t.value.enableCodeRepository,onChange:nl},null,8,["checked","disabled"])]),t.value.enableCodeRepository?(p(),I(jl,{key:0},{overlay:o(()=>[a(Al,{onClick:dl},{default:o(()=>[a(ge,{key:"newFile"},{default:o(()=>e[42]||(e[42]=[f("æ–°å»ºæ–‡ä»¶")])),_:1,__:[42]}),a(ge,{key:"newFolder"},{default:o(()=>e[43]||(e[43]=[f("æ–°å»ºæ–‡ä»¶å¤¹")])),_:1,__:[43]}),a(ge,{key:"upload"},{default:o(()=>e[44]||(e[44]=[f("ä¸Šä¼ ")])),_:1,__:[44]})]),_:1})]),default:o(()=>[a(U,{type:"primary",size:"small"},{default:o(()=>[a(w(qa)),e[45]||(e[45]=f(" æ–°å»º "))]),_:1,__:[45]})]),_:1})):S("",!0)]),t.value.enableCodeRepository?(p(),I(pa,{key:0,"file-tree-data":w(Te),"expanded-keys":w(ve),"onUpdate:expandedKeys":e[12]||(e[12]=s=>Jl(ve)?ve.value=s:null),onSelect:w(Xe),onMenuClick:cl,onExpand:ul},null,8,["file-tree-data","expanded-keys","onSelect"])):S("",!0),t.value.enableCodeRepository?(p(),g("div",vt,e[46]||(e[46]=[Kl('<div class="tips-title" data-v-57ae4539>æç¤ºï¼š</div><div class="tips-content" data-v-57ae4539> æ­¤å¤„å­˜æ”¾æœ¬å®è®­æ‰€éœ€çš„æ‰€æœ‰ä»£ç ç­‰ç›¸å…³æ–‡ä»¶ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼š </div><div class="tips-list" data-v-57ae4539> 1ã€<a href="#" class="tips-link" data-v-57ae4539>Giteeå®¢æˆ·ç«¯</a> ä¸Šä¼ å·²æœ‰æ–‡ä»¶æ¥å¼€å§‹ä½¿ç”¨ã€‚ </div><div class="tips-list" data-v-57ae4539> 2ã€ç›´æ¥åœ¨å¹³å°ä¸Šåˆ›å»ºæ–‡ä»¶ç›®å½•ä»¥åŠç›¸å…³ä»£ç æ–‡ä»¶ã€‚ </div>',4)]))):S("",!0)]),r("div",pt,[t.value.enableCodeRepository?(p(),I(fa,{key:0,"selected-file":w(We),"highlighted-code":w(Ye),"dynamic-file-contents":w(Qe)},null,8,["selected-file","highlighted-code","dynamic-file-contents"])):(p(),g("div",ft," åœ¨å·¦ä¾§ä»£ç ä»“åº“åŒºåŸŸç‚¹å‡»ç›®å½•æ‰“å¼€æ–‡ä»¶ "))])])])])):S("",!0),_.value===2?(p(),g("div",mt,[r("div",{class:Ee(["jupyter-container",{fullscreen:E.value}])},[r("div",gt,[e[47]||(e[47]=r("h3",null,"Jupyter Lab ç¼–è¾‘å™¨",-1)),r("div",yt,[a(Nl,{title:E.value?"é€€å‡ºå…¨å±":"å…¨å±"},{default:o(()=>[a(U,{type:"text",icon:E.value?"fullscreen-exit":"fullscreen",onClick:ze},{default:o(()=>[f(j(E.value?"é€€å‡ºå…¨å±":"å…¨å±"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),r("div",_t,[ne.value?(p(),g("div",kt,[a(Vl,{size:"large",tip:"æ­£åœ¨åŠ è½½å®éªŒç¯å¢ƒ..."})])):(p(),g("iframe",{key:1,src:se.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,ht))])],2)])):S("",!0),_.value===3?(p(),g("div",bt,[a($l,{activeKey:Ie.value,"onUpdate:activeKey":e[23]||(e[23]=s=>Ie.value=s),class:"evaluation-tabs"},{default:o(()=>[a(Ne,{key:"settings",tab:"è¯„æµ‹è®¾ç½®"},{default:o(()=>[r("div",wt,[r("div",Ct,[e[60]||(e[60]=r("div",{class:"block-header"},"è¯„æµ‹æ–‡ä»¶",-1)),r("div",Tt,[a(J,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:o(()=>[a(d,{label:"æ˜¯å¦å¯ç”¨è¯„æµ‹åŠŸèƒ½",required:""},{default:o(()=>[a(V,{value:c.value.openTestValidate,"onUpdate:value":e[13]||(e[13]=s=>c.value.openTestValidate=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[48]||(e[48]=[f("æ˜¯")])),_:1,__:[48]}),a(k,{value:2},{default:o(()=>e[49]||(e[49]=[f("å¦")])),_:1,__:[49]})]),_:1},8,["value"])]),_:1}),c.value.openTestValidate===1?(p(),g(R,{key:0},[a(d,{label:"è¯„æµ‹æ–‡ä»¶",required:""},{default:o(()=>[t.value.enableCodeRepository?(p(),g(R,{key:1},[r("div",Ut,[a(U,{type:"primary",onClick:e[15]||(e[15]=s=>Z.value=!0)},{default:o(()=>e[52]||(e[52]=[f("ç‚¹å‡»é€‰æ‹©")])),_:1,__:[52]}),r("div",xt,[(p(!0),g(R,null,K(q.value,s=>(p(),I(El,{key:s.uid,closable:"",onClose:()=>{q.value=q.value.filter(A=>A.uid!==s.uid),c.value.testValidateFiles=q.value.map(A=>A.url).join(",")},style:{margin:"4px"}},{default:o(()=>[f(j(s.name),1)]),_:2},1032,["onClose"]))),128))])]),e[53]||(e[53]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šä»ä»£ç ä»“åº“ä¸­é€‰æ‹©æ–‡ä»¶ã€‚ï¼ˆç‚¹å‡»è¯„æµ‹æŒ‰é’®æ—¶è°ƒç”¨çš„æ–‡ä»¶ï¼Œç”¨äºæ£€éªŒå­¦å‘˜ä»»åŠ¡ç»“æœæ˜¯å¦æ­£ç¡®ï¼‰ ",-1))],64)):(p(),g(R,{key:0},[a(me,{"file-list":q.value,"onUpdate:fileList":e[14]||(e[14]=s=>q.value=s),"custom-request":bl,onChange:wl,"max-count":10},{default:o(()=>[a(U,{type:"primary"},{default:o(()=>e[50]||(e[50]=[f("ç‚¹å‡»ä¸Šä¼ ")])),_:1,__:[50]})]),_:1},8,["file-list"]),e[51]||(e[51]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡300Mã€‚ ",-1))],64))]),_:1}),a(d,{label:"è¯„æµ‹æ‰§è¡Œå‘½ä»¤",required:""},{default:o(()=>[a(i,{value:c.value.testValidateSh,"onUpdate:value":e[16]||(e[16]=s=>c.value.testValidateSh=s),placeholder:"è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼špython main.py"},null,8,["value"]),e[54]||(e[54]=r("div",{class:"upload-hint"}," ï¼ˆæ‰§è¡Œè¯„æµ‹æ–‡ä»¶çš„å‘½ä»¤ï¼Œå¦‚ï¼špython main.pyã€node index.jsã€java Main ç­‰ï¼‰ ",-1))]),_:1,__:[54]}),a(d,{label:"è¯„æµ‹æ—¶é•¿é™åˆ¶",required:""},{default:o(()=>[r("div",St,[a(fe,{value:c.value.timeLimitM,"onUpdate:value":e[17]||(e[17]=s=>c.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",style:{width:"580px"}},null,8,["value"]),e[55]||(e[55]=r("span",null,"åˆ†é’Ÿ",-1))])]),_:1}),a(d,{label:"ç³»ç»Ÿè¯„åˆ†è§„åˆ™"},{default:o(()=>[a(V,{value:c.value.scoreRule,"onUpdate:value":e[18]||(e[18]=s=>c.value.scoreRule=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[56]||(e[56]=[f(" é€šè¿‡å…¨éƒ¨æµ‹è¯•é›†ï¼ˆä»…å½“æ‰€æœ‰æµ‹è¯•é›†éƒ½æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[56]}),a(k,{value:2},{default:o(()=>e[57]||(e[57]=[f(" é€šè¿‡éƒ¨åˆ†æµ‹è¯•é›†ï¼ˆä»»æ„ä¸€ä¸ªæµ‹è¯•é›†æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[57]})]),_:1},8,["value"])]),_:1}),a(d,{label:"è¯„æµ‹è®¾ç½®",required:""},{default:o(()=>[a(V,{value:c.value.evaluationSetting,"onUpdate:value":e[19]||(e[19]=s=>c.value.evaluationSetting=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[58]||(e[58]=[f(" é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æ‰€æœ‰éç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[58]}),a(k,{value:2},{default:o(()=>e[59]||(e[59]=[f(" é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æŒ‡å®šéç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[59]})]),_:1},8,["value"])]),_:1})],64)):S("",!0)]),_:1})])]),c.value.openTestValidate===1?(p(),g("div",Rt,[r("div",Ft,[e[62]||(e[62]=r("span",null,"æµ‹è¯•é›†",-1)),r("div",Pt,[a(U,{onClick:_l},{default:o(()=>e[61]||(e[61]=[f("æ–°å¢æµ‹è¯•é›†")])),_:1,__:[61]})])]),r("div",Lt,[(p(!0),g(R,null,K(c.value.testSets,(s,A)=>(p(),g("div",{key:s.id,class:"test-set-item"},[a(je,{checked:s.select===1,onChange:$=>hl(s,$.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),r("span",Mt,"æµ‹è¯•é›†"+j(A+1),1),a(i,{value:s.arg,"onUpdate:value":$=>s.arg=$,placeholder:"è¯·è¾“å…¥è¾“å…¥å†…å®¹",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(i,{value:s.answer,"onUpdate:value":$=>s.answer=$,placeholder:"è¯·è¾“å…¥æœŸæœ›è¾“å‡º",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(w(Ha),{class:"delete-test-set-icon",onClick:$=>kl(s.id)},null,8,["onClick"])]))),128))])])):S("",!0),r("div",It,[a(U,{type:"primary",onClick:Rl},{default:o(()=>[f(j(le.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1}),a(Ne,{key:"reference",tab:"å‚è€ƒç­”æ¡ˆ"},{default:o(()=>[r("div",qt,[r("div",At,[e[67]||(e[67]=r("div",{class:"block-header"},"å‚è€ƒç­”æ¡ˆ",-1)),r("div",jt,[a(J,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:o(()=>[a(d,{label:"æ˜¯å¦æ˜¾ç¤ºå‚è€ƒç­”æ¡ˆæ¨¡å—",required:""},{default:o(()=>[a(V,{value:x.value.showAnswer,"onUpdate:value":e[20]||(e[20]=s=>x.value.showAnswer=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[63]||(e[63]=[f("æ˜¯")])),_:1,__:[63]}),a(k,{value:2},{default:o(()=>e[64]||(e[64]=[f("å¦")])),_:1,__:[64]})]),_:1},8,["value"])]),_:1}),a(d,{label:"æ˜¯å¦ç¦æ­¢å¤åˆ¶å‚è€ƒç­”æ¡ˆ",required:""},{default:o(()=>[a(V,{value:x.value.prohibitCopyAnswer,"onUpdate:value":e[21]||(e[21]=s=>x.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:o(()=>[a(k,{value:1},{default:o(()=>e[65]||(e[65]=[f("æ˜¯")])),_:1,__:[65]}),a(k,{value:2},{default:o(()=>e[66]||(e[66]=[f("å¦")])),_:1,__:[66]})]),_:1},8,["value"])]),_:1}),a(d,{label:"å‚è€ƒç­”æ¡ˆ",required:""},{default:o(()=>[a(He,{modelValue:x.value.referenceAnswer,"onUpdate:modelValue":e[22]||(e[22]=s=>x.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",Nt,[a(U,{type:"primary",onClick:Fl},{default:o(()=>[f(j(ae.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):S("",!0),_.value===4?(p(),g("div",Vt,[r("div",Et,[e[70]||(e[70]=r("h3",{class:"section-main-title"},"å®éªŒç¯å¢ƒ",-1)),r("div",$t,[r("div",Ht,[r("div",Dt,[a(i,{value:te.value,"onUpdate:value":e[24]||(e[24]=s=>te.value=s),placeholder:"æœç´¢éœ€è¦çš„å®éªŒç¯å¢ƒ","allow-clear":""},{suffix:o(()=>e[68]||(e[68]=[r("span",{class:"search-icon"},"ğŸ”",-1)])),_:1},8,["value"])]),r("div",Bt,[(p(!0),g(R,null,K(Ll.value,s=>(p(),g("div",{key:s.value,class:Ee(["environment-item",{active:P.value===s.value}]),onClick:A=>Il(s.value)},j(s.label),11,Gt))),128))])]),r("div",zt,[r("div",Jt," å®éªŒç¯å¢ƒ: "+j(Ml.value),1),a(J,{model:C.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:16}},{default:o(()=>[a(d,{label:"é™„å¸¦ç¯å¢ƒ"},{default:o(()=>[a(y,{value:C.value.secondType,"onUpdate:value":e[25]||(e[25]=s=>C.value.secondType=s),placeholder:"è¯·é€‰æ‹©é™„å¸¦ç¯å¢ƒ",options:w(H).options.value,loading:w(H).loading.value},null,8,["value","options","loading"])]),_:1}),a(d,{label:"å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿"},{default:o(()=>[r("div",Kt,[a(fe,{value:C.value.timeLimitM,"onUpdate:value":e[26]||(e[26]=s=>C.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿",style:{flex:"1"}},null,8,["value"]),e[69]||(e[69]=r("span",null,"åˆ†",-1))])]),_:1})]),_:1},8,["model"])])])])])):S("",!0),r("div",Ot,[_.value===0?(p(),I(U,{key:0,onClick:qe},{default:o(()=>e[71]||(e[71]=[f("è¿”å›")])),_:1,__:[71]})):(p(),I(U,{key:1,onClick:qe},{default:o(()=>e[72]||(e[72]=[f("ä¸Šä¸€æ­¥")])),_:1,__:[72]})),_.value===4?(p(),I(U,{key:2,type:"primary",onClick:Pl},{default:o(()=>e[73]||(e[73]=[f("å®Œæˆåˆ›å»º")])),_:1,__:[73]})):(p(),I(U,{key:3,type:"primary",onClick:Ul},{default:o(()=>e[74]||(e[74]=[f("ä¸‹ä¸€æ­¥")])),_:1,__:[74]}))])]),r("input",{ref_key:"fileUploadInput",ref:Se,type:"file",style:{display:"none"},onChange:fl},null,544),a(ma,{open:B.value,"onUpdate:open":e[27]||(e[27]=s=>B.value=s),onConfirm:rl,onCancel:Fe},null,8,["open"]),a(ga,{open:Q.value,"onUpdate:open":e[28]||(e[28]=s=>Q.value=s),"parent-path":G.value,onConfirm:ml},null,8,["open","parent-path"]),a(ya,{open:X.value,"onUpdate:open":e[29]||(e[29]=s=>X.value=s),"parent-path":z.value,onConfirm:gl},null,8,["open","parent-path"]),a(_a,{open:Z.value,"onUpdate:open":e[30]||(e[30]=s=>Z.value=s),title:"é€‰æ‹©è¯„æµ‹æ–‡ä»¶","git-url":t.value.gitUrl,onConfirm:Cl},null,8,["open","git-url"])])}}}),so=Dl(Wt,[["__scopeId","data-v-57ae4539"]]);export{so as default};

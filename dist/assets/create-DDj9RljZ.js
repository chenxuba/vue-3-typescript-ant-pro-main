import{d as E,ab as S,f as b,w as F,c as j,a0 as v,a3 as d,a1 as s,k as o,a9 as n,G as r,af as y,F as k,ac as w,u as R,a8 as P}from"./vue-CHyeelTQ.js";import{R as M}from"./RichTextEditor-CUfjy-K-.js";import{ag as G,af as I,Q as O,U as L,Z as $,v as z,$ as Q,G as W,aa as p}from"./antd-7EK-EoHB.js";import{_ as Z}from"./index-D5vtKjRx.js";const A={class:"create-project-page"},K={class:"page-content"},X={class:"project-type-section"},Y={class:"project-type-desc"},ee={class:"project-form-section"},ae={class:"form-title"},te={key:0},oe={class:"page-footer"},le=E({name:"CreateRainingProject",__name:"create",setup(ne){const c=S(),h=b(),t=b(1),a=b({name:"",description:"",difficulty:void 0,environment:void 0,secondType:void 0,classHour:"",showTaskRequire:!1}),x={name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,validator:(m,e)=>!e||!e.replace(/<[^>]*>/g,"").trim()?Promise.reject("请输入简介"):Promise.resolve(),trigger:"blur"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],environment:[{required:!0,message:"请选择实验环境",trigger:"change"}],secondType:[{required:!0,message:"请选择小类别",trigger:"change"}]},C=[{label:"简单",value:1},{label:"适中",value:2},{label:"困难",value:3}],T=()=>t.value===1?[{label:"Python3.6",value:1},{label:"Python3.13",value:2},{label:"Python3.12/VNC",value:3}]:t.value===2?[{label:"Python3/Jupyter",value:1},{label:"Python-GPU/upyter",value:2},{label:"Paddle/Jupyter",value:3}]:t.value===3?[{label:"Python3.6",value:1},{label:"Python3.13",value:2}]:[],N=()=>t.value!==2&&t.value!==3?[]:[{label:"Bwapp",value:1},{label:"CSS",value:2},{label:"DataTurks",value:3}],U=()=>{c.back()},D=async()=>{var u,f;try{await((u=h.value)==null?void 0:u.validate())}catch(_){console.log("表单验证失败",_);return}if(!a.value.name){p.error("请输入名称");return}if(!(((f=a.value.description)==null?void 0:f.replace(/<[^>]*>/g,"").trim())||"")){p.error("请输入简介");return}if(!a.value.difficulty){p.error("请选择难度");return}if(!a.value.environment){p.error("请选择实验环境");return}if((t.value===2||t.value===3)&&!a.value.secondType){p.error("请选择小类别");return}console.log("下一步",{projectType:t.value,...a.value});const e={projectType:t.value,name:a.value.name,description:a.value.description,difficulty:a.value.difficulty,environment:a.value.environment,secondType:a.value.secondType,classHour:a.value.classHour,showTaskRequire:a.value.showTaskRequire};t.value===1?c.push({path:"/dashboard/raining-project-management/config-full-stack",state:e}):t.value===2?c.push({path:"/dashboard/raining-project-management/config-jupyter-notebook",state:e}):t.value===3&&c.push({path:"/dashboard/raining-project-management/config-jupyter-lab",state:e})};F(t,()=>{a.value.environment=void 0,a.value.secondType=void 0,a.value.showTaskRequire=!1});const V=j(()=>({1:"全栈环境",2:"JupyterNotebook环境",3:"JupyterLab环境"})[t.value]||""),B=j(()=>{if(!a.value.environment)return"";const e=T().find(u=>u.value===a.value.environment);return(e==null?void 0:e.label)||""});return(m,e)=>{const u=G,f=I,_=L,i=O,H=$,g=z,J=Q,q=W;return d(),v("div",A,[e[14]||(e[14]=s("div",{class:"page-header"},[s("h2",null,"新建实训项目")],-1)),s("div",K,[s("div",X,[o(f,{value:t.value,"onUpdate:value":e[0]||(e[0]=l=>t.value=l),class:"custom-radio"},{default:n(()=>[o(u,{value:1},{default:n(()=>e[8]||(e[8]=[r("全栈环境实训项目")])),_:1,__:[8]}),o(u,{value:2},{default:n(()=>e[9]||(e[9]=[r("JupyterNotebook环境实训项目")])),_:1,__:[9]}),o(u,{value:3},{default:n(()=>e[10]||(e[10]=[r("JupyterLab环境实训项目")])),_:1,__:[10]})]),_:1},8,["value"])]),s("div",Y,[t.value===1?(d(),v(k,{key:0},[r(" 多功能新型实战项目模式，支持图形化桌面、Web IDE、命令行、提供仿真拟真等种实验场景，适用于各类复杂工程项目研发。 ")],64)):t.value===2?(d(),v(k,{key:1},[r(" 多功能实时交互实验模式，支持实时代码、数学方程、可视化和MarkDown等。 适用于数据清理、数值模拟、统计建模、机器学习等系列实验。 ")],64)):t.value===3?(d(),v(k,{key:2},[r(" 多功能实时交互实验模式，支持实时代码、数学方程、可视化和MarkDown等。 适用于数据清理、数值模拟、统计建模、机器学习等系列实验。 ")],64)):y("",!0)]),s("div",ee,[s("div",ae,[r(w(R(V))+"实训项目 ",1),a.value.environment?(d(),v("span",te," 实验环境: "+w(R(B)),1)):y("",!0)]),o(J,{ref_key:"formRef",ref:h,model:a.value,rules:x,layout:"horizontal","label-col":{span:3},"wrapper-col":{span:18}},{default:n(()=>[o(i,{label:"名称",name:"name",required:""},{default:n(()=>[o(_,{value:a.value.name,"onUpdate:value":e[1]||(e[1]=l=>a.value.name=l),placeholder:"请输入名称"},null,8,["value"])]),_:1}),o(i,{label:"简介",name:"description",required:""},{default:n(()=>[o(M,{modelValue:a.value.description,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.description=l),placeholder:"请输入简介内容",height:200},null,8,["modelValue"])]),_:1}),t.value===2?(d(),P(i,{key:0,label:"任务要求",name:"showTaskRequire"},{default:n(()=>[o(H,{checked:a.value.showTaskRequire,"onUpdate:checked":e[3]||(e[3]=l=>a.value.showTaskRequire=l)},{default:n(()=>e[11]||(e[11]=[r(" 显示任务要求（勾选后，将简介作为任务要求显示在实践项目挑战页面） ")])),_:1,__:[11]},8,["checked"])]),_:1})):y("",!0),o(i,{label:"难度",name:"difficulty",required:""},{default:n(()=>[o(g,{value:a.value.difficulty,"onUpdate:value":e[4]||(e[4]=l=>a.value.difficulty=l),placeholder:"请选择难度",options:C},null,8,["value"])]),_:1}),o(i,{label:"实验环境",name:"environment",required:""},{default:n(()=>[o(g,{value:a.value.environment,"onUpdate:value":e[5]||(e[5]=l=>a.value.environment=l),placeholder:"请选择实验环境",options:T()},null,8,["value","options"])]),_:1}),t.value===2||t.value===3?(d(),P(i,{key:1,label:"小类别",name:"secondType",required:""},{default:n(()=>[o(g,{value:a.value.secondType,"onUpdate:value":e[6]||(e[6]=l=>a.value.secondType=l),placeholder:"请选择小类别",options:N()},null,8,["value","options"])]),_:1})):y("",!0),o(i,{label:"学时",name:"classHour"},{default:n(()=>[o(_,{value:a.value.classHour,"onUpdate:value":e[7]||(e[7]=l=>a.value.classHour=l),placeholder:"配置任务后自动计算",disabled:""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),s("div",oe,[o(q,{onClick:U},{default:n(()=>e[12]||(e[12]=[r("返回")])),_:1,__:[12]}),o(q,{type:"primary",onClick:D},{default:n(()=>e[13]||(e[13]=[r("下一步")])),_:1,__:[13]})])])])}}}),ve=Z(le,[["__scopeId","data-v-c962d187"]]);export{ve as default};

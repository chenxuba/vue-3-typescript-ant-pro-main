import{d as Pe,ak as Fe,am as Le,f as m,w as Ee,o as Ne,_ as y,a1 as p,$ as r,k as t,a7 as l,ac as x,F as C,ag as Y,u as Q,a6 as q,G as c,a9 as j,ab as ze,y as Je}from"./vue-PnzzEkKE.js";import{R as ve,u as pe}from"./RichTextEditor-DdjB8zRH.js";import{e as Be,f as Oe,o as $e,r as Ge,a as fe,s as Ke,b as me,g as Ye}from"./index-BNbHNCO0.js";import{u as Qe,a as We,e as Xe}from"./dictionary-DpNHeAIs.js";import{a as Ze}from"./dictionary-CVEjEdSS.js";import{u as ea}from"./multi-tab-COARW-B7.js";import{a1 as u,a3 as aa,a2 as ta,K as la,z as sa,I as oa,a4 as ra,a5 as na,a6 as ua,a7 as ia,a8 as da,ac as ca,a9 as va,H as pa,aj as fa,Y as ma,T as _a,s as ya,J as ga,ah as wa,M as ba}from"./antd-Cme2pY03.js";import{_ as ka}from"./index-D424XRfF.js";const ha={class:"edit-jupyter-notebook-page"},Ta={class:"page-container"},Ca={class:"steps-section"},Aa={key:0},xa={class:"form-section"},Sa={class:"flex items-top gap-16px"},Ua={class:"flex flex-col gap-12px"},Va={key:0,class:"image-preview"},qa=["src"],ja={class:"flex items-top gap-16px"},Ia={class:"flex flex-col gap-12px"},Ra={key:0,class:"image-preview"},Da=["src"],Ha={class:"form-section"},Ma={key:1,class:"step-content"},Pa={class:"jupyter-header"},Fa={class:"jupyter-actions"},La={class:"jupyter-iframe-wrapper"},Ea={key:0,class:"loading-container"},Na=["src"],za={key:2,class:"step-content evaluation-step"},Ja={class:"evaluation-section"},Ba={class:"section-block"},Oa={class:"block-content"},$a={key:0,class:"section-block"},Ga={class:"block-content"},Ka={class:"test-set-label"},Ya={class:"tab-footer-buttons"},Qa={class:"reference-section"},Wa={class:"section-block"},Xa={class:"block-content"},Za={class:"tab-footer-buttons"},et={class:"page-footer"},_e="/dashboard/analysis",at=Pe({name:"EditJupyterNotebook",__name:"edit-jupyter-notebook",setup(tt){const U=Fe(),ye=Le(),ge=ea(),we=async()=>{await U.push(_e),ge.closeOther(_e)},k=m(null),w=m(null),_=m(0),V=m(!1),I=m(),W=m(),X=m(""),S=m(!1),E=m(!1),be=()=>{S.value=!S.value},Z=m("settings"),n=m({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:void 0,classHour:void 0,scoreRule:1,evaluationSetting:1,testSets:[{id:1,answer:"",select:1},{id:2,answer:"",select:1}]}),b=m({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),N=m(!1),z=m(!1),ke=(a,e)=>{a.select=e?1:2},he=m([]),i=m({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:0,topCover:"",cover:"",description:"",showTaskRequire:!0,authType:1}),R=m(""),D=m(""),H=m(!1),M=m(!1),P=window.location.origin,ee={name:[{required:!0,message:"请输入名称",trigger:"blur"}],tag:[{required:!0,message:"请输入技能标签",trigger:"blur"}],fieldType:[{required:!0,message:"请选择领域类别",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],environment:[{required:!0,message:"请选择实验环境",trigger:"change"}],classHour:[{required:!0,message:"请输入学时",trigger:"blur"}],topCover:[{required:!0,message:"请上传顶部背景图",trigger:"change"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}],authType:[{required:!0,message:"请选择培训公开范围",trigger:"change"}]},J=Qe(),ae=We(),Te=Xe(),te=m([]),B=m(!1),Ce=async()=>{try{B.value=!0;const a=await Ze({code:"project#environment_2"});a&&a.list&&(te.value=a.list.map(e=>({label:e.name,value:e.value})))}catch{u.error("加载实验环境选项失败")}finally{B.value=!1}},Ae=[{title:"基本信息"},{title:"实验内容"},{title:"评测设置"}],xe=async()=>{if(!k.value){u.error("缺少项目ID"),U.back();return}try{V.value=!0;const a=await Be({id:k.value});i.value={name:a.name||"",tag:a.tag||"",fieldType:a.fieldType,difficulty:a.difficulty||1,environment:a.environment,secondType:a.secondType,classHour:a.classHour?Number(a.classHour):0,topCover:a.topCover||"",cover:a.cover||"",description:a.description||"",showTaskRequire:a.showTaskRequire===1,authType:a.authType||1},a.topCover&&(R.value=P+a.topCover),a.cover&&(D.value=P+a.cover),await Se()}catch(a){u.error(a.message||"获取项目详情失败"),U.back()}finally{V.value=!1}},Se=async()=>{if(k.value)try{const a=await Oe({projectId:k.value,orderbyFiled:"weight:asc"});let e=[];if(Array.isArray(a)?e=a:a&&typeof a=="object"&&(e=a.list||a.data||a.tasks||[]),e&&e.length>0){const o=e.find(d=>d.type===4)||e[0];if(o){if(w.value=o.taskId,n.value.openTestValidate=o.openTestValidate||1,n.value.testValidateSh=o.testValidateSh||"",n.value.timeLimitM=o.timeLimitM?Number(o.timeLimitM):void 0,n.value.classHour=o.classHour?Number(o.classHour):void 0,n.value.scoreRule=o.scoreRule||1,n.value.evaluationSetting=o.evaluationSetting||1,o.testValidateFiles){n.value.testValidateFiles=o.testValidateFiles;const d=o.testValidateFiles.split(",");he.value=d.map((f,v)=>({uid:`${v}`,name:f.split("/").pop()||`文件${v+1}`,status:"done",url:f}))}if(o.testContent)try{const d=JSON.parse(o.testContent);Array.isArray(d)&&d.length>0&&(n.value.testSets=d.map((f,v)=>({id:v+1,answer:f.answer||"",select:f.select||1})))}catch{}b.value.showAnswer=o.showAnswer||1,b.value.prohibitCopyAnswer=o.prohibitCopyAnswer||1,b.value.referenceAnswer=o.referenceAnswer||"",o.openTestValidate&&(N.value=!0),o.referenceAnswer&&(z.value=!0)}}}catch(a){u.warning(a.message||"获取任务列表失败")}};Ee(_,async a=>{a===1&&w.value&&await Ue()});const Ue=async()=>{if(w.value)try{E.value=!0;const a=await Ye({taskId:w.value});a&&a.config&&a.config.url?(X.value=a.config.url,u.success("实验环境加载成功！")):u.warning("未获取到实验环境URL")}catch{u.error("获取实验环境失败，请稍后重试")}finally{E.value=!1}},le=()=>{_.value===0?U.back():(_.value--,T())},se=async()=>{var a,e;if(_.value===0)try{await Promise.all([(a=I.value)==null?void 0:a.validate(),(e=W.value)==null?void 0:e.validate()]),await Ve(),_.value=1,T()}catch{u.error("请完善必填信息"),T()}else if(_.value===1)if(w.value)try{const o=await $e({taskId:w.value});if(o>0)return new Promise(d=>{ba.confirm({title:"提示",content:`当前有 ${o} 个用户正在完成任务，是否重置已参与未完成任务的用户文件？`,okText:"是",cancelText:"否",onOk:async()=>{try{await Ge({taskId:w.value}),u.success("文件重置成功"),await F(),_.value=2,T(),d()}catch(f){u.error(f.message||"重置文件失败"),d()}},onCancel:async()=>{try{await F()}catch{}_.value=2,T(),d()}})});await F(),_.value=2,T()}catch(o){u.error(o.message||"查询任务用户数失败"),await F(),_.value=2,T()}else _.value=2,T();else _.value===2&&await qe()},Ve=async()=>{try{V.value=!0;const a={id:k.value,projectType:2,environment:i.value.environment,secondType:i.value.secondType,name:i.value.name,tag:i.value.tag,fieldType:i.value.fieldType,difficulty:i.value.difficulty,classHour:i.value.classHour,topCover:i.value.topCover,cover:i.value.cover,description:i.value.description,showTaskRequire:i.value.showTaskRequire?1:2,authType:i.value.authType};await fe(a),u.success("保存成功！")}catch(a){throw u.error(a.message||"项目更新失败，请稍后重试"),a}finally{V.value=!1}},F=async()=>{if(w.value)try{await Ke({taskId:w.value}),u.success("实验环境已停止")}catch{u.error("停止实验环境失败，请稍后重试")}},oe=async()=>{if(!w.value)throw u.error("任务ID不存在，请重新创建任务"),new Error("任务ID不存在");if(n.value.openTestValidate===1){if(!n.value.timeLimitM||n.value.timeLimitM<=0)throw u.error("请输入有效的评测时长限制"),new Error("请输入有效的评测时长限制");if(!n.value.classHour||n.value.classHour<=0)throw u.error("请输入有效的学时"),new Error("请输入有效的学时");if(!n.value.testSets||n.value.testSets.length===0)throw u.error("请至少添加一个测试集"),new Error("请至少添加一个测试集");const o=n.value.testSets.filter(d=>d.select===1);if(o.length===0)throw u.error("请至少选中一个测试集"),new Error("请至少选中一个测试集");for(let d=0;d<o.length;d++){const f=o[d];if(!f.answer||f.answer.trim()==="")throw u.error(`测试集${d+1}的期望输出不能为空`),new Error(`测试集${d+1}的期望输出不能为空`)}}const a=n.value.testSets.map(o=>({answer:o.answer,select:o.select})),e={taskId:w.value,projectId:k.value,openTestValidate:n.value.openTestValidate,testValidateFiles:n.value.testValidateFiles,testValidateSh:n.value.testValidateSh,timeLimitM:n.value.timeLimitM,classHour:n.value.classHour,scoreRule:n.value.scoreRule,evaluationSetting:n.value.evaluationSetting,testContent:JSON.stringify(a)};try{await me(e),N.value=!0,u.success("评测设置保存成功！")}catch(o){throw u.error("评测设置保存失败，请重试"),o}},re=async()=>{if(!w.value)throw u.error("任务ID不存在，请重新创建任务"),new Error("任务ID不存在");const a={taskId:w.value,projectId:k.value,showAnswer:b.value.showAnswer,prohibitCopyAnswer:b.value.prohibitCopyAnswer,referenceAnswer:b.value.referenceAnswer};try{await me(a),z.value=!0}catch(e){throw u.error("参考答案保存失败，请重试"),e}},qe=async()=>{if(!k.value){u.error("项目ID不存在，请重新创建项目");return}try{await oe()}catch{return}try{await re()}catch{return}try{await fe({id:k.value,status:10})}catch{u.error("项目更新失败，请重试");return}u.success("项目更新成功！"),setTimeout(()=>{we()},500)},T=()=>{Je(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const a=document.querySelector(".page-content");a&&(a.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(d=>{d.scrollTop>0&&(d.scrollTop=0)})})},je=async a=>{var d;if(!(a.size/1024/1024<12))return u.error("图片大小不能超过 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return u.error("只能上传 JPG/PNG 格式的图片!"),!1;try{H.value=!0;const f=await pe(a);R.value=P+f,i.value.topCover=f,(d=I.value)==null||d.validateFields(["topCover"]),u.success("顶部背景图上传成功")}catch{u.error("顶部背景图上传失败")}finally{H.value=!1}return!1},Ie=async a=>{var d;if(!(a.size/1024/1024<12))return u.error("图片大小不能超过 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return u.error("只能上传 JPG/PNG 格式的图片!"),!1;try{M.value=!0;const f=await pe(a);D.value=P+f,i.value.cover=f,(d=I.value)==null||d.validateFields(["cover"]),u.success("封面图上传成功")}catch{u.error("封面图上传失败")}finally{M.value=!1}return!1};return Ne(async()=>{J.load(),ae.load(),Te.load(),await Ce();const a=ye.query.id;a?(k.value=Number(a),xe()):(u.error("缺少项目ID"),U.back())}),(a,e)=>{const o=ta,d=aa,f=oa,v=sa,O=na,ne=ua,ue=ra,g=da,A=ia,$=ca,h=pa,ie=va,L=la,Re=fa,de=ma,De=ga,He=wa,ce=ya,Me=_a;return p(),y("div",ha,[e[44]||(e[44]=r("div",{class:"page-header"},[r("h2",null,"编辑JupyterNotebook环境实训项目")],-1)),t(de,{spinning:V.value},{default:l(()=>[r("div",Ta,[r("div",Ca,[t(d,{current:_.value,class:"custom-steps"},{default:l(()=>[(p(),y(C,null,Y(Ae,(s,G)=>t(o,{key:G,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),_.value===0?(p(),y("div",Aa,[e[24]||(e[24]=r("div",{class:"section-title"},[r("h3",null,"基本信息")],-1)),r("div",xa,[t(L,{ref_key:"formRef",ref:I,model:i.value,rules:ee,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[t(v,{label:"名称",name:"name",required:""},{default:l(()=>[t(f,{value:i.value.name,"onUpdate:value":e[0]||(e[0]=s=>i.value.name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1}),t(ue,null,{default:l(()=>[t(O,{span:12},{default:l(()=>[t(v,{label:"技能标签",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[t(f,{value:i.value.tag,"onUpdate:value":e[1]||(e[1]=s=>i.value.tag=s),placeholder:"请输入技能标签"},null,8,["value"]),e[17]||(e[17]=r("div",{style:{"font-size":"12px",color:"#999","margin-top":"4px"}}," 请使用英文状态下的逗号分隔技能标签，比如html,css,js ",-1))]),_:1,__:[17]})]),_:1}),t(O,{span:12},{default:l(()=>[t(v,{label:"领域类别",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[t(ne,{value:i.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>i.value.fieldType=s),placeholder:"请选择领域类别",options:Q(J).options.value,loading:Q(J).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),t(v,{label:"难度",name:"difficulty",required:""},{default:l(()=>[t(A,{value:i.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>i.value.difficulty=s),class:"custom-radio"},{default:l(()=>[(p(!0),y(C,null,Y(Q(ae).data.value,s=>(p(),q(g,{key:s.value,value:Number(s.value)},{default:l(()=>[c(j(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),t(ue,null,{default:l(()=>[t(O,{span:12},{default:l(()=>[t(v,{label:"实验环境",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[t(ne,{value:i.value.environment,"onUpdate:value":e[4]||(e[4]=s=>i.value.environment=s),placeholder:"请选择实验环境",options:te.value,loading:B.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),t(v,{label:"学时",name:"classHour",required:""},{default:l(()=>[t($,{min:0,class:"w-full",disabled:"",value:i.value.classHour,"onUpdate:value":e[5]||(e[5]=s=>i.value.classHour=s),placeholder:"请输入学时"},null,8,["value"])]),_:1}),t(v,{label:"顶部背景图",name:"topCover",required:""},{default:l(()=>[r("div",Sa,[r("div",Ua,[t(ie,{"before-upload":je,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[t(h,{loading:H.value},{default:l(()=>[H.value?(p(),y(C,{key:1},[c("上传中...")],64)):(p(),y(C,{key:0},[c("选择文件")],64))]),_:1},8,["loading"])]),_:1}),R.value?(p(),y("div",Va,[r("img",{src:R.value,alt:"顶部背景图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,qa)])):x("",!0)]),e[18]||(e[18]=r("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),t(v,{label:"封面图",name:"cover",required:""},{default:l(()=>[r("div",ja,[r("div",Ia,[t(ie,{"before-upload":Ie,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[t(h,{loading:M.value},{default:l(()=>[M.value?(p(),y(C,{key:1},[c("上传中...")],64)):(p(),y(C,{key:0},[c("选择文件")],64))]),_:1},8,["loading"])]),_:1}),D.value?(p(),y("div",Ra,[r("img",{src:D.value,alt:"封面图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Da)])):x("",!0)]),e[19]||(e[19]=r("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),t(v,{label:"简介",name:"description"},{default:l(()=>[t(ve,{modelValue:i.value.description,"onUpdate:modelValue":e[6]||(e[6]=s=>i.value.description=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e[25]||(e[25]=r("div",{class:"section-title"},[r("h3",null,"培训公开范围")],-1)),r("div",Ha,[t(L,{ref_key:"trainingScopeFormRef",ref:W,model:i.value,rules:ee,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[t(v,{label:"培训公开范围",name:"authType",required:""},{default:l(()=>[t(A,{value:i.value.authType,"onUpdate:value":e[7]||(e[7]=s=>i.value.authType=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[20]||(e[20]=[c("完全公开")])),_:1,__:[20]}),t(g,{value:2},{default:l(()=>e[21]||(e[21]=[c("全院公开")])),_:1,__:[21]}),t(g,{value:3},{default:l(()=>e[22]||(e[22]=[c("本单位公开")])),_:1,__:[22]}),t(g,{value:4},{default:l(()=>e[23]||(e[23]=[c("不公开")])),_:1,__:[23]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):x("",!0),_.value===1?(p(),y("div",Ma,[r("div",{class:ze(["jupyter-container",{fullscreen:S.value}])},[r("div",Pa,[e[26]||(e[26]=r("h3",null,"Jupyter Notebook 编辑器",-1)),r("div",Fa,[t(Re,{title:S.value?"退出全屏":"全屏"},{default:l(()=>[t(h,{type:"text",icon:S.value?"fullscreen-exit":"fullscreen",onClick:be},{default:l(()=>[c(j(S.value?"退出全屏":"全屏"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),r("div",La,[E.value?(p(),y("div",Ea,[t(de,{size:"large",tip:"正在加载实验环境..."})])):(p(),y("iframe",{key:1,src:X.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,Na))])],2)])):x("",!0),_.value===2?(p(),y("div",za,[t(Me,{activeKey:Z.value,"onUpdate:activeKey":e[16]||(e[16]=s=>Z.value=s),class:"evaluation-tabs"},{default:l(()=>[t(ce,{key:"settings",tab:"评测设置"},{default:l(()=>[r("div",Ja,[r("div",Ba,[e[33]||(e[33]=r("div",{class:"block-header"},"评测文件",-1)),r("div",Oa,[t(L,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[t(v,{label:"是否启用评测功能",required:""},{default:l(()=>[t(A,{value:n.value.openTestValidate,"onUpdate:value":e[8]||(e[8]=s=>n.value.openTestValidate=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[27]||(e[27]=[c("是")])),_:1,__:[27]}),t(g,{value:2},{default:l(()=>e[28]||(e[28]=[c("否")])),_:1,__:[28]})]),_:1},8,["value"])]),_:1}),n.value.openTestValidate===1?(p(),y(C,{key:0},[t(v,{label:"评测时长限制",required:""},{default:l(()=>[t($,{min:0,value:n.value.timeLimitM,"onUpdate:value":e[9]||(e[9]=s=>n.value.timeLimitM=s),placeholder:"请输入评测时长（分钟）",style:{width:"600px"}},null,8,["value"])]),_:1}),t(v,{label:"学时",required:""},{default:l(()=>[t($,{min:0,value:n.value.classHour,"onUpdate:value":e[10]||(e[10]=s=>n.value.classHour=s),placeholder:"请输入学时",style:{width:"600px"}},null,8,["value"])]),_:1}),t(v,{label:"系统评分规则"},{default:l(()=>[t(A,{value:n.value.scoreRule,"onUpdate:value":e[11]||(e[11]=s=>n.value.scoreRule=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[29]||(e[29]=[c(" 通过全部测试集（仅当所有测试集都正确时，获得项目学时） ")])),_:1,__:[29]}),t(g,{value:2},{default:l(()=>e[30]||(e[30]=[c(" 通过部分测试集（任意一个测试集正确时，获得项目学时） ")])),_:1,__:[30]})]),_:1},8,["value"])]),_:1}),t(v,{label:"评测设置",required:""},{default:l(()=>[t(A,{value:n.value.evaluationSetting,"onUpdate:value":e[12]||(e[12]=s=>n.value.evaluationSetting=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[31]||(e[31]=[c(" 通过所有代码块评测（对学员任务文件的所有非空代码块进行评测） ")])),_:1,__:[31]}),t(g,{value:2},{default:l(()=>e[32]||(e[32]=[c(" 通过指定代码块评测（对学员任务文件的指定非空代码块进行评测） ")])),_:1,__:[32]})]),_:1},8,["value"])]),_:1})],64)):x("",!0)]),_:1})])]),n.value.openTestValidate===1?(p(),y("div",$a,[e[34]||(e[34]=r("div",{class:"block-header"},[r("span",null,"测试集")],-1)),r("div",Ga,[(p(!0),y(C,null,Y(n.value.testSets,(s,G)=>(p(),y("div",{key:s.id,class:"test-set-item"},[t(De,{checked:s.select===1,onChange:K=>ke(s,K.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),r("span",Ka,"测试集"+j(G+1),1),t(He,{value:s.answer,"onUpdate:value":K=>s.answer=K,placeholder:"请输入期望输出",class:"test-set-input","auto-size":{minRows:3}},null,8,["value","onUpdate:value"])]))),128))])])):x("",!0),r("div",Ya,[t(h,{type:"primary",onClick:oe},{default:l(()=>[c(j(N.value?"更新":"保存"),1)]),_:1})])])]),_:1}),t(ce,{key:"reference",tab:"参考答案"},{default:l(()=>[r("div",Qa,[r("div",Wa,[e[39]||(e[39]=r("div",{class:"block-header"},"参考答案",-1)),r("div",Xa,[t(L,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[t(v,{label:"是否显示参考答案模块",required:""},{default:l(()=>[t(A,{value:b.value.showAnswer,"onUpdate:value":e[13]||(e[13]=s=>b.value.showAnswer=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[35]||(e[35]=[c("是")])),_:1,__:[35]}),t(g,{value:2},{default:l(()=>e[36]||(e[36]=[c("否")])),_:1,__:[36]})]),_:1},8,["value"])]),_:1}),t(v,{label:"是否禁止复制参考答案",required:""},{default:l(()=>[t(A,{value:b.value.prohibitCopyAnswer,"onUpdate:value":e[14]||(e[14]=s=>b.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:l(()=>[t(g,{value:1},{default:l(()=>e[37]||(e[37]=[c("是")])),_:1,__:[37]}),t(g,{value:2},{default:l(()=>e[38]||(e[38]=[c("否")])),_:1,__:[38]})]),_:1},8,["value"])]),_:1}),t(v,{label:"参考答案"},{default:l(()=>[t(ve,{modelValue:b.value.referenceAnswer,"onUpdate:modelValue":e[15]||(e[15]=s=>b.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",Za,[t(h,{type:"primary",onClick:re},{default:l(()=>[c(j(z.value?"更新":"保存"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):x("",!0),r("div",et,[_.value===0?(p(),q(h,{key:0,onClick:le},{default:l(()=>e[40]||(e[40]=[c("返回")])),_:1,__:[40]})):(p(),q(h,{key:1,onClick:le},{default:l(()=>e[41]||(e[41]=[c("上一步")])),_:1,__:[41]})),_.value===2?(p(),q(h,{key:2,type:"primary",onClick:se},{default:l(()=>e[42]||(e[42]=[c("完成更新")])),_:1,__:[42]})):(p(),q(h,{key:3,type:"primary",onClick:se},{default:l(()=>e[43]||(e[43]=[c("下一步")])),_:1,__:[43]}))])])]),_:1},8,["spinning"])])}}}),ct=ka(at,[["__scopeId","data-v-fde3de47"]]);export{ct as default};

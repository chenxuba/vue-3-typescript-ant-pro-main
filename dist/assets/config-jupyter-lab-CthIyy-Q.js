const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./antd-Drh1eHWx.js","./vue-PnzzEkKE.js"])))=>i.map(i=>d[i]);
import{k as qa,_ as Aa}from"./index-D7n1rqpJ.js";import{d as Ia,ak as Na,f as m,o as Va,w as te,c as Ie,_ as g,a1 as f,$ as r,k as l,ac as F,a7 as s,F as x,ag as O,u as b,a6 as A,G as p,a9 as j,H as Pa,a2 as ja,ab as $a,y as Ne}from"./vue-PnzzEkKE.js";import{u as Ea,a as Ha,i as Da,R as Ve,d as fe,e as Ba,s as Ga,f as Ka,g as Pe,h as Oa}from"./RichTextEditor-WzL9jkMd.js";import{b as me,d as za,a as je,c as Ja}from"./index-Bjm5j8hH.js";import{g as Wa,a as Ya}from"./dictionary-Bt2e5LnJ.js";import{H as V,j as Za,t as Qa,x as ge,c as Xa,a as el,m as al,u as ll,F as tl,b as ol,R as sl,N as nl,d as rl,e as il}from"./useFileTree-BSIqVJdR.js";import{ae as n,Y as ul,Z as dl,z as vl,I as cl,$ as pl,a0 as fl,a1 as ml,a2 as gl,a3 as yl,a7 as _l,a4 as kl,H as hl,J as bl,K as wl,a5 as Tl,a6 as Cl,f as Ul,e as xl,s as Sl,ac as Rl,ab as Fl,T as Ml,D as Ll}from"./antd-Drh1eHWx.js";const ql={class:"config-jupyter-lab-page"},Al={class:"page-container"},Il={class:"steps-section"},Nl={key:0},Vl={class:"form-section"},Pl={class:"flex items-top gap-16px"},jl={class:"flex flex-col gap-12px"},$l={key:0,class:"image-preview"},El=["src"],Hl={class:"flex items-top gap-16px"},Dl={class:"flex flex-col gap-12px"},Bl={key:0,class:"image-preview"},Gl=["src"],Kl={class:"form-section"},Ol={key:1},zl={class:"form-section repository-section"},Jl={class:"repository-top-bar flex items-center gap-16px justify-between"},Wl={class:"repository-url-group"},Yl={class:"repository-main-area"},Zl={class:"repository-left"},Ql={class:"repository-switch-box flex items-center justify-between"},Xl={class:"flex items-center gap-12px"},et={key:1,class:"repository-tips"},at={class:"repository-right"},lt={key:1,class:"empty-area"},tt={key:2,class:"step-content evaluation-step"},ot={class:"evaluation-section"},st={class:"section-block"},nt={class:"block-content"},rt={class:"file-select-wrapper"},it={class:"selected-files-list"},ut={style:{display:"flex","align-items":"center",gap:"8px"}},dt={key:0,class:"section-block"},vt={class:"block-header"},ct={class:"header-actions"},pt={class:"block-content"},ft={class:"test-set-label"},mt={class:"tab-footer-buttons"},gt={class:"reference-section"},yt={class:"section-block"},_t={class:"block-content"},kt={class:"tab-footer-buttons"},ht={key:3,class:"step-content environment-step"},bt={class:"environment-section"},wt={class:"environment-container"},Tt={class:"environment-left"},Ct={class:"search-box"},Ut={class:"environment-list"},xt=["onClick"],St={class:"environment-right"},Rt={class:"environment-config-header"},Ft={style:{display:"flex","align-items":"center",gap:"8px"}},Mt={class:"page-footer"},$e="http://101.200.13.193",Lt=Ia({name:"ConfigJupyterLab",__name:"config-jupyter-lab",setup(qt){V.registerLanguage("javascript",Za),V.registerLanguage("typescript",Qa),V.registerLanguage("xml",ge),V.registerLanguage("html",ge),V.registerLanguage("vue",ge),V.registerLanguage("css",Xa),V.registerLanguage("json",el),V.registerLanguage("markdown",al);const ye=Na(),k=m(0),T=m(null),M=m(null),z=m(),_e=m(),oe=m(""),se=m(""),J=m(!1),W=m(!1),t=m({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1,enableCodeRepository:!1,repositoryType:"ä»£ç ä»“åº“",gitUrl:""});Va(async()=>{var e;ne.load(),he.load(),E.load(),await Ee();const a=history.state;console.log("æ¥æ”¶åˆ°çš„è·¯ç”±æ•°æ®:",a),a&&a.name?(t.value.name=a.name||"",t.value.description=a.description||"",t.value.difficulty=a.difficulty||1,t.value.environment=a.environment,t.value.secondType=a.secondType,t.value.classHour=a.classHour||"",t.value.showTaskRequire=a.showTaskRequire||!1,console.log("å·²è‡ªåŠ¨å¡«å……è¡¨å•æ•°æ®:",{name:t.value.name,description:t.value.description,descriptionLength:((e=t.value.description)==null?void 0:e.length)||0,difficulty:t.value.difficulty,environment:t.value.environment,secondType:t.value.secondType,classHour:t.value.classHour,showTaskRequire:t.value.showTaskRequire})):console.log("æœªæ¥æ”¶åˆ°è·¯ç”±æ•°æ®")}),te(k,async(a,e)=>{a===2&&e===1&&!M.value&&T.value&&(console.log("è¿›å…¥ç¬¬ä¸‰æ­¥ï¼Œè‡ªåŠ¨åˆ›å»ºä»»åŠ¡..."),await ha())});const ke={name:[{required:!0,message:"è¯·è¾“å…¥åç§°",trigger:"blur"}],tag:[{required:!0,message:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾",trigger:"blur"}],fieldType:[{required:!0,message:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",trigger:"change"}],difficulty:[{required:!0,message:"è¯·é€‰æ‹©éš¾åº¦",trigger:"change"}],environment:[{required:!0,message:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",trigger:"change"}],secondType:[{required:!0,message:"è¯·é€‰æ‹©å°ç±»åˆ«",trigger:"change"}],classHour:[{required:!0,message:"è¯·è¾“å…¥å­¦æ—¶",trigger:"blur"}],topCover:[{required:!0,message:"è¯·ä¸Šä¼ é¡¶éƒ¨èƒŒæ™¯å›¾",trigger:"change"}],cover:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"change"}],authType:[{required:!0,message:"è¯·é€‰æ‹©åŸ¹è®­å…¬å¼€èŒƒå›´",trigger:"change"}]},ne=Ea(),he=Ha(),E=Da(),S=m([]),re=m(!1),Ee=async()=>{try{re.value=!0;const a=Wa(3),e=await Ya({code:a});e&&e.list&&(S.value=e.list.map(u=>({label:u.name,value:String(u.value)})),console.log("åŠ è½½ç¯å¢ƒé€‰é¡¹:",{environmentOptions:S.value,currentEnvironment:t.value.environment}),t.value.environment?(R.value=String(t.value.environment),w.value.dockerImage=String(t.value.environment),console.log("ä½¿ç”¨ç¬¬ä¸€æ­¥çš„ç¯å¢ƒ:",t.value.environment)):!R.value&&S.value.length>0&&(R.value=S.value[0].value,w.value.dockerImage=S.value[0].value,t.value.environment=S.value[0].value,console.log("é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªç¯å¢ƒ:",S.value[0])))}catch(a){console.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥ï¼š",a),n.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥")}finally{re.value=!1}},He=[{label:"åˆ‡æ¢ä»“åº“",value:"åˆ‡æ¢ä»“åº“"},{label:"ä»£ç ä»“åº“",value:"ä»£ç ä»“åº“"},{label:"ç§å¯†ä»£ç ä»“åº“",value:"ç§å¯†ä»£ç ä»“åº“"}],H=m(!1),ie=m(new Set),De=[{title:"åŸºæœ¬ä¿¡æ¯"},{title:"ä»£ç ä»“åº“"},{title:"è¯„æµ‹è®¾ç½®"},{title:"å®éªŒç¯å¢ƒ"}],{fileTreeData:be,expandedKeys:ue,selectedFile:Be,highlightedCode:Ge,dynamicFileContents:Ke,handleSelectFile:Oe,getNodePath:we,addFileToTree:Te,addFolderToTree:ze,handleRenameNode:Je,handleCopyPath:We,loadRemoteFileTree:Ye,loadChildrenData:Ze,getNodePathFromMap:de}=ll(),D=m(!1),Y=m(!1),Z=m(!1),Q=m(!1),B=m("/"),G=m("/"),Ce=m(null),X=m("/"),Qe=async a=>{var c;if(!(a.size/1024/1024<12))return n.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return n.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{J.value=!0;const i=await fe(a);oe.value=$e+i,t.value.topCover=i,(c=z.value)==null||c.validateFields(["topCover"]),n.success("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ æˆåŠŸ")}catch{n.error("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ å¤±è´¥")}finally{J.value=!1}return!1},Xe=async a=>{var c;if(!(a.size/1024/1024<12))return n.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return n.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{W.value=!0;const i=await fe(a);se.value=$e+i,t.value.cover=i,(c=z.value)==null||c.validateFields(["cover"]),n.success("å°é¢å›¾ä¸Šä¼ æˆåŠŸ")}catch{n.error("å°é¢å›¾ä¸Šä¼ å¤±è´¥")}finally{W.value=!1}return!1},ea=a=>{(typeof a=="boolean"?a:!!a)?D.value=!0:t.value.enableCodeRepository=!1},Ue=async()=>{try{const a=n.loading("æ­£åœ¨æŸ¥è¯¢ä»“åº“æ–‡ä»¶...",0),e=await Pe(t.value.gitUrl,"");Ye(e),ie.value.clear(),a(),n.success("ä»“åº“æ–‡ä»¶æŸ¥è¯¢æˆåŠŸ"),console.log("æŸ¥è¯¢ä»“åº“åœ°å€ï¼š",t.value.gitUrl),console.log("è·å–åˆ°çš„æ–‡ä»¶åˆ—è¡¨ï¼š",e)}catch(a){n.error(a.message||"ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥"),console.error("ä»“åº“æ–‡ä»¶æŸ¥è¯¢å¤±è´¥ï¼š",a)}},aa=async()=>{if(!t.value.gitUrl||!t.value.gitUrl.trim()){n.error("è¯·å…ˆé…ç½®ä»“åº“åœ°å€"),xe();return}t.value.enableCodeRepository=!0,D.value=!1,H.value=!0,await Ue()},xe=()=>{t.value.enableCodeRepository=!1,D.value=!1};te(()=>t.value.repositoryType,a=>{a==="åˆ‡æ¢ä»“åº“"&&t.value.enableCodeRepository&&(H.value=!1,n.info("å·²è§£é”ä»“åº“åœ°å€ï¼Œè¯·é‡æ–°è¾“å…¥"),Ne(()=>{t.value.repositoryType="ä»£ç ä»“åº“"}))});const la=()=>{var a;t.value.enableCodeRepository&&!H.value&&((a=t.value.gitUrl)!=null&&a.trim())&&(H.value=!0,Ue())},ta=async(a,e)=>{const{expanded:u,node:c}=e;if(u&&!c.isLeaf){const i=String(c.key);if(ie.value.has(i)){console.log("æ–‡ä»¶å¤¹å·²åŠ è½½ï¼Œè·³è¿‡ï¼š",i);return}try{const d=de(i);console.log("åŠ è½½æ–‡ä»¶å¤¹ï¼š",d,"èŠ‚ç‚¹key:",i);const h=n.loading(`æ­£åœ¨åŠ è½½ ${c.title}...`,0),y=await Pe(t.value.gitUrl,d);Ze(i,y),ie.value.add(i),h(),console.log("æ–‡ä»¶å¤¹åŠ è½½æˆåŠŸï¼š",d,y)}catch(d){n.error(d.message||"åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥"),console.error("åŠ è½½æ–‡ä»¶å¤¹å¤±è´¥ï¼š",d)}}},oa=a=>{switch(String(a.key)){case"newFile":Re();break;case"newFolder":Fe();break;case"upload":Se("/");break}},sa=(a,e)=>{const u=String(a.key),c=de(e.key)||we(e.key);switch(u){case"newFile":Re(c);break;case"newFolder":Fe(c);break;case"upload":Se(c);break;case"rename":Je(e);break;case"copyPath":We(e);break;case"delete":ra(e);break}},na=a=>{const e=u=>{const c=u.findIndex(i=>i.key===a);if(c!==-1)return u.splice(c,1),!0;for(const i of u)if(i.children&&e(i.children))return!0;return!1};e(be.value)},ra=async a=>{const e=a.children!==void 0||a.isLeaf===!1,u=a.title,i=(de(a.key)||we(a.key)).split("/");i.pop();const d=i.join("/")||"",{Modal:h}=await qa(async()=>{const{Modal:y}=await import("./antd-Drh1eHWx.js").then(q=>q.au);return{Modal:y}},__vite__mapDeps([0,1]),import.meta.url);h.confirm({title:"ç¡®è®¤åˆ é™¤",content:`ç¡®å®šè¦åˆ é™¤${e?"æ–‡ä»¶å¤¹":"æ–‡ä»¶"} "${u}" å—ï¼Ÿ${e?"æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹ä¹Ÿä¼šè¢«åˆ é™¤ã€‚":""}`,okText:"ç¡®å®š",cancelText:"å–æ¶ˆ",okType:"danger",onOk:async()=>{let y=null;try{y=n.loading("æ­£åœ¨åˆ é™¤...",0),await Oa({fileName:u,gitUrl:t.value.gitUrl,path:d}),na(a.key),y(),n.success("åˆ é™¤æˆåŠŸ"),console.log("åˆ é™¤æˆåŠŸï¼š",{fileName:u,path:d})}catch(q){y&&y(),n.error(q.message||"åˆ é™¤å¤±è´¥"),console.error("åˆ é™¤å¤±è´¥ï¼š",q)}}})},Se=a=>{var e;X.value=a,(e=Ce.value)==null||e.click()},ia=async a=>{var c;const e=a.target,u=(c=e.files)==null?void 0:c[0];if(u)try{let i=X.value==="/"?"":X.value.replace(/^\//,"");const d=n.loading(`æ­£åœ¨ä¸Šä¼  ${u.name}...`,0);await Ba(u,t.value.gitUrl,i);const h=new FileReader;h.onload=y=>{var _;const q=(_=y.target)==null?void 0:_.result;Te(u.name,q,X.value)},h.readAsText(u),d(),n.success(`æ–‡ä»¶ ${u.name} ä¸Šä¼ æˆåŠŸ`),console.log("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼š",{fileName:u.name,path:i})}catch(i){n.error(i.message||"æ–‡ä»¶ä¸Šä¼ å¤±è´¥"),console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼š",i)}finally{e&&(e.value="")}},Re=(a="/")=>{Y.value=!0,B.value=a},ua=async a=>{try{let e=B.value==="/"?"":B.value.replace(/^\//,"");const u=n.loading("æ­£åœ¨ä¿å­˜æ–‡ä»¶...",0);await Ga({fileContent:a.fileContent,fileName:a.fileName,gitUrl:t.value.gitUrl,path:e,commit:a.commitMessage}),Te(a.fileName,a.fileContent,B.value),u(),n.success("æ–‡ä»¶åˆ›å»ºæˆåŠŸ"),Y.value=!1,console.log("æ–‡ä»¶ä¿å­˜æˆåŠŸï¼š",{fileName:a.fileName,path:e})}catch(e){n.error(e.message||"æ–‡ä»¶åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶åˆ›å»ºå¤±è´¥ï¼š",e)}},Fe=(a="/")=>{Z.value=!0,G.value=a},da=async a=>{try{let e=G.value==="/"?a.folderName:`${G.value.replace(/^\//,"")}/${a.folderName}`;const u=n.loading("æ­£åœ¨åˆ›å»ºæ–‡ä»¶å¤¹...",0);await Ka({commit:a.commitMessage,gitUrl:t.value.gitUrl,path:e}),ze(a.folderName,G.value),u(),n.success("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸ"),Z.value=!1,console.log("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸï¼š",{folderName:a.folderName,path:e})}catch(e){n.error(e.message||"æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥"),console.error("æ–‡ä»¶å¤¹åˆ›å»ºå¤±è´¥ï¼š",e)}},Me=m("settings"),v=m({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:"",scoreRule:1,evaluationSetting:1,testSets:[{id:1,arg:"",answer:"",select:1},{id:2,arg:"",answer:"",select:1}]}),C=m({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),ee=m(!1),ae=m(!1);let va=3;const ca=()=>{v.value.testSets.push({id:va++,arg:"",answer:"",select:1})},pa=a=>{if(v.value.testSets.length===1){n.warning("è‡³å°‘ä¿ç•™ä¸€ä¸ªæµ‹è¯•é›†");return}v.value.testSets=v.value.testSets.filter(e=>e.id!==a),n.success("åˆ é™¤æˆåŠŸ")},fa=(a,e)=>{a.select=e?1:2},I=m([]),ma=a=>{const{onSuccess:e}=a;setTimeout(()=>{e("ok")},0)},ga=async a=>{const{fileList:e}=a,u=e.filter(i=>i.status==="uploading"||i.status==="done"||!i.status);I.value=u;const c=u.filter(i=>i.originFileObj&&!i.url).map(async i=>{try{const d=await fe(i.originFileObj);return i.url=d,d}catch(d){return console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥:",d),n.error(`æ–‡ä»¶ ${i.name} ä¸Šä¼ å¤±è´¥`),null}});if(c.length>0){const d=(await Promise.all(c)).filter(h=>h!==null);if(d.length>0){const h=u.filter(y=>y.url).map(y=>y.url).join(",");v.value.testValidateFiles=h,n.success(`æˆåŠŸä¸Šä¼  ${d.length} ä¸ªæ–‡ä»¶`)}}},ya=a=>{I.value=a.map(u=>({uid:u.uid,name:u.name,status:"done",url:u.path}));const e=a.map(u=>u.path).join(",");v.value.testValidateFiles=e,n.success(`å·²é€‰æ‹© ${a.length} ä¸ªæ–‡ä»¶`),Q.value=!1},Le=()=>{k.value===0?ye.back():(k.value--,L())},_a=async()=>{try{const a={projectType:3,environment:t.value.environment,name:t.value.name,tag:t.value.tag,fieldType:t.value.fieldType,difficulty:t.value.difficulty,classHour:t.value.classHour,topCover:t.value.topCover,cover:t.value.cover,description:t.value.description,showTaskRequire:t.value.showTaskRequire?1:2,authType:t.value.authType,enableCodeRepository:t.value.enableCodeRepository,secondType:t.value.secondType};t.value.enableCodeRepository&&(a.repositoryType=t.value.repositoryType,a.gitUrl=t.value.gitUrl),console.log("æäº¤é¡¹ç›®æ•°æ®ï¼š",a);let e;T.value?(a.id=T.value,e=await je(a),n.success("é¡¹ç›®æ›´æ–°æˆåŠŸï¼"),console.log("æ›´æ–°æˆåŠŸï¼š",e)):(e=await Ja(a),e&&e.id&&(T.value=e.id,console.log("é¡¹ç›®IDå·²ä¿å­˜ï¼š",T.value)),n.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),console.log("åˆ›å»ºæˆåŠŸï¼š",e)),k.value=2,L()}catch(a){console.error("æ“ä½œå¤±è´¥ï¼š",a),n.error(T.value?"é¡¹ç›®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•":"é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),L()}},ka=async()=>{var a,e;if(k.value===0)try{await Promise.all([(a=z.value)==null?void 0:a.validate(),(e=_e.value)==null?void 0:e.validate()]),console.log("è¡¨å•æ•°æ®ï¼š",t.value),k.value=1,L()}catch{n.error("è¯·å®Œå–„å¿…å¡«ä¿¡æ¯"),L()}else if(k.value===1){if(t.value.enableCodeRepository&&(!t.value.gitUrl||t.value.gitUrl.trim()==="")){n.error("è¯·è¾“å…¥ä»“åº“åœ°å€"),L();return}await _a()}else if(k.value===2){if(!ee.value){n.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†è¿›è¡Œä¸‹ä¸€æ­¥"),L();return}if(!ae.value){n.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†è¿›è¡Œä¸‹ä¸€æ­¥"),L();return}k.value=3,L()}},ha=async()=>{try{if(!T.value){console.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œæ— æ³•åˆ›å»ºä»»åŠ¡");return}const a={type:4,projectId:T.value,name:"JupyterLabç¯å¢ƒå®è®­ä»»åŠ¡"};console.log("è‡ªåŠ¨æäº¤ä»»åŠ¡æ•°æ®ï¼š",a);const e=await za(a);e&&e.taskId&&(M.value=e.taskId,console.log("ä»»åŠ¡IDå·²ä¿å­˜ï¼š",M.value),n.success("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼"))}catch(a){console.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼š",a),n.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},ba=async()=>{try{if(!M.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(v.value.openTestValidate===1){if(!v.value.testValidateFiles||v.value.testValidateFiles.trim()===""){n.error("è¯·ä¸Šä¼ è¯„æµ‹æ–‡ä»¶");return}if(!v.value.testValidateSh||v.value.testValidateSh.trim()===""){n.error("è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤");return}if(!v.value.timeLimitM){n.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!v.value.testSets||v.value.testSets.length===0){n.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const u=v.value.testSets.filter(c=>c.select===1);if(u.length===0){n.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let c=0;c<u.length;c++){const i=u[c];if(!i.arg||i.arg.trim()===""){n.error(`æµ‹è¯•é›†${c+1}çš„è¾“å…¥å†…å®¹ä¸èƒ½ä¸ºç©º`);return}if(!i.answer||i.answer.trim()===""){n.error(`æµ‹è¯•é›†${c+1}çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º`);return}}}const a=v.value.testSets.map(u=>({arg:u.arg,answer:u.answer,select:u.select})),e={taskId:M.value,projectId:T.value,openTestValidate:v.value.openTestValidate,testValidateFiles:v.value.testValidateFiles,testValidateSh:v.value.testValidateSh,timeLimitM:v.value.timeLimitM,scoreRule:v.value.scoreRule,evaluationSetting:v.value.evaluationSetting,testContent:JSON.stringify(a)};console.log("ä¿å­˜è¯„æµ‹è®¾ç½®æ•°æ®ï¼š",e),await me(e),ee.value=!0,n.success("è¯„æµ‹è®¾ç½®ä¿å­˜æˆåŠŸï¼")}catch(a){console.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼š",a),n.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},wa=async()=>{try{if(!M.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!C.value.referenceAnswer||C.value.referenceAnswer.trim()===""){n.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}if(!C.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){n.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}const e={taskId:M.value,projectId:T.value,showAnswer:C.value.showAnswer,prohibitCopyAnswer:C.value.prohibitCopyAnswer,referenceAnswer:C.value.referenceAnswer};console.log("ä¿å­˜å‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",e),await me(e),ae.value=!0,n.success("å‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(a){console.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",a),n.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Ta=async()=>{try{if(!T.value){n.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºé¡¹ç›®");return}if(!M.value){n.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!ee.value){n.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†å®Œæˆåˆ›å»º");return}if(!ae.value){n.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†å®Œæˆåˆ›å»º");return}if(!w.value.dockerImage){n.error("è¯·é€‰æ‹©å®éªŒç¯å¢ƒ");return}if(!w.value.timeLimitM){n.error("è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿");return}await me({taskId:M.value,projectId:T.value,dockerImage:w.value.dockerImage,secondType:w.value.secondType,timeLimitM:w.value.timeLimitM}),await je({id:T.value,status:1}),n.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),setTimeout(()=>{ye.push("/dashboard/analysis")},500)}catch(a){console.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼š",a),n.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼Œè¯·é‡è¯•")}},R=m(""),le=m(""),Ca=Ie(()=>le.value?S.value.filter(a=>a.label.toLowerCase().includes(le.value.toLowerCase())):S.value),Ua=Ie(()=>{const a=S.value.find(e=>e.value===R.value);return a?a.label:"æœªé€‰æ‹©"}),w=m({dockerImage:"",secondType:"Css",timeLimitM:""}),xa=a=>{R.value=a,w.value.dockerImage=a,t.value.environment!==a&&(t.value.environment=a)};te(()=>t.value.environment,a=>{console.log("formData.environment å˜åŒ–:",a,"å½“å‰ selectedEnvironment:",R.value),a&&String(a)!==R.value&&(R.value=String(a),w.value.dockerImage=String(a),console.log("å·²åŒæ­¥åˆ°ç¬¬å››æ­¥:",R.value))}),te(()=>R.value,a=>{console.log("selectedEnvironment å˜åŒ–ä¸º:",a)});const L=()=>{Ne(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const a=document.querySelector(".page-content");a&&(a.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(c=>{c.scrollTop>0&&(c.scrollTop=0)})})};return(a,e)=>{const u=ul,c=dl,i=cl,d=vl,h=fl,y=ml,q=pl,_=yl,P=gl,ve=_l,U=hl,ce=kl,qe=bl,K=wl,Sa=Tl,pe=xl,Ra=Ul,Fa=Ll,Ma=Rl,Ae=Sl,La=Ml;return f(),g("div",ql,[e[74]||(e[74]=r("div",{class:"page-header"},[r("h2",null,"JupyterLabç¯å¢ƒå®è®­é¡¹ç›®é…ç½®")],-1)),r("div",Al,[r("div",Il,[l(c,{current:k.value,class:"custom-steps"},{default:s(()=>[(f(),g(x,null,O(De,(o,N)=>l(u,{key:N,title:o.title},null,8,["title"])),64))]),_:1},8,["current"])]),k.value===0?(f(),g("div",Nl,[e[38]||(e[38]=r("div",{class:"section-title"},[r("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),r("div",Vl,[l(K,{ref_key:"formRef",ref:z,model:t.value,rules:ke,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:s(()=>[l(d,{label:"åç§°",name:"name",required:""},{default:s(()=>[l(i,{value:t.value.name,"onUpdate:value":e[0]||(e[0]=o=>t.value.name=o),placeholder:"è¯·è¾“å…¥åç§°"},null,8,["value"])]),_:1}),l(q,null,{default:s(()=>[l(h,{span:12},{default:s(()=>[l(d,{label:"æŠ€èƒ½æ ‡ç­¾",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:s(()=>[l(i,{value:t.value.tag,"onUpdate:value":e[1]||(e[1]=o=>t.value.tag=o),placeholder:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾"},null,8,["value"])]),_:1})]),_:1}),l(h,{span:12},{default:s(()=>[l(d,{label:"é¢†åŸŸç±»åˆ«",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:s(()=>[l(y,{value:t.value.fieldType,"onUpdate:value":e[2]||(e[2]=o=>t.value.fieldType=o),placeholder:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",options:b(ne).options.value,loading:b(ne).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),l(d,{label:"éš¾åº¦",name:"difficulty",required:""},{default:s(()=>[l(P,{value:t.value.difficulty,"onUpdate:value":e[3]||(e[3]=o=>t.value.difficulty=o),class:"custom-radio"},{default:s(()=>[(f(!0),g(x,null,O(b(he).data.value,o=>(f(),A(_,{key:o.value,value:Number(o.value)},{default:s(()=>[p(j(o.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),l(q,null,{default:s(()=>[l(h,{span:12},{default:s(()=>[l(d,{label:"å®éªŒç¯å¢ƒ",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:s(()=>[l(y,{value:t.value.environment,"onUpdate:value":e[4]||(e[4]=o=>t.value.environment=o),placeholder:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",options:S.value,loading:re.value},null,8,["value","options","loading"])]),_:1})]),_:1}),l(h,{span:12},{default:s(()=>[l(d,{label:"å°ç±»åˆ«",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:s(()=>[l(y,{value:t.value.secondType,"onUpdate:value":e[5]||(e[5]=o=>t.value.secondType=o),placeholder:"è¯·é€‰æ‹©å°ç±»åˆ«",options:b(E).options.value,loading:b(E).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),l(d,{label:"å­¦æ—¶",name:"classHour",required:""},{default:s(()=>[l(ve,{min:0,class:"w-full",value:t.value.classHour,"onUpdate:value":e[6]||(e[6]=o=>t.value.classHour=o),placeholder:"è¯·è¾“å…¥å­¦æ—¶"},null,8,["value"])]),_:1}),l(d,{label:"é¡¶éƒ¨èƒŒæ™¯å›¾",name:"topCover",required:""},{default:s(()=>[r("div",Pl,[r("div",jl,[l(ce,{"before-upload":Qe,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:s(()=>[l(U,{loading:J.value},{default:s(()=>[J.value?(f(),g(x,{key:1},[p("ä¸Šä¼ ä¸­...")],64)):(f(),g(x,{key:0},[p("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),oe.value?(f(),g("div",$l,[r("img",{src:oe.value,alt:"é¡¶éƒ¨èƒŒæ™¯å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,El)])):F("",!0)]),e[31]||(e[31]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),l(d,{label:"å°é¢å›¾",name:"cover",required:""},{default:s(()=>[r("div",Hl,[r("div",Dl,[l(ce,{"before-upload":Xe,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:s(()=>[l(U,{loading:W.value},{default:s(()=>[W.value?(f(),g(x,{key:1},[p("ä¸Šä¼ ä¸­...")],64)):(f(),g(x,{key:0},[p("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),se.value?(f(),g("div",Bl,[r("img",{src:se.value,alt:"å°é¢å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Gl)])):F("",!0)]),e[32]||(e[32]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),l(d,{label:"ç®€ä»‹",name:"description"},{default:s(()=>[l(Ve,{modelValue:t.value.description,"onUpdate:modelValue":e[7]||(e[7]=o=>t.value.description=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"ä»»åŠ¡è¦æ±‚",name:"showTaskRequire"},{default:s(()=>[l(qe,{checked:t.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=o=>t.value.showTaskRequire=o)},{default:s(()=>e[33]||(e[33]=[p(" æ˜¾ç¤ºä»»åŠ¡è¦æ±‚ï¼ˆå‹¾é€‰åï¼Œå°†å¸®ä½œä¸ºä»»åŠ¡è¦æ±‚æ˜¾ç¤ºåœ¨ä»»åŠ¡é¡¹ç›®æ”¿ç­–é¢ï¼‰ ")])),_:1,__:[33]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[39]||(e[39]=r("div",{class:"section-title"},[r("h3",null,"åŸ¹è®­å…¬å¼€èŒƒå›´")],-1)),r("div",Kl,[l(K,{ref_key:"trainingScopeFormRef",ref:_e,model:t.value,rules:ke,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:s(()=>[l(d,{label:"åŸ¹è®­å…¬å¼€èŒƒå›´",name:"authType",required:""},{default:s(()=>[l(P,{value:t.value.authType,"onUpdate:value":e[9]||(e[9]=o=>t.value.authType=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[34]||(e[34]=[p("å®Œå…¨å…¬å¼€")])),_:1,__:[34]}),l(_,{value:2},{default:s(()=>e[35]||(e[35]=[p("å…¨é™¢å…¬å¼€")])),_:1,__:[35]}),l(_,{value:3},{default:s(()=>e[36]||(e[36]=[p("æœ¬å•ä½å…¬å¼€")])),_:1,__:[36]}),l(_,{value:4},{default:s(()=>e[37]||(e[37]=[p("ä¸å…¬å¼€")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):F("",!0),k.value===1?(f(),g("div",Ol,[r("div",zl,[r("div",Jl,[l(y,{value:t.value.repositoryType,"onUpdate:value":e[10]||(e[10]=o=>t.value.repositoryType=o),options:He,class:"repository-type-select"},null,8,["value"]),r("div",Wl,[e[40]||(e[40]=r("span",{class:"url-label"},"ä»“åº“åœ°å€ï¼š",-1)),l(i,{value:t.value.gitUrl,"onUpdate:value":e[11]||(e[11]=o=>t.value.gitUrl=o),placeholder:"è¯·è¾“å…¥ä»“åº“åœ°å€",class:"url-input",disabled:H.value,onBlur:la},null,8,["value","disabled"])])]),r("div",Yl,[r("div",Zl,[r("div",Ql,[r("div",Xl,[e[41]||(e[41]=r("span",{class:"switch-label"},"ä»£ç ä»“åº“",-1)),l(Sa,{checked:t.value.enableCodeRepository,disabled:t.value.enableCodeRepository,onChange:ea},null,8,["checked","disabled"])]),t.value.enableCodeRepository?(f(),A(Fa,{key:0},{overlay:s(()=>[l(Ra,{onClick:oa},{default:s(()=>[l(pe,{key:"newFile"},{default:s(()=>e[42]||(e[42]=[p("æ–°å»ºæ–‡ä»¶")])),_:1,__:[42]}),l(pe,{key:"newFolder"},{default:s(()=>e[43]||(e[43]=[p("æ–°å»ºæ–‡ä»¶å¤¹")])),_:1,__:[43]}),l(pe,{key:"upload"},{default:s(()=>e[44]||(e[44]=[p("ä¸Šä¼ ")])),_:1,__:[44]})]),_:1})]),default:s(()=>[l(U,{type:"primary",size:"small"},{default:s(()=>[l(b(Cl)),e[45]||(e[45]=p(" æ–°å»º "))]),_:1,__:[45]})]),_:1})):F("",!0)]),t.value.enableCodeRepository?(f(),A(tl,{key:0,"file-tree-data":b(be),"expanded-keys":b(ue),"onUpdate:expandedKeys":e[12]||(e[12]=o=>Pa(ue)?ue.value=o:null),onSelect:b(Oe),onMenuClick:sa,onExpand:ta},null,8,["file-tree-data","expanded-keys","onSelect"])):F("",!0),t.value.enableCodeRepository?(f(),g("div",et,e[46]||(e[46]=[ja('<div class="tips-title" data-v-afa2fa3a>æç¤ºï¼š</div><div class="tips-content" data-v-afa2fa3a> æ­¤å¤„å­˜æ”¾æœ¬å®è®­æ‰€éœ€çš„æ‰€æœ‰ä»£ç ç­‰ç›¸å…³æ–‡ä»¶ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ï¼š </div><div class="tips-list" data-v-afa2fa3a> 1ã€<a href="#" class="tips-link" data-v-afa2fa3a>Giteeå®¢æˆ·ç«¯</a> ä¸Šä¼ å·²æœ‰æ–‡ä»¶æ¥å¼€å§‹ä½¿ç”¨ã€‚ </div><div class="tips-list" data-v-afa2fa3a> 2ã€ç›´æ¥åœ¨å¹³å°ä¸Šåˆ›å»ºæ–‡ä»¶ç›®å½•ä»¥åŠç›¸å…³ä»£ç æ–‡ä»¶ã€‚ </div>',4)]))):F("",!0)]),r("div",at,[t.value.enableCodeRepository?(f(),A(ol,{key:0,"selected-file":b(Be),"highlighted-code":b(Ge),"dynamic-file-contents":b(Ke)},null,8,["selected-file","highlighted-code","dynamic-file-contents"])):(f(),g("div",lt," åœ¨å·¦ä¾§ä»£ç ä»“åº“åŒºåŸŸç‚¹å‡»ç›®å½•æ‰“å¼€æ–‡ä»¶ "))])])])])):F("",!0),k.value===2?(f(),g("div",tt,[l(La,{activeKey:Me.value,"onUpdate:activeKey":e[23]||(e[23]=o=>Me.value=o),class:"evaluation-tabs"},{default:s(()=>[l(Ae,{key:"settings",tab:"è¯„æµ‹è®¾ç½®"},{default:s(()=>[r("div",ot,[r("div",st,[e[59]||(e[59]=r("div",{class:"block-header"},"è¯„æµ‹æ–‡ä»¶",-1)),r("div",nt,[l(K,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:s(()=>[l(d,{label:"æ˜¯å¦å¯ç”¨è¯„æµ‹åŠŸèƒ½",required:""},{default:s(()=>[l(P,{value:v.value.openTestValidate,"onUpdate:value":e[13]||(e[13]=o=>v.value.openTestValidate=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[47]||(e[47]=[p("æ˜¯")])),_:1,__:[47]}),l(_,{value:2},{default:s(()=>e[48]||(e[48]=[p("å¦")])),_:1,__:[48]})]),_:1},8,["value"])]),_:1}),v.value.openTestValidate===1?(f(),g(x,{key:0},[l(d,{label:"è¯„æµ‹æ–‡ä»¶",required:""},{default:s(()=>[t.value.enableCodeRepository?(f(),g(x,{key:1},[r("div",rt,[l(U,{type:"primary",onClick:e[15]||(e[15]=o=>Q.value=!0)},{default:s(()=>e[51]||(e[51]=[p("ç‚¹å‡»é€‰æ‹©")])),_:1,__:[51]}),r("div",it,[(f(!0),g(x,null,O(I.value,o=>(f(),A(Ma,{key:o.uid,closable:"",onClose:()=>{I.value=I.value.filter(N=>N.uid!==o.uid),v.value.testValidateFiles=I.value.map(N=>N.url).join(",")},style:{margin:"4px"}},{default:s(()=>[p(j(o.name),1)]),_:2},1032,["onClose"]))),128))])]),e[52]||(e[52]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šä»ä»£ç ä»“åº“ä¸­é€‰æ‹©æ–‡ä»¶ã€‚ï¼ˆç‚¹å‡»è¯„æµ‹æŒ‰é’®æ—¶è°ƒç”¨çš„æ–‡ä»¶ï¼Œç”¨äºæ£€éªŒå­¦å‘˜ä»»åŠ¡ç»“æœæ˜¯å¦æ­£ç¡®ï¼‰ ",-1))],64)):(f(),g(x,{key:0},[l(ce,{"file-list":I.value,"onUpdate:fileList":e[14]||(e[14]=o=>I.value=o),"custom-request":ma,onChange:ga,"max-count":10},{default:s(()=>[l(U,{type:"primary"},{default:s(()=>e[49]||(e[49]=[p("ç‚¹å‡»ä¸Šä¼ ")])),_:1,__:[49]})]),_:1},8,["file-list"]),e[50]||(e[50]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡500Mã€‚ ",-1))],64))]),_:1}),l(d,{label:"è¯„æµ‹æ‰§è¡Œå‘½ä»¤",required:""},{default:s(()=>[l(i,{value:v.value.testValidateSh,"onUpdate:value":e[16]||(e[16]=o=>v.value.testValidateSh=o),placeholder:"è¯·è¾“å…¥è¯„æµ‹æ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼špython main.py"},null,8,["value"]),e[53]||(e[53]=r("div",{class:"upload-hint"}," ï¼ˆæ‰§è¡Œè¯„æµ‹æ–‡ä»¶çš„å‘½ä»¤ï¼Œå¦‚ï¼špython main.pyã€node index.jsã€java Main ç­‰ï¼‰ ",-1))]),_:1,__:[53]}),l(d,{label:"è¯„æµ‹æ—¶é•¿é™åˆ¶",required:""},{default:s(()=>[r("div",ut,[l(ve,{value:v.value.timeLimitM,"onUpdate:value":e[17]||(e[17]=o=>v.value.timeLimitM=o),min:1,placeholder:"è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",style:{width:"580px"}},null,8,["value"]),e[54]||(e[54]=r("span",null,"åˆ†é’Ÿ",-1))])]),_:1}),l(d,{label:"ç³»ç»Ÿè¯„åˆ†è§„åˆ™"},{default:s(()=>[l(P,{value:v.value.scoreRule,"onUpdate:value":e[18]||(e[18]=o=>v.value.scoreRule=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[55]||(e[55]=[p(" é€šè¿‡å…¨éƒ¨æµ‹è¯•é›†ï¼ˆä»…å½“æ‰€æœ‰æµ‹è¯•é›†éƒ½æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[55]}),l(_,{value:2},{default:s(()=>e[56]||(e[56]=[p(" é€šè¿‡éƒ¨åˆ†æµ‹è¯•é›†ï¼ˆä»»æ„ä¸€ä¸ªæµ‹è¯•é›†æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[56]})]),_:1},8,["value"])]),_:1}),l(d,{label:"è¯„æµ‹è®¾ç½®",required:""},{default:s(()=>[l(P,{value:v.value.evaluationSetting,"onUpdate:value":e[19]||(e[19]=o=>v.value.evaluationSetting=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[57]||(e[57]=[p(" é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æ‰€æœ‰éç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[57]}),l(_,{value:2},{default:s(()=>e[58]||(e[58]=[p(" é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æŒ‡å®šéç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[58]})]),_:1},8,["value"])]),_:1})],64)):F("",!0)]),_:1})])]),v.value.openTestValidate===1?(f(),g("div",dt,[r("div",vt,[e[61]||(e[61]=r("span",null,"æµ‹è¯•é›†",-1)),r("div",ct,[l(U,{onClick:ca},{default:s(()=>e[60]||(e[60]=[p("æ–°å¢æµ‹è¯•é›†")])),_:1,__:[60]})])]),r("div",pt,[(f(!0),g(x,null,O(v.value.testSets,(o,N)=>(f(),g("div",{key:o.id,class:"test-set-item"},[l(qe,{checked:o.select===1,onChange:$=>fa(o,$.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),r("span",ft,"æµ‹è¯•é›†"+j(N+1),1),l(i,{value:o.arg,"onUpdate:value":$=>o.arg=$,placeholder:"è¯·è¾“å…¥è¾“å…¥å†…å®¹",class:"test-set-input"},null,8,["value","onUpdate:value"]),l(i,{value:o.answer,"onUpdate:value":$=>o.answer=$,placeholder:"è¯·è¾“å…¥æœŸæœ›è¾“å‡º",class:"test-set-input"},null,8,["value","onUpdate:value"]),l(b(Fl),{class:"delete-test-set-icon",onClick:$=>pa(o.id)},null,8,["onClick"])]))),128))])])):F("",!0),r("div",mt,[l(U,{type:"primary",onClick:ba},{default:s(()=>[p(j(ee.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1}),l(Ae,{key:"reference",tab:"å‚è€ƒç­”æ¡ˆ"},{default:s(()=>[r("div",gt,[r("div",yt,[e[66]||(e[66]=r("div",{class:"block-header"},"å‚è€ƒç­”æ¡ˆ",-1)),r("div",_t,[l(K,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:s(()=>[l(d,{label:"æ˜¯å¦æ˜¾ç¤ºå‚è€ƒç­”æ¡ˆæ¨¡å—",required:""},{default:s(()=>[l(P,{value:C.value.showAnswer,"onUpdate:value":e[20]||(e[20]=o=>C.value.showAnswer=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[62]||(e[62]=[p("æ˜¯")])),_:1,__:[62]}),l(_,{value:2},{default:s(()=>e[63]||(e[63]=[p("å¦")])),_:1,__:[63]})]),_:1},8,["value"])]),_:1}),l(d,{label:"æ˜¯å¦ç¦æ­¢å¤åˆ¶å‚è€ƒç­”æ¡ˆ",required:""},{default:s(()=>[l(P,{value:C.value.prohibitCopyAnswer,"onUpdate:value":e[21]||(e[21]=o=>C.value.prohibitCopyAnswer=o),class:"custom-radio"},{default:s(()=>[l(_,{value:1},{default:s(()=>e[64]||(e[64]=[p("æ˜¯")])),_:1,__:[64]}),l(_,{value:2},{default:s(()=>e[65]||(e[65]=[p("å¦")])),_:1,__:[65]})]),_:1},8,["value"])]),_:1}),l(d,{label:"å‚è€ƒç­”æ¡ˆ",required:""},{default:s(()=>[l(Ve,{modelValue:C.value.referenceAnswer,"onUpdate:modelValue":e[22]||(e[22]=o=>C.value.referenceAnswer=o)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",kt,[l(U,{type:"primary",onClick:wa},{default:s(()=>[p(j(ae.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):F("",!0),k.value===3?(f(),g("div",ht,[r("div",bt,[e[69]||(e[69]=r("h3",{class:"section-main-title"},"å®éªŒç¯å¢ƒ",-1)),r("div",wt,[r("div",Tt,[r("div",Ct,[l(i,{value:le.value,"onUpdate:value":e[24]||(e[24]=o=>le.value=o),placeholder:"æœç´¢éœ€è¦çš„å®éªŒç¯å¢ƒ","allow-clear":""},{suffix:s(()=>e[67]||(e[67]=[r("span",{class:"search-icon"},"ğŸ”",-1)])),_:1},8,["value"])]),r("div",Ut,[(f(!0),g(x,null,O(Ca.value,o=>(f(),g("div",{key:o.value,class:$a(["environment-item",{active:R.value===o.value}]),onClick:N=>xa(o.value)},j(o.label),11,xt))),128))])]),r("div",St,[r("div",Rt," å®éªŒç¯å¢ƒ: "+j(Ua.value),1),l(K,{model:w.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:16}},{default:s(()=>[l(d,{label:"é™„å¸¦ç¯å¢ƒ"},{default:s(()=>[l(y,{value:w.value.secondType,"onUpdate:value":e[25]||(e[25]=o=>w.value.secondType=o),placeholder:"è¯·é€‰æ‹©é™„å¸¦ç¯å¢ƒ",options:b(E).options.value,loading:b(E).loading.value},null,8,["value","options","loading"])]),_:1}),l(d,{label:"å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿"},{default:s(()=>[r("div",Ft,[l(ve,{value:w.value.timeLimitM,"onUpdate:value":e[26]||(e[26]=o=>w.value.timeLimitM=o),min:1,placeholder:"è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿",style:{flex:"1"}},null,8,["value"]),e[68]||(e[68]=r("span",null,"åˆ†",-1))])]),_:1})]),_:1},8,["model"])])])])])):F("",!0),r("div",Mt,[k.value===0?(f(),A(U,{key:0,onClick:Le},{default:s(()=>e[70]||(e[70]=[p("è¿”å›")])),_:1,__:[70]})):(f(),A(U,{key:1,onClick:Le},{default:s(()=>e[71]||(e[71]=[p("ä¸Šä¸€æ­¥")])),_:1,__:[71]})),k.value===3?(f(),A(U,{key:2,type:"primary",onClick:Ta},{default:s(()=>e[72]||(e[72]=[p("å®Œæˆåˆ›å»º")])),_:1,__:[72]})):(f(),A(U,{key:3,type:"primary",onClick:ka},{default:s(()=>e[73]||(e[73]=[p("ä¸‹ä¸€æ­¥")])),_:1,__:[73]}))])]),r("input",{ref_key:"fileUploadInput",ref:Ce,type:"file",style:{display:"none"},onChange:ia},null,544),l(sl,{open:D.value,"onUpdate:open":e[27]||(e[27]=o=>D.value=o),onConfirm:aa,onCancel:xe},null,8,["open"]),l(nl,{open:Y.value,"onUpdate:open":e[28]||(e[28]=o=>Y.value=o),"parent-path":B.value,onConfirm:ua},null,8,["open","parent-path"]),l(rl,{open:Z.value,"onUpdate:open":e[29]||(e[29]=o=>Z.value=o),"parent-path":G.value,onConfirm:da},null,8,["open","parent-path"]),l(il,{open:Q.value,"onUpdate:open":e[30]||(e[30]=o=>Q.value=o),title:"é€‰æ‹©è¯„æµ‹æ–‡ä»¶","git-url":t.value.gitUrl,onConfirm:ya},null,8,["open","git-url"])])}}}),Et=Aa(Lt,[["__scopeId","data-v-afa2fa3a"]]);export{Et as default};

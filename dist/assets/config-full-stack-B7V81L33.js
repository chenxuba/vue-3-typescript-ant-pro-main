import{d as ua,ab as da,f as k,o as pa,c as ca,w as va,y as Ce,a0 as f,a3 as d,a1 as n,k as t,af as b,a9 as a,G as r,F as I,a8 as C,u as o,H as oe,a4 as fa,ac as x,aj as D,ae as $,B as ze,ah as ma}from"./vue-CHyeelTQ.js";import{u as Je}from"./file-CwxGix9E.js";import{u as ga,a as Ge,c as ya}from"./index-ofKVqujx.js";import{H as P,j as _a,t as ka,x as Te,c as ba,a as wa,m as Ca,u as Ta,F as ha,b as Ua,R as qa,N as xa,d as Ra}from"./useFileTree-8VJkwBhC.js";import{R as he}from"./RichTextEditor-BtFf15Wy.js";import{u as Ia,Q as Fa}from"./useTaskLevel-BHCO_mvy.js";import{a7 as p,a8 as Pa,a9 as Sa,U as La,V as Ea,aa as ja,ab as Ma,w as Na,ac as Va,ad as Ba,ae as Da,H as $a,$ as Ha,a0 as Aa,y as Qa,af as We,c as Oa,f as Ka,D as za,ag as ne,K as Ja,ah as Ga,ai as Wa,aj as Xa,ak as Xe,T as Ya,x as Za,J as el}from"./antd-CtyD9qUH.js";import{_ as tl}from"./index-DMa2UkPf.js";const al={class:"config-full-stack-page"},ll={class:"page-content"},sl={class:"steps-container"},ol={key:0},nl={class:"form-section"},il={class:"flex items-top gap-16px"},rl={class:"flex flex-col gap-12px"},ul={key:0,class:"image-preview"},dl=["src"],pl={class:"flex items-top gap-16px"},cl={class:"flex flex-col gap-12px"},vl={key:0,class:"image-preview"},fl=["src"],ml={class:"form-section"},gl={key:1},yl={class:"form-section repository-section"},_l={class:"repository-top-bar flex items-center gap-16px justify-between"},kl={class:"repository-url-group"},bl={class:"repository-main-area"},wl={class:"repository-left"},Cl={class:"repository-switch-box flex items-center justify-between"},Tl={class:"flex items-center gap-12px"},hl={key:1,class:"repository-tips"},Ul={class:"repository-right"},ql={key:1,class:"empty-area"},xl={key:2},Rl={class:"task-level-section"},Il={class:"task-level-header"},Fl={class:"header-buttons"},Pl={class:"task-level-main"},Sl={class:"task-level-list"},Ll={class:"list-title"},El={class:"list-items"},jl=["onClick"],Ml={class:"item-name"},Nl={class:"task-level-detail"},Vl={key:0,class:"detail-content"},Bl={key:0,class:"questions-content"},Dl={key:1,class:"questions-list"},$l=["onDragstart","onDrop"],Hl={class:"question-header"},Al={class:"question-number-with-drag"},Ql={class:"question-number"},Ol={class:"action-icons"},Kl={class:"question-title"},zl={key:0,class:"flex"},Jl=["innerHTML"],Gl={key:1,style:{color:"#bfbfbf"}},Wl={class:"question-options"},Xl={class:"option-label"},Yl={class:"option-content"},Zl={key:0,class:"correct-tag"},es={class:"question-explanation"},ts={class:"explanation-content"},as={key:0},ls={key:1,style:{color:"#bfbfbf"}},ss={class:"evaluation-content"},os={class:"evaluation-section"},ns={class:"evaluation-section"},is={class:"evaluation-section"},rs={class:"case-type-row"},us={key:0,class:"test-case-buttons"},ds={key:0,class:"test-cases-list"},ps={class:"test-case-label"},cs={key:0,class:"form-footer-buttons"},vs={key:1,class:"empty-detail"},fs={key:3,class:"step-content"},ms={class:"content-card"},gs={class:"environment-header"},ys={class:"environment-actions"},_s={class:"tab-label"},ks=["onDblclick"],bs={class:"experiment-image-info"},ws={class:"experiment-interfaces"},Cs={key:0,style:{color:"#999"}},Ts={key:1,style:{color:"#999"}},hs={class:"page-footer"},Ye="http://101.200.13.193",Us=ua({name:"ConfigFullStack",__name:"config-full-stack",setup(qs){P.registerLanguage("javascript",_a),P.registerLanguage("typescript",ka),P.registerLanguage("xml",Te),P.registerLanguage("html",Te),P.registerLanguage("vue",Te),P.registerLanguage("css",ba),P.registerLanguage("json",wa),P.registerLanguage("markdown",Ca);const Ue=da(),U=k(0),R=k(null),W=k(),qe=k(),X=k(),i=k({name:"",tag:"",fieldType:void 0,difficulty:1,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1,enableCodeRepository:!1,repositoryType:"代码仓库",gitUrl:"",environment:void 0}),ie=k(""),re=k(""),Y=k(!1),Z=k(!1),S=k(void 0),Ze=()=>({1:"Python3.6",2:"Python3.13",3:"Python3.12/VNC"})[S.value||1]||"Python3.6";pa(()=>{var e;const l=history.state;console.log("接收到的路由数据:",l),l&&l.name?(i.value.name=l.name||"",i.value.description=l.description||"",i.value.difficulty=l.difficulty||1,i.value.classHour=l.classHour||"",i.value.showTaskRequire=l.showTaskRequire||!1,S.value=l.environment||1,console.log("已自动填充表单数据:",{name:i.value.name,description:i.value.description,descriptionLength:((e=i.value.description)==null?void 0:e.length)||0,difficulty:i.value.difficulty,classHour:i.value.classHour,showTaskRequire:i.value.showTaskRequire,environment:S.value})):(console.log("未接收到路由数据"),S.value=1),at()});const xe={name:[{required:!0,message:"请输入名称",trigger:"blur"}],tag:[{required:!0,message:"请输入技能标签",trigger:"blur"}],fieldType:[{required:!0,message:"请选择领域类别",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],topCover:[{required:!0,message:"请上传顶部背景图",trigger:"change"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}],authType:[{required:!0,message:"请选择培训公开范围",trigger:"change"}]},et=[{label:"人工智能",value:1},{label:"大数据",value:2},{label:"云计算",value:3},{label:"Web开发",value:4}],tt=[{label:"切换仓库",value:"切换仓库"},{label:"代码仓库",value:"代码仓库"},{label:"私密代码仓库",value:"私密代码仓库"}],H=k(!1),q=k([]),at=()=>{q.value.length===0&&(q.value=[{id:"1",name:"实验环境1",isEditing:!1,isSaved:!1,config:{dockerImage:S.value||1,viewTypes:[],secondType:void 0,taskId:void 0,codeType:void 0,shellBegin:void 0,containerPort:void 0,containerPath:void 0}}])},V=k("1"),A=k(""),lt={dockerImage:[{required:!0,message:"请选择实验镜像",trigger:"change"}],viewTypes:[{required:!0,type:"array",min:1,message:"请至少选择一个实验界面",trigger:"change"}],secondType:[{required:!0,message:"请选择附带环境",trigger:"change"}],taskId:[{required:!0,message:"请选择任务关卡",trigger:"change"}],codeType:[{required:!0,message:"请选择编程语言",trigger:"change"}],shellBegin:[{required:!0,message:"请输入开启时触发命令",trigger:"blur"}],containerPort:[{required:!0,message:"请输入容器端口",trigger:"blur"}]},Re=ca(()=>{var e;const l=q.value.find(c=>c.id===V.value);return(l==null?void 0:l.config)||((e=q.value[0])==null?void 0:e.config)}),{fileTreeData:st,expandedKeys:ue,selectedFile:ot,highlightedCode:nt,handleSelectFile:it,getNodePath:rt,addFileToTree:ut,addFolderToTree:dt,handleRenameNode:pt,handleCopyPath:ct,handleDeleteNode:vt}=Ta(),{taskLevels:L,selectedTaskLevelId:Ie,currentTab:B,taskLevelFormRef:de,evaluationFormRef:ft,taskLevelFormData:y,evaluationFormData:T,learningResourceFileList:pe,taskLevelFormRules:mt,evaluationFormRules:gt,isKernelTask:yt,isChoiceTask:ce,isProgrammingTask:Fe,addTaskLevel:ve,deleteTaskLevel:_t,selectTaskLevel:fe,saveTaskLevel:kt,resetTaskLevel:bt,handleLearningResourceCustomRequest:me,handleLearningResourceUpload:wt,handleUserFilesUpload:Ct,handleTestValidateFilesUpload:Tt,userFileList:ge,testValidateFileList:ye,addTestCase:ht,removeTestCase:Ut,clearAllTestCases:qt,downloadTemplate:xt,batchUploadTestCases:Rt,getCurrentQuestions:ee,addQuestion:It,deleteQuestion:Ft,updateQuestion:Pt,updateQuestionsOrder:St,loadQuestions:Pe,saveQuestionsOrder:Lt}=Ia(R),Q=k(!1),te=k(!1),ae=k(!1),le=k(!1),O=k(null),_e=k("/"),ke=k("/"),Et=async l=>{var g;if(!(l.size/1024/1024<12))return p.error("图片大小不能超过 12MB!"),!1;if(!(l.type==="image/jpeg"||l.type==="image/png"))return p.error("只能上传 JPG/PNG 格式的图片!"),!1;try{Y.value=!0;const m=await Je(l);ie.value=Ye+m,i.value.topCover=m,(g=W.value)==null||g.validateFields(["topCover"]),p.success("顶部背景图上传成功")}catch{p.error("顶部背景图上传失败")}finally{Y.value=!1}return!1},jt=async l=>{var g;if(!(l.size/1024/1024<12))return p.error("图片大小不能超过 12MB!"),!1;if(!(l.type==="image/jpeg"||l.type==="image/png"))return p.error("只能上传 JPG/PNG 格式的图片!"),!1;try{Z.value=!0;const m=await Je(l);re.value=Ye+m,i.value.cover=m,(g=W.value)==null||g.validateFields(["cover"]),p.success("封面图上传成功")}catch{p.error("封面图上传失败")}finally{Z.value=!1}return!1},Mt=l=>{(typeof l=="boolean"?l:!!l)?Q.value=!0:i.value.enableCodeRepository=!1},Se=async()=>{try{p.loading("正在查询仓库文件...",1),await new Promise(l=>setTimeout(l,1e3)),p.success("仓库文件查询成功"),console.log("模拟请求仓库地址：",i.value.gitUrl)}catch{p.error("仓库文件查询失败")}},Nt=async()=>{if(!i.value.gitUrl||!i.value.gitUrl.trim()){p.error("请先配置仓库地址"),Le();return}i.value.enableCodeRepository=!0,Q.value=!1,H.value=!0,await Se()},Le=()=>{i.value.enableCodeRepository=!1,Q.value=!1};va(()=>i.value.repositoryType,l=>{l==="切换仓库"&&i.value.enableCodeRepository&&(H.value=!1,p.info("已解锁仓库地址，请重新输入"),Ce(()=>{i.value.repositoryType="代码仓库"}))});const Vt=()=>{var l;i.value.enableCodeRepository&&!H.value&&((l=i.value.gitUrl)!=null&&l.trim())&&(H.value=!0,Se())},Bt=l=>{switch(String(l.key)){case"newFile":Ee();break;case"newFolder":je();break;case"upload":p.info("上传功能开发中...");break}},Dt=(l,e)=>{const c=String(l.key),g=rt(e.key);switch(c){case"newFile":Ee(g);break;case"newFolder":je(g);break;case"upload":p.info("上传功能开发中...");break;case"rename":pt(e);break;case"copyPath":ct(e);break;case"delete":vt(e);break}},Ee=(l="/")=>{te.value=!0,_e.value=l},$t=l=>{ut(l.fileName,l.fileContent,_e.value),p.success("文件创建成功"),te.value=!1},je=(l="/")=>{ae.value=!0,ke.value=l},Ht=l=>{dt(l.folderName,ke.value),p.success("文件夹创建成功"),ae.value=!1},K=()=>{Ce(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const l=document.querySelector(".page-content");l&&(l.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(g=>{g.scrollTop>0&&(g.scrollTop=0)})})},Me=()=>{U.value>0?(U.value--,K()):Ue.back()},At=async()=>{var l,e;if(U.value===0)try{await Promise.all([(l=W.value)==null?void 0:l.validate(),(e=qe.value)==null?void 0:e.validate()]),console.log("表单数据：",i.value),U.value=1,K()}catch{p.error("请完善必填信息"),K()}else if(U.value===1){if(i.value.enableCodeRepository&&(!i.value.gitUrl||i.value.gitUrl.trim()==="")){p.error("请输入仓库地址");return}await Qt()}else if(U.value===2){if(L.value.length===0){p.error("请至少添加一个任务关卡");return}if(L.value.some(u=>!u.taskId)){p.error("请先保存所有任务关卡后再进行下一步");return}const g=L.value.find(u=>u.type==="choice"&&u.taskId&&(!u.questions||u.questions.length===0));if(g){p.warning("请至少新增一条题目"),fe(g.id),B.value="questions";return}const m=L.value.find(u=>u.type!=="programming"||!u.taskId||!u.evaluationSettings?!1:u.evaluationSettings.testValidateType===1?!u.evaluationSettings.testContent||u.evaluationSettings.testContent.length===0:!1);if(m){p.warning("用例类型为文本时，必须至少创建一条测试集"),fe(m.id),B.value="evaluation";return}U.value=3,K()}},Qt=async()=>{try{const l={projectType:1,environment:S.value,name:i.value.name,tag:i.value.tag,fieldType:i.value.fieldType,difficulty:i.value.difficulty,classHour:i.value.classHour,topCover:i.value.topCover,cover:i.value.cover,description:i.value.description,showTaskRequire:i.value.showTaskRequire?1:2,authType:i.value.authType,enableCodeRepository:i.value.enableCodeRepository};i.value.enableCodeRepository&&(l.repositoryType=i.value.repositoryType,l.gitUrl=i.value.gitUrl),console.log("提交项目数据：",l);let e;R.value?(l.id=R.value,e=await Ge(l),p.success("项目更新成功！"),console.log("更新成功：",e)):(e=await ya(l),e&&e.id&&(R.value=e.id,console.log("项目ID已保存：",R.value)),p.success("项目创建成功！"),console.log("创建成功：",e)),U.value=2,K()}catch(l){console.error("操作失败：",l),p.error(R.value?"项目更新失败，请稍后重试":"项目创建失败，请稍后重试")}},be=async(l,e=0)=>{var c,g;try{if(e!==1){const u=["dockerImage","viewTypes","secondType","taskId"],F=[];l.config.viewTypes.includes(1)?u.push("codeType"):F.push("codeType"),l.config.viewTypes.includes(2)?u.push("shellBegin"):F.push("shellBegin"),l.config.viewTypes.includes(3)?u.push("containerPort"):F.push("containerPort"),F.length>0&&((c=X.value)==null||c.clearValidate(F)),await((g=X.value)==null?void 0:g.validate(u))}if(!R.value){p.error("项目ID不存在，无法保存");return}const m={title:l.name,dockerImage:l.config.dockerImage,viewTypes:l.config.viewTypes.join(","),secondType:l.config.secondType,taskId:l.config.taskId?Number(l.config.taskId):void 0,codeType:l.config.codeType,shellBegin:l.config.shellBegin,containerPort:l.config.containerPort,containerPath:l.config.containerPath,projectId:R.value,envisDel:e};console.log("保存实验环境数据：",m),await ga(m),e!==1?(l.isSaved=!0,p.success("实验环境保存成功！")):p.success("删除成功！")}catch(m){console.error("保存失败：",m),p.error(e===1?"删除失败":"请完善必填信息")}},Ot=async()=>{if(q.value.filter(e=>!e.isSaved).length>0){p.error("请先保存实验环境配置");return}if(!R.value){p.error("项目ID不存在，请先创建项目");return}try{await Ge({id:R.value,status:1}),p.success("项目创建成功！"),setTimeout(()=>{Ue.push("/dashboard/analysis")},500)}catch(e){console.error("项目发布失败：",e),p.error(e.message||"项目发布失败")}},Kt=l=>{var c;l.replace(/<[^>]*>/g,"").trim()&&((c=de.value)==null||c.clearValidate(["require"]))},zt=l=>{var c;l.replace(/<[^>]*>/g,"").trim()&&((c=de.value)==null||c.clearValidate(["referenceAnswer"]))},Jt=()=>{O.value=null,le.value=!0},Gt=l=>{O.value=l,le.value=!0},Wt=async l=>{O.value?Pt(l):It(l),O.value=null,y.value.taskId&&await Pe(y.value.taskId)},Xt=l=>{try{return JSON.parse(l.selects||"[]").map(c=>{const g=Object.keys(c)[0];return{label:g,content:c[g]}})}catch{return[]}},Ne=(l,e)=>l.answer.includes(e),E=k(null),Yt=l=>{E.value=l},Zt=l=>{l.preventDefault()},ea=async(l,e)=>{if(l.preventDefault(),E.value!==null&&E.value!==e){const c=[...ee.value],[g]=c.splice(E.value,1);c.splice(e,0,g),c.forEach((m,u)=>{m.weight=u+1}),St(c);try{console.log("开始保存题目排序..."),await Lt(c),p.success("题目顺序已更新")}catch(m){console.error("保存题目排序失败:",m),p.error(m.message||"保存题目排序失败，请重试")}}E.value=null},ta=()=>{E.value=null},we=l=>{const e=Re.value;if(!e)return;const c=e.viewTypes.indexOf(l);c>-1?(e.viewTypes.splice(c,1),l===1?e.codeType=void 0:l===2?e.shellBegin=void 0:l===3&&(e.containerPort=void 0,e.containerPath=void 0)):e.viewTypes.push(l),Ce(()=>{var g;(g=X.value)==null||g.clearValidate(["viewTypes"])})},Ve=(l,e)=>{if(!e)return!1;const c=typeof e=="string"?Number(e):e;return q.value.some(g=>{if(!g.config.taskId)return!1;const m=typeof g.config.taskId=="string"?Number(g.config.taskId):g.config.taskId;return g.id!==l&&m===c})},aa=()=>{const l=String(Date.now()),e={id:l,name:`实验环境${q.value.length+1}`,isEditing:!1,isSaved:!1,config:{dockerImage:S.value||1,viewTypes:[],secondType:void 0,taskId:void 0,codeType:void 0,shellBegin:void 0,containerPort:void 0,containerPath:void 0}};q.value.push(e),V.value=l,p.success("添加实验环境成功")},la=async l=>{if(q.value.length===1){p.warning("至少保留一个实验环境");return}const e=q.value.findIndex(c=>c.id===l);if(e>-1){const c=q.value[e];c.isSaved&&await be(c,1),q.value.splice(e,1),V.value===l&&(V.value=q.value[0].id),c.isSaved||p.success("删除实验环境成功")}},Be=l=>{l.isEditing=!0,A.value=l.name},De=l=>{A.value.trim()?(l.name=A.value.trim(),l.isEditing=!1,l.isSaved&&(p.success("重命名成功"),be(l))):p.warning("名称不能为空")},sa=async l=>{const e=String(l);if(ce.value&&e==="questions"){if(!y.value.taskId){p.warning("请先保存创建任务后再添加题目");return}y.value.taskId&&await Pe(y.value.taskId)}if(Fe.value&&e==="evaluation"&&!y.value.taskId){p.warning("请先保存创建任务后再配置评测设置");return}B.value=e},oa=(l,e)=>{l.select=e?1:2};return(l,e)=>{const c=Pa,g=Sa,m=Ea,u=La,F=Ma,z=Na,na=ja,w=Ba,j=Va,_=$a,J=Da,$e=Ha,M=Aa,ia=Qa,G=Ka,He=Oa,Ae=za,Qe=Ga,se=Ja,Oe=Wa,Ke=Ya,N=Za;return d(),f("div",al,[e[110]||(e[110]=n("div",{class:"page-header"},[n("h2",null,"全栈环境实训项目配置")],-1)),n("div",ll,[n("div",sl,[t(g,{current:U.value,class:"custom-steps"},{default:a(()=>[t(c,{title:"基本信息"}),t(c,{title:"代码仓库"}),t(c,{title:"任务关卡"}),t(c,{title:"实验环境"})]),_:1},8,["current"])]),U.value===0?(d(),f("div",ol,[e[50]||(e[50]=n("div",{class:"section-title"},[n("h3",null,"基本信息")],-1)),n("div",nl,[t(M,{ref_key:"formRef",ref:W,model:i.value,rules:xe,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"名称",name:"name",required:""},{default:a(()=>[t(m,{value:i.value.name,"onUpdate:value":e[0]||(e[0]=s=>i.value.name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1}),t(na,null,{default:a(()=>[t(F,{span:12},{default:a(()=>[t(u,{label:"技能标签",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:a(()=>[t(m,{value:i.value.tag,"onUpdate:value":e[1]||(e[1]=s=>i.value.tag=s),placeholder:"请输入技能标签"},null,8,["value"])]),_:1})]),_:1}),t(F,{span:12},{default:a(()=>[t(u,{label:"领域类别",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:a(()=>[t(z,{value:i.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>i.value.fieldType=s),placeholder:"请选择领域类别",options:et},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(u,{label:"难度",name:"difficulty",required:""},{default:a(()=>[t(j,{value:i.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>i.value.difficulty=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[40]||(e[40]=[r("简单")])),_:1,__:[40]}),t(w,{value:2},{default:a(()=>e[41]||(e[41]=[r("适中")])),_:1,__:[41]}),t(w,{value:3},{default:a(()=>e[42]||(e[42]=[r("困难")])),_:1,__:[42]})]),_:1},8,["value"])]),_:1}),t(u,{label:"学时",name:"classHour"},{default:a(()=>[t(m,{value:i.value.classHour,"onUpdate:value":e[4]||(e[4]=s=>i.value.classHour=s),placeholder:"配置任务后自动计算",disabled:""},null,8,["value"])]),_:1}),t(u,{label:"顶部背景图",name:"topCover",required:""},{default:a(()=>[n("div",il,[n("div",rl,[t(J,{"before-upload":Et,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:a(()=>[t(_,{loading:Y.value},{default:a(()=>[Y.value?(d(),f(I,{key:1},[r("上传中...")],64)):(d(),f(I,{key:0},[r("选择文件")],64))]),_:1},8,["loading"])]),_:1}),ie.value?(d(),f("div",ul,[n("img",{src:ie.value,alt:"顶部背景图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,dl)])):b("",!0)]),e[43]||(e[43]=n("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),t(u,{label:"封面图",name:"cover",required:""},{default:a(()=>[n("div",pl,[n("div",cl,[t(J,{"before-upload":jt,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:a(()=>[t(_,{loading:Z.value},{default:a(()=>[Z.value?(d(),f(I,{key:1},[r("上传中...")],64)):(d(),f(I,{key:0},[r("选择文件")],64))]),_:1},8,["loading"])]),_:1}),re.value?(d(),f("div",vl,[n("img",{src:re.value,alt:"封面图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,fl)])):b("",!0)]),e[44]||(e[44]=n("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),t(u,{label:"简介",name:"description"},{default:a(()=>[t(he,{modelValue:i.value.description,"onUpdate:modelValue":e[5]||(e[5]=s=>i.value.description=s)},null,8,["modelValue"])]),_:1}),t(u,{label:"任务要求",name:"showTaskRequire"},{default:a(()=>[t($e,{checked:i.value.showTaskRequire,"onUpdate:checked":e[6]||(e[6]=s=>i.value.showTaskRequire=s)},{default:a(()=>e[45]||(e[45]=[r(" 显示任务要求（勾选后，将帮作为任务要求显示在任务项目政策面） ")])),_:1,__:[45]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[51]||(e[51]=n("div",{class:"section-title"},[n("h3",null,"培训公开范围")],-1)),n("div",ml,[t(M,{ref_key:"trainingScopeFormRef",ref:qe,model:i.value,rules:xe,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"培训公开范围",name:"authType",required:""},{default:a(()=>[t(j,{value:i.value.authType,"onUpdate:value":e[7]||(e[7]=s=>i.value.authType=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[46]||(e[46]=[r("完全公开")])),_:1,__:[46]}),t(w,{value:2},{default:a(()=>e[47]||(e[47]=[r("全院公开")])),_:1,__:[47]}),t(w,{value:3},{default:a(()=>e[48]||(e[48]=[r("本单位公开")])),_:1,__:[48]}),t(w,{value:4},{default:a(()=>e[49]||(e[49]=[r("不公开")])),_:1,__:[49]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):b("",!0),U.value===1?(d(),f("div",gl,[n("div",yl,[n("div",_l,[t(z,{value:i.value.repositoryType,"onUpdate:value":e[8]||(e[8]=s=>i.value.repositoryType=s),options:tt,class:"repository-type-select"},null,8,["value"]),n("div",kl,[e[52]||(e[52]=n("span",{class:"url-label"},"仓库地址：",-1)),t(m,{value:i.value.gitUrl,"onUpdate:value":e[9]||(e[9]=s=>i.value.gitUrl=s),placeholder:"请输入仓库地址",class:"url-input",disabled:H.value,onBlur:Vt},null,8,["value","disabled"])])]),n("div",bl,[n("div",wl,[n("div",Cl,[n("div",Tl,[e[53]||(e[53]=n("span",{class:"switch-label"},"代码仓库",-1)),t(ia,{checked:i.value.enableCodeRepository,disabled:i.value.enableCodeRepository,onChange:Mt},null,8,["checked","disabled"])]),i.value.enableCodeRepository?(d(),C(Ae,{key:0},{overlay:a(()=>[t(He,{onClick:Bt},{default:a(()=>[t(G,{key:"newFile"},{default:a(()=>e[54]||(e[54]=[r("新建文件")])),_:1,__:[54]}),t(G,{key:"newFolder"},{default:a(()=>e[55]||(e[55]=[r("新建文件夹")])),_:1,__:[55]}),t(G,{key:"upload"},{default:a(()=>e[56]||(e[56]=[r("上传")])),_:1,__:[56]})]),_:1})]),default:a(()=>[t(_,{type:"primary",size:"small"},{default:a(()=>[t(o(We)),e[57]||(e[57]=r(" 新建 "))]),_:1,__:[57]})]),_:1})):b("",!0)]),i.value.enableCodeRepository?(d(),C(ha,{key:0,"file-tree-data":o(st),"expanded-keys":o(ue),"onUpdate:expandedKeys":e[10]||(e[10]=s=>oe(ue)?ue.value=s:null),onSelect:o(it),onMenuClick:Dt},null,8,["file-tree-data","expanded-keys","onSelect"])):b("",!0),i.value.enableCodeRepository?(d(),f("div",hl,e[58]||(e[58]=[fa('<div class="tips-title" data-v-0ce0cc86>提示：</div><div class="tips-content" data-v-0ce0cc86> 此处存放本实训所需的所有代码等相关文件，你可以通过以下： </div><div class="tips-list" data-v-0ce0cc86> 1、<a href="#" class="tips-link" data-v-0ce0cc86>Gitee客户端</a> 上传已有文件来开始使用。 </div><div class="tips-list" data-v-0ce0cc86> 2、直接在平台上创建文件目录以及相关代码文件。 </div>',4)]))):b("",!0)]),n("div",Ul,[i.value.enableCodeRepository?(d(),C(Ua,{key:0,"selected-file":o(ot),"highlighted-code":o(nt)},null,8,["selected-file","highlighted-code"])):(d(),f("div",ql," 在左侧代码仓库区域点击目录打开文件 "))])])])])):b("",!0),U.value===2?(d(),f("div",xl,[n("div",Rl,[n("div",Il,[n("div",Fl,[t(_,{type:"primary",onClick:e[11]||(e[11]=s=>o(ve)("kernel"))},{default:a(()=>e[59]||(e[59]=[r("添加内核链接任务")])),_:1,__:[59]}),t(_,{type:"primary",onClick:e[12]||(e[12]=s=>o(ve)("choice"))},{default:a(()=>e[60]||(e[60]=[r("添加选择题任务")])),_:1,__:[60]}),t(_,{type:"primary",onClick:e[13]||(e[13]=s=>o(ve)("programming"))},{default:a(()=>e[61]||(e[61]=[r("添加编程任务")])),_:1,__:[61]})])]),n("div",Pl,[n("div",Sl,[n("div",Ll,"任务关卡 ("+x(o(L).length)+")",1),n("div",El,[(d(!0),f(I,null,D(o(L),s=>(d(),f("div",{key:s.id,class:$(["list-item",{active:o(Ie)===s.id}]),onClick:v=>o(fe)(s.id)},[n("span",Ml,x(s.name),1),t(o(ne),{class:"delete-icon",onClick:ze(v=>o(_t)(s.id),["stop"])},null,8,["onClick"])],10,jl))),128))])]),n("div",Nl,[o(Ie)?(d(),f("div",Vl,[t(Ke,{activeKey:o(B),onChange:sa},ma({default:a(()=>[t(se,{key:"task",tab:"关联任务"},{default:a(()=>[t(M,{ref_key:"taskLevelFormRef",ref:de,model:o(y),rules:o(mt),layout:"horizontal","label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"任务名称",name:"name",required:""},{default:a(()=>[t(m,{value:o(y).name,"onUpdate:value":e[14]||(e[14]=s=>o(y).name=s),placeholder:"请输入任务名称"},null,8,["value"])]),_:1}),t(u,{label:"学习资源",name:"source",required:""},{default:a(()=>[t(J,{"file-list":o(pe),"onUpdate:fileList":e[15]||(e[15]=s=>oe(pe)?pe.value=s:null),"custom-request":o(me),onChange:o(wt),accept:".doc,.docx,.pdf,.ppt,.pptx,.mp4","max-count":10},{default:a(()=>[t(_,{type:"primary"},{default:a(()=>e[63]||(e[63]=[r("点击上传")])),_:1,__:[63]})]),_:1},8,["file-list","custom-request","onChange"]),e[64]||(e[64]=n("div",{class:"upload-hint"}," 说明：支持上传word、pdf、ppt、mp4等格式文件，每个文件大小不能超过500M。 ",-1))]),_:1,__:[64]}),t(u,{label:"任务要求",name:"require",required:""},{default:a(()=>[t(he,{modelValue:o(y).require,"onUpdate:modelValue":e[16]||(e[16]=s=>o(y).require=s),placeholder:"请输入任务要求",onChange:Kt},null,8,["modelValue"])]),_:1}),t(u,{label:"参考答案",name:"referenceAnswer",required:""},{default:a(()=>[t(he,{modelValue:o(y).referenceAnswer,"onUpdate:modelValue":e[17]||(e[17]=s=>o(y).referenceAnswer=s),placeholder:"请输入参考答案",onChange:zt},null,8,["modelValue"])]),_:1}),t(u,{label:"难度系数",name:"difficulty",required:""},{default:a(()=>[t(j,{value:o(y).difficulty,"onUpdate:value":e[18]||(e[18]=s=>o(y).difficulty=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[65]||(e[65]=[r("简单")])),_:1,__:[65]}),t(w,{value:2},{default:a(()=>e[66]||(e[66]=[r("适中")])),_:1,__:[66]}),t(w,{value:3},{default:a(()=>e[67]||(e[67]=[r("困难")])),_:1,__:[67]})]),_:1},8,["value"])]),_:1}),t(u,{label:"技能标签",name:"tag",required:""},{default:a(()=>[t(m,{value:o(y).tag,"onUpdate:value":e[19]||(e[19]=s=>o(y).tag=s),placeholder:"请输入技能标签"},null,8,["value"])]),_:1}),o(yt)?(d(),C(u,{key:0,label:"内嵌链接",name:"jumpUrl",required:""},{default:a(()=>[t(m,{value:o(y).jumpUrl,"onUpdate:value":e[20]||(e[20]=s=>o(y).jumpUrl=s),placeholder:"请输入内嵌链接"},null,8,["value"])]),_:1})):b("",!0),t(u,{label:"任务学时",name:"classHour",required:""},{default:a(()=>[t(Qe,{style:{width:"100%"},min:0,value:o(y).classHour,"onUpdate:value":e[21]||(e[21]=s=>o(y).classHour=s),placeholder:"请输入任务学时"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),o(ce)?(d(),C(se,{key:"questions",tab:"题目"},{default:a(()=>[o(ee).length===0?(d(),f("div",Bl,[t(Oe,{description:"暂无题目，请点击右上方按钮新增题目"})])):(d(),f("div",Dl,[(d(!0),f(I,null,D(o(ee),(s,v)=>(d(),f("div",{key:s.id,class:$(["question-item",{dragging:E.value===v}]),draggable:"true",onDragstart:h=>Yt(v),onDragover:Zt,onDrop:h=>ea(h,v),onDragend:ta},[n("div",Hl,[n("div",Al,[t(o(Xa),{class:"drag-handle"}),n("span",Ql,"题目"+x(v+1),1)]),n("div",Ol,[t(o(Xe),{class:"edit-icon",onClick:h=>Gt(s)},null,8,["onClick"]),t(o(ne),{class:"delete-icon",onClick:h=>o(Ft)(s.id)},null,8,["onClick"])])]),n("div",Kl,[s.name?(d(),f("div",zl,[r(x(v+1)+"、 ",1),n("div",{innerHTML:s.name},null,8,Jl)])):(d(),f("div",Gl,"暂无题干"))]),n("div",Wl,[(d(!0),f(I,null,D(Xt(s),(h,ra)=>(d(),f("div",{key:ra,class:$(["option-row",{"is-correct":Ne(s,h.label)}])},[n("span",Xl,x(h.label)+".",1),n("span",Yl,x(h.content),1),Ne(s,h.label)?(d(),f("span",Zl,"正确答案")):b("",!0)],2))),128))]),n("div",es,[e[68]||(e[68]=n("div",{class:"explanation-label"},"答案解析：",-1)),n("div",ts,[s.answerKey?(d(),f("span",as,x(s.answerKey),1)):(d(),f("span",ls,"暂无答案解析"))])])],42,$l))),128))]))]),_:1})):b("",!0),o(Fe)?(d(),C(se,{key:"evaluation",tab:"评测设置"},{default:a(()=>[n("div",ss,[n("div",os,[e[75]||(e[75]=n("div",{class:"section-header"},"评测文件",-1)),t(M,{ref_key:"evaluationFormRef",ref:ft,model:o(T),rules:o(gt),layout:"horizontal","label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"评测时长限制",name:"timeLimitM",required:""},{default:a(()=>[t(Qe,{value:o(T).timeLimitM,"onUpdate:value":e[22]||(e[22]=s=>o(T).timeLimitM=s),min:0,placeholder:"请输入评测时长限制",style:{width:"200px"}},null,8,["value"]),e[69]||(e[69]=n("span",{style:{"margin-left":"8px"}},"分钟",-1))]),_:1,__:[69]}),t(u,{label:"学员任务文件",name:"userFiles",required:""},{default:a(()=>[t(J,{"file-list":o(ge),"onUpdate:fileList":e[23]||(e[23]=s=>oe(ge)?ge.value=s:null),"custom-request":o(me),onChange:o(Ct),accept:".js,.ts,.py,.java,.cpp,.c","max-count":10},{default:a(()=>[t(_,{type:"primary"},{default:a(()=>e[70]||(e[70]=[r("点击上传")])),_:1,__:[70]})]),_:1},8,["file-list","custom-request","onChange"]),e[71]||(e[71]=n("div",{class:"upload-hint"}," 说明：支持上传多个代码文件，每个文件大小不能超过500M。（学员评测基本任务时名称，查看效果页上需要编辑的文件类型） ",-1))]),_:1,__:[71]}),t(u,{label:"评测执行文件",name:"testValidateFiles",required:""},{default:a(()=>[t(J,{"file-list":o(ye),"onUpdate:fileList":e[24]||(e[24]=s=>oe(ye)?ye.value=s:null),"custom-request":o(me),onChange:o(Tt),accept:".js,.ts,.py,.java,.cpp,.c","max-count":10},{default:a(()=>[t(_,{type:"primary"},{default:a(()=>e[72]||(e[72]=[r("点击上传")])),_:1,__:[72]})]),_:1},8,["file-list","custom-request","onChange"]),e[73]||(e[73]=n("div",{class:"upload-hint"},' 说明：支持上传多个代码文件，每个文件大小不能超过500M。（点击评测按钮时调用的文件，用于检验学员任务结果是否正确，可与"学员任务文件"一致） ',-1))]),_:1,__:[73]}),t(u,{label:"评测执行命令",name:"testValidateSh",required:""},{default:a(()=>[t(m,{value:o(T).testValidateSh,"onUpdate:value":e[25]||(e[25]=s=>o(T).testValidateSh=s),placeholder:"请输入评测执行命令，例如：python main.py"},null,8,["value"]),e[74]||(e[74]=n("div",{class:"upload-hint"}," （执行评测文件的命令，如：python main.py、node index.js、java Main 等） ",-1))]),_:1,__:[74]})]),_:1},8,["model","rules"])]),n("div",ns,[e[81]||(e[81]=n("div",{class:"section-header"},"评测规则",-1)),t(M,{layout:"horizontal","label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"通关判定"},{default:a(()=>[t(j,{value:o(T).passType,"onUpdate:value":e[26]||(e[26]=s=>o(T).passType=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[76]||(e[76]=[r("实际输出与期望输出对比")])),_:1,__:[76]}),t(w,{value:2},{default:a(()=>e[77]||(e[77]=[r("实际输出满足规则")])),_:1,__:[77]})]),_:1},8,["value"])]),_:1}),t(u,{label:"空格处理"},{default:a(()=>[t(j,{value:o(T).blankCode,"onUpdate:value":e[27]||(e[27]=s=>o(T).blankCode=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[78]||(e[78]=[r("不忽略空格")])),_:1,__:[78]}),t(w,{value:2},{default:a(()=>e[79]||(e[79]=[r("忽略首尾空格")])),_:1,__:[79]}),t(w,{value:3},{default:a(()=>e[80]||(e[80]=[r("忽略所有空格(仅通过空格中自动添加所有空格进行对比)")])),_:1,__:[80]})]),_:1},8,["value"])]),_:1})]),_:1})]),n("div",is,[e[90]||(e[90]=n("div",{class:"section-header"},"测试集",-1)),t(M,{layout:"horizontal","label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[t(u,{label:"得分规则"},{default:a(()=>[t(j,{value:o(T).scoreRule,"onUpdate:value":e[28]||(e[28]=s=>o(T).scoreRule=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[82]||(e[82]=[r("通过全部测试集（所有测试集都正确，才获取对应积分；否则得0学分）")])),_:1,__:[82]}),t(w,{value:2},{default:a(()=>e[83]||(e[83]=[r("通过部分测试集（选中的测试集全部正确，获取任务学分；否则得0学分）")])),_:1,__:[83]})]),_:1},8,["value"])]),_:1}),t(u,{label:"用例类型"},{default:a(()=>[n("div",rs,[t(j,{value:o(T).testValidateType,"onUpdate:value":e[29]||(e[29]=s=>o(T).testValidateType=s),class:"custom-radio"},{default:a(()=>[t(w,{value:1},{default:a(()=>e[84]||(e[84]=[r("文本")])),_:1,__:[84]}),t(w,{value:2},{default:a(()=>e[85]||(e[85]=[r("文件")])),_:1,__:[85]})]),_:1},8,["value"]),o(T).testValidateType===1?(d(),f("div",us,[t(_,{type:"primary",onClick:o(ht)},{default:a(()=>e[86]||(e[86]=[r("新增测试集")])),_:1,__:[86]},8,["onClick"]),t(_,{onClick:o(qt)},{default:a(()=>e[87]||(e[87]=[r("一键删除测试用例")])),_:1,__:[87]},8,["onClick"]),t(_,{onClick:o(xt)},{default:a(()=>e[88]||(e[88]=[r("下载测试用例模板")])),_:1,__:[88]},8,["onClick"]),t(_,{onClick:o(Rt)},{default:a(()=>e[89]||(e[89]=[r("批量上传测试用例")])),_:1,__:[89]},8,["onClick"])])):b("",!0)])]),_:1}),o(T).testValidateType===1&&o(T).testContent.length>0?(d(),f("div",ds,[(d(!0),f(I,null,D(o(T).testContent,(s,v)=>(d(),f("div",{key:s.id,class:"test-case-item"},[t($e,{checked:s.select===1,onChange:h=>oa(s,h.target.checked),class:"test-case-checkbox"},null,8,["checked","onChange"]),n("span",ps,"测试集"+x(v+1),1),t(m,{value:s.args,"onUpdate:value":h=>s.args=h,placeholder:"请输入输入内容",class:"test-case-input"},null,8,["value","onUpdate:value"]),t(m,{value:s.answer,"onUpdate:value":h=>s.answer=h,placeholder:"请输入期望输出",class:"test-case-output"},null,8,["value","onUpdate:value"]),t(o(ne),{class:"delete-test-case",onClick:h=>o(Ut)(s.id)},null,8,["onClick"])]))),128))])):b("",!0)]),_:1})])])]),_:1})):b("",!0)]),_:2},[o(ce)&&o(B)==="questions"?{name:"tabBarExtraContent",fn:a(()=>[t(_,{type:"primary",onClick:Jt},{default:a(()=>[t(o(We)),e[62]||(e[62]=r(" 新增题目 "))]),_:1,__:[62]})]),key:"0"}:void 0]),1032,["activeKey"]),o(B)!=="questions"?(d(),f("div",cs,[o(y).taskId?b("",!0):(d(),C(_,{key:0,onClick:o(bt)},{default:a(()=>e[91]||(e[91]=[r("重置")])),_:1,__:[91]},8,["onClick"])),t(_,{type:"primary",onClick:o(kt)},{default:a(()=>[r(x(o(y).taskId?"更新":"保存"),1)]),_:1},8,["onClick"])])):b("",!0)])):(d(),f("div",vs,[t(Oe,{description:"请先添加任务关卡"})]))])])])])):b("",!0),U.value===3?(d(),f("div",fs,[n("div",ms,[n("div",gs,[e[94]||(e[94]=n("h3",{class:"environment-title"},"实验环境",-1)),n("div",ys,[t(_,{type:"primary",onClick:aa},{default:a(()=>e[92]||(e[92]=[r("添加实验环境")])),_:1,__:[92]}),t(_,null,{default:a(()=>e[93]||(e[93]=[r("设置")])),_:1,__:[93]})])]),t(M,{ref_key:"experimentFormRef",ref:X,model:o(Re),rules:lt,"label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[t(Ke,{activeKey:V.value,"onUpdate:activeKey":e[35]||(e[35]=s=>V.value=s)},{default:a(()=>[(d(!0),f(I,null,D(q.value,s=>(d(),C(se,{key:s.id},{tab:a(()=>[n("div",_s,[s.isEditing?(d(),C(m,{key:0,value:A.value,"onUpdate:value":e[30]||(e[30]=v=>A.value=v),size:"small",style:{width:"120px"},onPressEnter:v=>De(s),onBlur:v=>De(s)},null,8,["value","onPressEnter","onBlur"])):(d(),f(I,{key:1},[n("span",{onDblclick:v=>Be(s)},x(s.name),41,ks),t(Ae,{trigger:["click"]},{overlay:a(()=>[t(He,null,{default:a(()=>[t(G,{onClick:v=>Be(s)},{default:a(()=>[t(o(Xe)),e[95]||(e[95]=r(" 重命名 "))]),_:2,__:[95]},1032,["onClick"]),t(G,{onClick:v=>la(s.id)},{default:a(()=>[t(o(ne)),e[96]||(e[96]=r(" 删除 "))]),_:2,__:[96]},1032,["onClick"])]),_:2},1024)]),default:a(()=>[t(o(el),{class:"tab-more-icon",onClick:e[31]||(e[31]=ze(()=>{},["stop"]))})]),_:2},1024)],64))])]),default:a(()=>[t(u,{label:"实验镜像",name:"dockerImage",required:""},{default:a(()=>[n("div",bs," 系统实验镜像默认为"+x(Ze())+"。 ",1)]),_:1}),t(u,{label:"实验界面",name:"viewTypes",required:""},{default:a(()=>[n("div",ws,[n("div",{class:$(["interface-card",{active:s.config.viewTypes.includes(1)}]),onClick:e[32]||(e[32]=v=>we(1))},e[97]||(e[97]=[n("div",{class:"card-title"},"代码编辑器",-1),n("div",{class:"card-desc"},"提供代码编辑器，编辑器，调试器等工具",-1)]),2),n("div",{class:$(["interface-card",{active:s.config.viewTypes.includes(2)}]),onClick:e[33]||(e[33]=v=>we(2))},e[98]||(e[98]=[n("div",{class:"card-title"},"命令行终端",-1),n("div",{class:"card-desc"},"提供命令行窗口",-1)]),2),n("div",{class:$(["interface-card",{active:s.config.viewTypes.includes(3)}]),onClick:e[34]||(e[34]=v=>we(3))},e[99]||(e[99]=[n("div",{class:"card-title"},"容器内服务",-1),n("div",{class:"card-desc"},"直接预览容器内部Web服务",-1)]),2)])]),_:2},1024),t(u,{label:"附带环境",name:"secondType",required:""},{default:a(()=>[t(z,{value:s.config.secondType,"onUpdate:value":v=>s.config.secondType=v,placeholder:"请选择附带环境",allowClear:""},{default:a(()=>[t(N,{value:1},{default:a(()=>e[100]||(e[100]=[r("环境1")])),_:1,__:[100]}),t(N,{value:2},{default:a(()=>e[101]||(e[101]=[r("环境2")])),_:1,__:[101]})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024),t(u,{label:"任务关卡",name:"taskId",required:""},{default:a(()=>[t(z,{value:s.config.taskId,"onUpdate:value":v=>s.config.taskId=v,placeholder:"请选择任务关卡",allowClear:""},{default:a(()=>[(d(!0),f(I,null,D(o(L),v=>(d(),C(N,{key:v.taskId||v.id,value:v.taskId?String(v.taskId):void 0,disabled:!v.taskId||Ve(s.id,v.taskId)},{default:a(()=>[r(x(v.name)+" ",1),v.taskId?Ve(s.id,v.taskId)?(d(),f("span",Ts," (已被使用)")):b("",!0):(d(),f("span",Cs," (未保存)"))]),_:2},1032,["value","disabled"]))),128))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024),s.config.viewTypes.includes(1)?(d(),C(u,{key:0,label:"编程语言",name:"codeType",required:""},{default:a(()=>[t(z,{value:s.config.codeType,"onUpdate:value":v=>s.config.codeType=v,placeholder:"请选择编程语言",allowClear:""},{default:a(()=>[t(N,{value:"1"},{default:a(()=>e[102]||(e[102]=[r("Python")])),_:1,__:[102]}),t(N,{value:"2"},{default:a(()=>e[103]||(e[103]=[r("JavaScript")])),_:1,__:[103]}),t(N,{value:"3"},{default:a(()=>e[104]||(e[104]=[r("Java")])),_:1,__:[104]}),t(N,{value:"4"},{default:a(()=>e[105]||(e[105]=[r("C++")])),_:1,__:[105]})]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)):b("",!0),s.config.viewTypes.includes(2)?(d(),C(u,{key:1,label:"开启时触发命令",name:"shellBegin",required:""},{default:a(()=>[t(m,{value:s.config.shellBegin,"onUpdate:value":v=>s.config.shellBegin=v,placeholder:"请输入命令"},null,8,["value","onUpdate:value"])]),_:2},1024)):b("",!0),s.config.viewTypes.includes(3)?(d(),C(u,{key:2,label:"容器端口",name:"containerPort",required:""},{default:a(()=>[t(m,{value:s.config.containerPort,"onUpdate:value":v=>s.config.containerPort=v,placeholder:"请输入容器端口"},null,8,["value","onUpdate:value"])]),_:2},1024)):b("",!0),s.config.viewTypes.includes(3)?(d(),C(u,{key:3,label:"路由"},{default:a(()=>[t(m,{value:s.config.containerPath,"onUpdate:value":v=>s.config.containerPath=v,placeholder:"请输入路由（选填）"},null,8,["value","onUpdate:value"])]),_:2},1024)):b("",!0),t(u,{"wrapper-col":{offset:4,span:18}},{default:a(()=>[t(_,{class:"w-full",type:"primary",onClick:v=>be(s)},{default:a(()=>[r(x(s.isSaved?"更新":"保存"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["activeKey"])]),_:1},8,["model"])])])):b("",!0),n("div",hs,[U.value===0?(d(),C(_,{key:0,onClick:Me},{default:a(()=>e[106]||(e[106]=[r("返回")])),_:1,__:[106]})):(d(),C(_,{key:1,onClick:Me},{default:a(()=>e[107]||(e[107]=[r("上一步")])),_:1,__:[107]})),U.value===3?(d(),C(_,{key:2,type:"primary",onClick:Ot},{default:a(()=>e[108]||(e[108]=[r("完成创建")])),_:1,__:[108]})):(d(),C(_,{key:3,type:"primary",onClick:At},{default:a(()=>e[109]||(e[109]=[r("下一步")])),_:1,__:[109]}))])]),t(qa,{open:Q.value,"onUpdate:open":e[36]||(e[36]=s=>Q.value=s),onConfirm:Nt,onCancel:Le},null,8,["open"]),t(xa,{open:te.value,"onUpdate:open":e[37]||(e[37]=s=>te.value=s),"parent-path":_e.value,onConfirm:$t},null,8,["open","parent-path"]),t(Ra,{open:ae.value,"onUpdate:open":e[38]||(e[38]=s=>ae.value=s),"parent-path":ke.value,onConfirm:Ht},null,8,["open","parent-path"]),t(Fa,{open:le.value,"onUpdate:open":e[39]||(e[39]=s=>le.value=s),question:O.value,"project-id":R.value??void 0,"task-id":o(y).taskId,"existing-questions":o(ee),onConfirm:Wt},null,8,["open","question","project-id","task-id","existing-questions"])])}}}),js=tl(Us,[["__scopeId","data-v-0ce0cc86"]]);export{js as default};

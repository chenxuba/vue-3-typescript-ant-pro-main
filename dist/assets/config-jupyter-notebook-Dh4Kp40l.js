import{d as Ve,ab as Fe,f as p,o as De,w as Le,a0 as g,a3 as f,a1 as n,af as U,k as a,a9 as l,F as x,aj as se,G as u,ae as Me,ac as F,u as Ne,a8 as D,y as He}from"./vue-CHyeelTQ.js";import{u as G}from"./file-Drr_IRgQ.js";import{b as Be,i as Ee,a as re,f as ne,h as Je,s as $e}from"./index-7hQEx-9H.js";import{a as ze}from"./dictionary-C9o4UopU.js";import{R as ue}from"./RichTextEditor-Boyzk_S7.js";import{aa as r,ab as Oe,ac as Ge,U as Ke,V as We,ad as Qe,ae as Xe,w as Ye,af as Ze,ag as ea,aj as aa,ah as ta,H as la,$ as oa,a0 as sa,u as ra,ap as na,K as ua,ai as ia,T as da}from"./antd-CIkAOcn-.js";import{_ as ca}from"./index-CT9KdeC5.js";const va={class:"config-jupyter-notebook-page"},pa={class:"page-container"},fa={class:"steps-section"},ma={key:0},_a={class:"form-section"},ga={class:"flex items-top gap-16px"},ya={class:"flex flex-col gap-12px"},ka={key:0,class:"image-preview"},ba=["src"],wa={class:"flex items-top gap-16px"},Ta={class:"flex flex-col gap-12px"},ha={key:0,class:"image-preview"},Ca=["src"],qa={class:"form-section"},Ua={key:1,class:"step-content"},xa={class:"jupyter-header"},Aa={class:"jupyter-actions"},Sa={class:"jupyter-iframe-wrapper"},ja={key:0,class:"loading-container"},Ia=["src"],Ra={key:2,class:"step-content evaluation-step"},Pa={class:"evaluation-section"},Va={class:"section-block"},Fa={class:"block-content"},Da={key:0,class:"section-block"},La={class:"block-header"},Ma={class:"header-actions"},Na={class:"block-content"},Ha={class:"test-set-label"},Ba={class:"tab-footer-buttons"},Ea={class:"reference-section"},Ja={class:"section-block"},$a={class:"block-content"},za={class:"tab-footer-buttons"},Oa={class:"page-footer"},ie="http://101.200.13.193",Ga=Ve({name:"ConfigJupyterNotebook",__name:"config-jupyter-notebook",setup(Ka){const K=Fe(),k=p(0),b=p(null),y=p(null),I=p(),W=p(),L=p(""),A=p(!1),M=p(!1),de=()=>{A.value=!A.value},Q=p("settings"),d=p({openTestValidate:1,testValidateFiles:"",timeLimitM:"",scoreRule:1,evaluationSetting:"通过所有代码块评测",testSets:[{id:1,args:"",answer:"",select:1},{id:2,args:"",answer:"",select:1}]}),w=p({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),N=p(!1),H=p(!1);let ce=3;const ve=()=>{d.value.testSets.push({id:ce++,args:"",answer:"",select:1})},pe=t=>{if(d.value.testSets.length===1){r.warning("至少保留一个测试集");return}d.value.testSets=d.value.testSets.filter(e=>e.id!==t),r.success("删除成功")},fe=(t,e)=>{t.select=e?1:2},B=p([]),me=t=>{const{onSuccess:e}=t;setTimeout(()=>{e("ok")},0)},_e=async t=>{const{fileList:e}=t,m=e.filter(i=>i.status==="uploading"||i.status==="done"||!i.status);B.value=m;const v=m.filter(i=>i.originFileObj&&!i.url).map(async i=>{try{const c=await G(i.originFileObj);return i.url=c,c}catch(c){return console.error("文件上传失败:",c),r.error(`文件 ${i.name} 上传失败`),null}});if(v.length>0){const c=(await Promise.all(v)).filter(h=>h!==null);if(c.length>0){const h=m.filter(C=>C.url).map(C=>C.url).join(",");d.value.testValidateFiles=h,r.success(`成功上传 ${c.length} 个文件`)}}},o=p({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1}),E=p(""),J=p(""),R=p(!1),P=p(!1);De(async()=>{var e;await ye();const t=history.state;console.log("接收到的路由数据:",t),t&&t.name?(o.value.name=t.name||"",o.value.description=t.description||"",o.value.difficulty=t.difficulty||1,o.value.environment=t.environment,o.value.secondType=t.secondType,o.value.classHour=t.classHour||"",o.value.showTaskRequire=t.showTaskRequire||!1,console.log("已自动填充表单数据:",{name:o.value.name,description:o.value.description,descriptionLength:((e=o.value.description)==null?void 0:e.length)||0,difficulty:o.value.difficulty,environment:o.value.environment,secondType:o.value.secondType,classHour:o.value.classHour,showTaskRequire:o.value.showTaskRequire})):console.log("未接收到路由数据")}),Le(k,async(t,e)=>{t===1&&e===0&&!y.value&&b.value&&(console.log("进入第二步，自动创建任务..."),await ee()),t===1&&y.value&&await ae()});const X={name:[{required:!0,message:"请输入名称",trigger:"blur"}],tag:[{required:!0,message:"请输入技能标签",trigger:"blur"}],fieldType:[{required:!0,message:"请选择领域类别",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],environment:[{required:!0,message:"请选择实验环境",trigger:"change"}],secondType:[{required:!0,message:"请选择小类别",trigger:"change"}],classHour:[{required:!0,message:"请输入学时",trigger:"blur"}],topCover:[{required:!0,message:"请上传顶部背景图",trigger:"change"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}],authType:[{required:!0,message:"请选择培训公开范围",trigger:"change"}]},ge=[{label:"人工智能",value:1},{label:"大数据",value:2},{label:"云计算",value:3},{label:"Web开发",value:4}],Y=p([]),$=p(!1),ye=async()=>{try{$.value=!0;const t=await ze({code:"project#environment_2"});t&&t.list&&(Y.value=t.list.map(e=>({label:e.name,value:e.value})))}catch(t){console.error("加载实验环境选项失败：",t),r.error("加载实验环境选项失败")}finally{$.value=!1}},ke=[{label:"Bwapp",value:1},{label:"CSS",value:2},{label:"DataTurks",value:3}],be=[{title:"基本信息"},{title:"实验内容"},{title:"评测设置"}],Z=()=>{k.value===0?K.back():(k.value--,j())},we=async()=>{var t,e;if(k.value===0)try{await Promise.all([(t=I.value)==null?void 0:t.validate(),(e=W.value)==null?void 0:e.validate()]),console.log("表单数据：",o.value),await Te()}catch{r.error("请完善必填信息"),j()}else k.value===1&&await he()},Te=async()=>{try{const t={projectType:2,environment:o.value.environment,secondType:o.value.secondType,name:o.value.name,tag:o.value.tag,fieldType:o.value.fieldType,difficulty:o.value.difficulty,classHour:o.value.classHour,topCover:o.value.topCover,cover:o.value.cover,description:o.value.description,showTaskRequire:o.value.showTaskRequire?1:2,authType:o.value.authType};console.log("提交项目数据：",t);let e;b.value?(t.id=b.value,e=await ne(t),r.success("项目更新成功！"),console.log("更新成功：",e)):(e=await Je(t),e&&e.id&&(b.value=e.id,console.log("项目ID已保存：",b.value)),r.success("项目创建成功！"),console.log("创建成功：",e)),k.value=1,j()}catch(t){console.error("操作失败：",t),r.error(b.value?"项目更新失败，请稍后重试":"项目创建失败，请稍后重试")}},ee=async()=>{try{if(!b.value){console.error("项目ID不存在，无法创建任务");return}const t={type:4,projectId:b.value,name:"JupyterNotebook环境实训任务"};console.log("自动提交任务数据：",t);const e=await Be(t);e&&e.taskId&&(y.value=e.taskId,console.log("任务ID已保存：",y.value),r.success("任务创建成功！"),await ae())}catch(t){console.error("任务创建失败：",t),r.error("任务创建失败，请稍后重试")}},ae=async()=>{if(!y.value){console.log("taskId不存在，无法获取Pod配置");return}try{M.value=!0,console.log("正在获取Pod配置，taskId:",y.value);const t=await Ee({taskId:y.value});console.log("获取到Pod数据：",t),t&&t.config&&t.config.url?(L.value=t.config.url,console.log("更新Jupyter URL为：",L.value),r.success("实验环境加载成功！")):(console.error("Pod配置中没有url字段"),r.warning("未获取到实验环境URL"))}catch(t){console.error("获取Pod配置失败：",t),r.error("获取实验环境失败，请稍后重试")}finally{M.value=!1}},he=async()=>{try{if(!b.value){r.error("项目ID不存在，请先创建项目");return}if(y.value){await Ce(),k.value=2,j();return}await ee(),k.value=2,j()}catch(t){console.error("任务操作失败：",t),r.error("任务操作失败，请稍后重试")}},Ce=async()=>{if(!y.value){console.log("taskId不存在，无法停止Pod");return}try{console.log("正在停止Pod，taskId:",y.value),await $e({taskId:y.value}),console.log("Pod停止成功"),r.success("实验环境已停止")}catch(t){console.error("停止Pod失败：",t),r.error("停止实验环境失败，请稍后重试")}},qe=async()=>{try{if(!y.value){r.error("任务ID不存在，请重新创建任务");return}if(d.value.openTestValidate===1){if(!d.value.testValidateFiles||d.value.testValidateFiles.trim()===""){r.error("请上传评测文件");return}if(!d.value.timeLimitM||d.value.timeLimitM.trim()===""){r.error("请输入评测时长限制");return}if(!d.value.testSets||d.value.testSets.length===0){r.error("请至少添加一个测试集");return}const m=d.value.testSets.filter(v=>v.select===1);if(m.length===0){r.error("请至少选中一个测试集");return}for(let v=0;v<m.length;v++){const i=m[v];if(!i.args||i.args.trim()===""){r.error(`测试集${v+1}的输入内容不能为空`);return}if(!i.answer||i.answer.trim()===""){r.error(`测试集${v+1}的期望输出不能为空`);return}}}const t=d.value.testSets.map(m=>({args:m.args,answer:m.answer,select:m.select})),e={taskId:y.value,projectId:b.value,openTestValidate:d.value.openTestValidate,testValidateFiles:d.value.testValidateFiles,timeLimitM:d.value.timeLimitM,scoreRule:d.value.scoreRule,testContent:JSON.stringify(t)};console.log("保存评测设置数据：",e),await re(e),N.value=!0,r.success("评测设置保存成功！")}catch(t){console.error("评测设置保存失败：",t),r.error("评测设置保存失败，请重试")}},Ue=async()=>{try{if(!y.value){r.error("任务ID不存在，请重新创建任务");return}if(!w.value.referenceAnswer||w.value.referenceAnswer.trim()===""){r.error("请输入参考答案内容");return}if(!w.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){r.error("请输入参考答案内容");return}const e={taskId:y.value,projectId:b.value,showAnswer:w.value.showAnswer,prohibitCopyAnswer:w.value.prohibitCopyAnswer,referenceAnswer:w.value.referenceAnswer};console.log("保存参考答案数据：",e),await re(e),H.value=!0,r.success("参考答案保存成功！")}catch(t){console.error("参考答案保存失败：",t),r.error("参考答案保存失败，请重试")}},xe=async()=>{try{if(!b.value){r.error("项目ID不存在，请重新创建项目");return}if(!N.value){r.error("请先保存评测设置后再完成创建");return}if(!H.value){r.error("请先保存参考答案后再完成创建");return}await ne({id:b.value,status:1}),r.success("项目创建成功！"),setTimeout(()=>{K.push("/dashboard/analysis")},500)}catch(t){console.error("完成创建失败：",t),r.error("完成创建失败，请重试")}},j=()=>{He(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const t=document.querySelector(".page-content");t&&(t.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(v=>{v.scrollTop>0&&(v.scrollTop=0)})})},Ae=async t=>{var v;if(!(t.size/1024/1024<12))return r.error("图片大小不能超过 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return r.error("只能上传 JPG/PNG 格式的图片!"),!1;try{R.value=!0;const i=await G(t);E.value=ie+i,o.value.topCover=i,(v=I.value)==null||v.validateFields(["topCover"]),r.success("顶部背景图上传成功")}catch{r.error("顶部背景图上传失败")}finally{R.value=!1}return!1},Se=async t=>{var v;if(!(t.size/1024/1024<12))return r.error("图片大小不能超过 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return r.error("只能上传 JPG/PNG 格式的图片!"),!1;try{P.value=!0;const i=await G(t);J.value=ie+i,o.value.cover=i,(v=I.value)==null||v.validateFields(["cover"]),r.success("封面图上传成功")}catch{r.error("封面图上传失败")}finally{P.value=!1}return!1};return(t,e)=>{const m=Oe,v=Ge,i=We,c=Ke,h=Xe,C=Ye,te=Qe,_=ea,q=Ze,je=aa,T=la,z=ta,le=oa,V=sa,Ie=ra,Re=na,oe=ua,Pe=da;return f(),g("div",va,[e[52]||(e[52]=n("div",{class:"page-header"},[n("h2",null,"JupyterNotebook环境实训项目配置")],-1)),n("div",pa,[n("div",fa,[a(v,{current:k.value,class:"custom-steps"},{default:l(()=>[(f(),g(x,null,se(be,(s,O)=>a(m,{key:O,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),k.value===0?(f(),g("div",ma,[e[29]||(e[29]=n("div",{class:"section-title"},[n("h3",null,"基本信息")],-1)),n("div",_a,[a(V,{ref_key:"formRef",ref:I,model:o.value,rules:X,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(c,{label:"名称",name:"name",required:""},{default:l(()=>[a(i,{value:o.value.name,"onUpdate:value":e[0]||(e[0]=s=>o.value.name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1}),a(te,null,{default:l(()=>[a(h,{span:12},{default:l(()=>[a(c,{label:"技能标签",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a(i,{value:o.value.tag,"onUpdate:value":e[1]||(e[1]=s=>o.value.tag=s),placeholder:"请输入技能标签"},null,8,["value"])]),_:1})]),_:1}),a(h,{span:12},{default:l(()=>[a(c,{label:"领域类别",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a(C,{value:o.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>o.value.fieldType=s),placeholder:"请选择领域类别",options:ge},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(c,{label:"难度",name:"difficulty",required:""},{default:l(()=>[a(q,{value:o.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>o.value.difficulty=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[19]||(e[19]=[u("简单")])),_:1,__:[19]}),a(_,{value:2},{default:l(()=>e[20]||(e[20]=[u("适中")])),_:1,__:[20]}),a(_,{value:3},{default:l(()=>e[21]||(e[21]=[u("困难")])),_:1,__:[21]})]),_:1},8,["value"])]),_:1}),a(te,null,{default:l(()=>[a(h,{span:12},{default:l(()=>[a(c,{label:"实验环境",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a(C,{value:o.value.environment,"onUpdate:value":e[4]||(e[4]=s=>o.value.environment=s),placeholder:"请选择实验环境",options:Y.value,loading:$.value},null,8,["value","options","loading"])]),_:1})]),_:1}),a(h,{span:12},{default:l(()=>[a(c,{label:"小类别",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a(C,{value:o.value.secondType,"onUpdate:value":e[5]||(e[5]=s=>o.value.secondType=s),placeholder:"请选择小类别",options:ke},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(c,{label:"学时",name:"classHour",required:""},{default:l(()=>[a(je,{min:0,class:"w-full",value:o.value.classHour,"onUpdate:value":e[6]||(e[6]=s=>o.value.classHour=s),placeholder:"请输入学时"},null,8,["value"])]),_:1}),a(c,{label:"顶部背景图",name:"topCover",required:""},{default:l(()=>[n("div",ga,[n("div",ya,[a(z,{"before-upload":Ae,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(T,{loading:R.value},{default:l(()=>[R.value?(f(),g(x,{key:1},[u("上传中...")],64)):(f(),g(x,{key:0},[u("选择文件")],64))]),_:1},8,["loading"])]),_:1}),E.value?(f(),g("div",ka,[n("img",{src:E.value,alt:"顶部背景图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,ba)])):U("",!0)]),e[22]||(e[22]=n("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),a(c,{label:"封面图",name:"cover",required:""},{default:l(()=>[n("div",wa,[n("div",Ta,[a(z,{"before-upload":Se,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(T,{loading:P.value},{default:l(()=>[P.value?(f(),g(x,{key:1},[u("上传中...")],64)):(f(),g(x,{key:0},[u("选择文件")],64))]),_:1},8,["loading"])]),_:1}),J.value?(f(),g("div",ha,[n("img",{src:J.value,alt:"封面图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Ca)])):U("",!0)]),e[23]||(e[23]=n("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),a(c,{label:"简介",name:"description"},{default:l(()=>[a(ue,{modelValue:o.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.description=s)},null,8,["modelValue"])]),_:1}),a(c,{label:"任务要求",name:"showTaskRequire"},{default:l(()=>[a(le,{checked:o.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=s=>o.value.showTaskRequire=s)},{default:l(()=>e[24]||(e[24]=[u(" 显示任务要求（勾选后，将帮作为任务要求显示在任务项目政策面） ")])),_:1,__:[24]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[30]||(e[30]=n("div",{class:"section-title"},[n("h3",null,"培训公开范围")],-1)),n("div",qa,[a(V,{ref_key:"trainingScopeFormRef",ref:W,model:o.value,rules:X,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(c,{label:"培训公开范围",name:"authType",required:""},{default:l(()=>[a(q,{value:o.value.authType,"onUpdate:value":e[9]||(e[9]=s=>o.value.authType=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[25]||(e[25]=[u("完全公开")])),_:1,__:[25]}),a(_,{value:2},{default:l(()=>e[26]||(e[26]=[u("全院公开")])),_:1,__:[26]}),a(_,{value:3},{default:l(()=>e[27]||(e[27]=[u("本单位公开")])),_:1,__:[27]}),a(_,{value:4},{default:l(()=>e[28]||(e[28]=[u("不公开")])),_:1,__:[28]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):U("",!0),k.value===1?(f(),g("div",Ua,[n("div",{class:Me(["jupyter-container",{fullscreen:A.value}])},[n("div",xa,[e[31]||(e[31]=n("h3",null,"Jupyter Notebook 编辑器",-1)),n("div",Aa,[a(Ie,{title:A.value?"退出全屏":"全屏"},{default:l(()=>[a(T,{type:"text",icon:A.value?"fullscreen-exit":"fullscreen",onClick:de},{default:l(()=>[u(F(A.value?"退出全屏":"全屏"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),n("div",Sa,[M.value?(f(),g("div",ja,[a(Re,{size:"large",tip:"正在加载实验环境..."})])):(f(),g("iframe",{key:1,src:L.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,Ia))])],2)])):U("",!0),k.value===2?(f(),g("div",Ra,[a(Pe,{activeKey:Q.value,"onUpdate:activeKey":e[18]||(e[18]=s=>Q.value=s),class:"evaluation-tabs"},{default:l(()=>[a(oe,{key:"settings",tab:"评测设置"},{default:l(()=>[n("div",Pa,[n("div",Va,[e[40]||(e[40]=n("div",{class:"block-header"},"评测文件",-1)),n("div",Fa,[a(V,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(c,{label:"是否启用评测功能",required:""},{default:l(()=>[a(q,{value:d.value.openTestValidate,"onUpdate:value":e[10]||(e[10]=s=>d.value.openTestValidate=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[32]||(e[32]=[u("是")])),_:1,__:[32]}),a(_,{value:2},{default:l(()=>e[33]||(e[33]=[u("否")])),_:1,__:[33]})]),_:1},8,["value"])]),_:1}),d.value.openTestValidate===1?(f(),g(x,{key:0},[a(c,{label:"评测文件",required:""},{default:l(()=>[a(z,{"file-list":B.value,"onUpdate:fileList":e[11]||(e[11]=s=>B.value=s),"custom-request":me,onChange:_e,"max-count":10},{default:l(()=>[a(T,{type:"primary"},{default:l(()=>e[34]||(e[34]=[u("点击上传")])),_:1,__:[34]})]),_:1},8,["file-list"]),e[35]||(e[35]=n("div",{class:"upload-hint"}," 说明：支持上传多个文件，每个文件大小不能超过500M。 ",-1))]),_:1,__:[35]}),a(c,{label:"评测时长限制",required:""},{default:l(()=>[a(i,{value:d.value.timeLimitM,"onUpdate:value":e[12]||(e[12]=s=>d.value.timeLimitM=s),placeholder:"请输入评测时长（分钟）",style:{width:"600px"}},null,8,["value"])]),_:1}),a(c,{label:"系统评分规则"},{default:l(()=>[a(q,{value:d.value.scoreRule,"onUpdate:value":e[13]||(e[13]=s=>d.value.scoreRule=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[36]||(e[36]=[u(" 通过全部测试集（仅当所有测试集都正确时，获得项目学时） ")])),_:1,__:[36]}),a(_,{value:2},{default:l(()=>e[37]||(e[37]=[u(" 通过部分测试集（任意一个测试集正确时，获得项目学时） ")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1}),a(c,{label:"评测设置",required:""},{default:l(()=>[a(q,{value:d.value.evaluationSetting,"onUpdate:value":e[14]||(e[14]=s=>d.value.evaluationSetting=s),class:"custom-radio"},{default:l(()=>[a(_,{value:"通过所有代码块评测"},{default:l(()=>e[38]||(e[38]=[u(" 通过所有代码块评测（对学员任务文件的所有非空代码块进行评测） ")])),_:1,__:[38]}),a(_,{value:"通过指定代码块评测"},{default:l(()=>e[39]||(e[39]=[u(" 通过指定代码块评测（对学员任务文件的指定非空代码块进行评测） ")])),_:1,__:[39]})]),_:1},8,["value"])]),_:1})],64)):U("",!0)]),_:1})])]),d.value.openTestValidate===1?(f(),g("div",Da,[n("div",La,[e[42]||(e[42]=n("span",null,"测试集",-1)),n("div",Ma,[a(T,{onClick:ve},{default:l(()=>e[41]||(e[41]=[u("新增测试集")])),_:1,__:[41]})])]),n("div",Na,[(f(!0),g(x,null,se(d.value.testSets,(s,O)=>(f(),g("div",{key:s.id,class:"test-set-item"},[a(le,{checked:s.select===1,onChange:S=>fe(s,S.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),n("span",Ha,"测试集"+F(O+1),1),a(i,{value:s.args,"onUpdate:value":S=>s.args=S,placeholder:"请输入输入内容",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(i,{value:s.answer,"onUpdate:value":S=>s.answer=S,placeholder:"请输入期望输出",class:"test-set-input"},null,8,["value","onUpdate:value"]),a(Ne(ia),{class:"delete-test-set-icon",onClick:S=>pe(s.id)},null,8,["onClick"])]))),128))])])):U("",!0),n("div",Ba,[a(T,{type:"primary",onClick:qe},{default:l(()=>[u(F(N.value?"更新":"保存"),1)]),_:1})])])]),_:1}),a(oe,{key:"reference",tab:"参考答案"},{default:l(()=>[n("div",Ea,[n("div",Ja,[e[47]||(e[47]=n("div",{class:"block-header"},"参考答案",-1)),n("div",$a,[a(V,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(c,{label:"是否显示参考答案模块",required:""},{default:l(()=>[a(q,{value:w.value.showAnswer,"onUpdate:value":e[15]||(e[15]=s=>w.value.showAnswer=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[43]||(e[43]=[u("是")])),_:1,__:[43]}),a(_,{value:2},{default:l(()=>e[44]||(e[44]=[u("否")])),_:1,__:[44]})]),_:1},8,["value"])]),_:1}),a(c,{label:"是否禁止复制参考答案",required:""},{default:l(()=>[a(q,{value:w.value.prohibitCopyAnswer,"onUpdate:value":e[16]||(e[16]=s=>w.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:l(()=>[a(_,{value:1},{default:l(()=>e[45]||(e[45]=[u("是")])),_:1,__:[45]}),a(_,{value:2},{default:l(()=>e[46]||(e[46]=[u("否")])),_:1,__:[46]})]),_:1},8,["value"])]),_:1}),a(c,{label:"参考答案",required:""},{default:l(()=>[a(ue,{modelValue:w.value.referenceAnswer,"onUpdate:modelValue":e[17]||(e[17]=s=>w.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),n("div",za,[a(T,{type:"primary",onClick:Ue},{default:l(()=>[u(F(H.value?"更新":"保存"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):U("",!0),n("div",Oa,[k.value===0?(f(),D(T,{key:0,onClick:Z},{default:l(()=>e[48]||(e[48]=[u("返回")])),_:1,__:[48]})):(f(),D(T,{key:1,onClick:Z},{default:l(()=>e[49]||(e[49]=[u("上一步")])),_:1,__:[49]})),k.value===2?(f(),D(T,{key:2,type:"primary",onClick:xe},{default:l(()=>e[50]||(e[50]=[u("完成创建")])),_:1,__:[50]})):(f(),D(T,{key:3,type:"primary",onClick:we},{default:l(()=>e[51]||(e[51]=[u("下一步")])),_:1,__:[51]}))])])])}}}),tt=ca(Ga,[["__scopeId","data-v-7fda7463"]]);export{tt as default};

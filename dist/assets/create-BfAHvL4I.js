import{d as E,ak as J,f as k,c as b,o as M,w as P,_ as f,a1 as c,$ as l,k as t,a7 as o,G as s,ac as h,F as T,a9 as w,a6 as F,u as x}from"./vue-PnzzEkKE.js";import{R as S}from"./RichTextEditor-BNMG-gu7.js";import{a as z,e as L,d as G}from"./dictionary-Dnp66e0n.js";import{a8 as K,a7 as W,z as $,I as A,J as O,a6 as Q,K as X,H as Y,a1 as g}from"./antd-Cme2pY03.js";import{_ as Z}from"./index-PVXIpLUY.js";import"./index-BXiLZYq-.js";import"./dictionary-BQdphWrD.js";const ee={class:"create-project-page"},ae={class:"page-content"},te={class:"project-type-section"},oe={class:"project-type-desc"},ne={class:"project-form-section"},re={class:"form-title"},se={key:0},le={class:"page-footer"},ue=E({name:"CreateRainingProject",__name:"create",setup(ie){const _=J(),j=k(),n=k(1),a=k({name:"",description:"",difficulty:void 0,environment:void 0,secondType:void 0,classHour:"",showTaskRequire:!0}),D={name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,validator:(v,e)=>{if(!e)return Promise.reject("请输入简介");const u=/<img\s+[^>]*src\s*=\s*["'][^"']+["'][^>]*>/i.test(e),i=e.replace(/<[^>]*>/g,"").trim();return!u&&!i?Promise.reject("请输入简介"):Promise.resolve()},trigger:"blur"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],environment:[{required:!0,message:"请选择实验环境",trigger:"change"}]},y=z(),N=L(),p=b(()=>G(n.value));M(()=>{y.load(),N.load(),p.value.load()});const C=()=>{_.back()},V=async()=>{var m;try{await((m=j.value)==null?void 0:m.validate())}catch{return}if(!a.value.name){g.error("请输入名称");return}const v=a.value.description||"",e=/<img\s+[^>]*src\s*=\s*["'][^"']+["'][^>]*>/i.test(v),u=v.replace(/<[^>]*>/g,"").trim();if(!e&&!u){g.error("请输入简介");return}if(!a.value.difficulty){g.error("请选择难度");return}if(!a.value.environment){g.error("请选择实验环境");return}const i={projectType:n.value,name:a.value.name,description:a.value.description,difficulty:a.value.difficulty,environment:a.value.environment,secondType:a.value.secondType,classHour:a.value.classHour,showTaskRequire:a.value.showTaskRequire};n.value===1?_.push({path:"/dashboard/raining-project-management/config-full-stack",state:i}):n.value===2?_.push({path:"/dashboard/raining-project-management/config-jupyter-notebook",state:i}):n.value===3&&_.push({path:"/dashboard/raining-project-management/config-jupyter-lab",state:i})};P(n,()=>{a.value.environment=void 0,a.value.secondType=void 0,a.value.showTaskRequire=!0,p.value.load()});const B=b(()=>({1:"全栈环境",2:"JupyterNotebook环境",3:"JupyterLab环境"})[n.value]||""),H=b(()=>a.value.environment?p.value.getNameByValue(a.value.environment):"");return(v,e)=>{const u=K,i=W,m=A,d=$,U=O,q=Q,I=X,R=Y;return c(),f("div",ee,[e[13]||(e[13]=l("div",{class:"page-header"},[l("h2",null,"新建实训项目")],-1)),l("div",ae,[l("div",te,[t(i,{value:n.value,"onUpdate:value":e[0]||(e[0]=r=>n.value=r),class:"custom-radio"},{default:o(()=>[t(u,{value:1},{default:o(()=>e[7]||(e[7]=[s("全栈环境实训项目")])),_:1,__:[7]}),t(u,{value:2},{default:o(()=>e[8]||(e[8]=[s("JupyterNotebook环境实训项目")])),_:1,__:[8]}),t(u,{value:3},{default:o(()=>e[9]||(e[9]=[s("JupyterLab环境实训项目")])),_:1,__:[9]})]),_:1},8,["value"])]),l("div",oe,[n.value===1?(c(),f(T,{key:0},[s(" 多功能新型实战项目模式，支持图形化桌面、Web IDE、命令行、提供仿真拟真等种实验场景，适用于各类复杂工程项目研发。 ")],64)):n.value===2?(c(),f(T,{key:1},[s(" 多功能实时交互实验模式，支持实时代码、数学方程、可视化和MarkDown等。 适用于数据清理、数值模拟、统计建模、机器学习等系列实验。 ")],64)):n.value===3?(c(),f(T,{key:2},[s(" 多功能实时交互实验模式，支持实时代码、数学方程、可视化和MarkDown等。 适用于数据清理、数值模拟、统计建模、机器学习等系列实验。 ")],64)):h("",!0)]),l("div",ne,[l("div",re,[s(w(B.value)+"实训项目 ",1),a.value.environment?(c(),f("span",se," 实验环境: "+w(H.value),1)):h("",!0)]),t(I,{ref_key:"formRef",ref:j,model:a.value,rules:D,layout:"horizontal","label-col":{span:3},"wrapper-col":{span:18}},{default:o(()=>[t(d,{label:"名称",name:"name",required:""},{default:o(()=>[t(m,{value:a.value.name,"onUpdate:value":e[1]||(e[1]=r=>a.value.name=r),placeholder:"请输入名称"},null,8,["value"])]),_:1}),t(d,{label:"简介",name:"description",required:""},{default:o(()=>[t(S,{modelValue:a.value.description,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.description=r),placeholder:"请输入简介内容",height:200},null,8,["modelValue"])]),_:1}),n.value===2?(c(),F(d,{key:0,label:"任务要求",name:"showTaskRequire"},{default:o(()=>[t(U,{checked:a.value.showTaskRequire,"onUpdate:checked":e[3]||(e[3]=r=>a.value.showTaskRequire=r),disabled:""},{default:o(()=>e[10]||(e[10]=[s(" 显示任务要求（勾选后，将简介作为任务要求显示在实践项目挑战页面） ")])),_:1,__:[10]},8,["checked"])]),_:1})):h("",!0),t(d,{label:"难度",name:"difficulty",required:""},{default:o(()=>[t(q,{value:a.value.difficulty,"onUpdate:value":e[4]||(e[4]=r=>a.value.difficulty=r),placeholder:"请选择难度",options:x(y).options.value,loading:x(y).loading.value},null,8,["value","options","loading"])]),_:1}),t(d,{label:"实验环境",name:"environment",required:""},{default:o(()=>[t(q,{value:a.value.environment,"onUpdate:value":e[5]||(e[5]=r=>a.value.environment=r),placeholder:"请选择实验环境",options:p.value.options.value,loading:p.value.loading.value},null,8,["value","options","loading"])]),_:1}),t(d,{label:"学时",name:"classHour"},{default:o(()=>[t(m,{value:a.value.classHour,"onUpdate:value":e[6]||(e[6]=r=>a.value.classHour=r),placeholder:"配置任务后自动计算",disabled:""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),l("div",le,[t(R,{onClick:C},{default:o(()=>e[11]||(e[11]=[s("返回")])),_:1,__:[11]}),t(R,{type:"primary",onClick:V},{default:o(()=>e[12]||(e[12]=[s("下一步")])),_:1,__:[12]})])])])}}}),ye=Z(ue,[["__scopeId","data-v-e6dfe96e"]]);export{ye as default};

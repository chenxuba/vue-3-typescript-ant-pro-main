import{d as Ne,ak as Be,f,o as Ge,w as te,c as me,_ as g,a1 as d,$ as r,k as t,ac as L,a7 as l,F as A,ag as G,u as P,a6 as F,G as c,a9 as q,ab as ge,y as Oe}from"./vue-PnzzEkKE.js";import{R as _e,u as ye}from"./RichTextEditor-Z0xUhggx.js";import{b as O,d as Ke,g as $e,s as Ye,a as we,c as Qe}from"./index-2fyms41j.js";import{u as We,a as Xe,e as Ze}from"./dictionary-Bo1H8fX8.js";import{g as ea,a as aa}from"./dictionary-nraH5rW3.js";import{H as I,j as ta,t as la,x as le,c as oa,a as sa,m as na,F as ra}from"./FileSelectModal-CpbQ-mom.js";import{a1 as u,a2 as ua,a3 as ia,z as va,I as da,a4 as ca,a5 as pa,a6 as fa,a7 as ma,a8 as ga,ac as _a,a9 as ya,H as wa,K as ba,aj as ka,Y as ha,s as Ta,J as Sa,ah as Ca,T as xa}from"./antd-Cme2pY03.js";import{_ as Aa}from"./index-C4eTgeFw.js";const La={class:"config-jupyter-lab-page"},Ia={class:"page-container"},Ua={class:"steps-section"},Va={key:0},ja={class:"form-section"},Ra={class:"flex items-top gap-16px"},qa={class:"flex flex-col gap-12px"},Ma={key:0,class:"image-preview"},Da=["src"],Ha={class:"flex items-top gap-16px"},Pa={class:"flex flex-col gap-12px"},Fa={key:0,class:"image-preview"},Ea=["src"],Ja={class:"form-section"},za={key:1,class:"step-content"},Na={class:"jupyter-header"},Ba={class:"jupyter-actions"},Ga={class:"jupyter-iframe-wrapper"},Oa={key:0,class:"loading-container"},Ka=["src"],$a={key:2,class:"step-content evaluation-step"},Ya={class:"evaluation-section"},Qa={class:"section-block"},Wa={class:"block-content"},Xa={style:{display:"flex","align-items":"center",gap:"8px"}},Za={key:0,class:"section-block"},et={class:"block-content"},at={class:"tab-footer-buttons"},tt={class:"reference-section"},lt={class:"section-block"},ot={class:"block-content"},st={class:"tab-footer-buttons"},nt={key:3,class:"step-content environment-step"},rt={class:"environment-section"},ut={class:"environment-container"},it={class:"environment-left"},vt={class:"search-box"},dt={class:"environment-list"},ct=["onClick"],pt={class:"environment-right"},ft={class:"environment-config-header"},mt={style:{display:"flex","align-items":"center",gap:"8px"}},gt={class:"page-footer"},_t=Ne({name:"ConfigJupyterLab",__name:"config-jupyter-lab",setup(yt){I.registerLanguage("javascript",ta),I.registerLanguage("typescript",la),I.registerLanguage("xml",le),I.registerLanguage("html",le),I.registerLanguage("vue",le),I.registerLanguage("css",oa),I.registerLanguage("json",sa),I.registerLanguage("markdown",na);const oe=Be(),y=f(0),k=f(null),_=f(null),E=f(),se=f(),K=f(""),V=f(!1),$=f(!1),be=()=>{V.value=!V.value},Y=f(""),Q=f(""),J=f(!1),z=f(!1),ne=window.location.origin,o=f({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:0,topCover:"",cover:"",description:"",showTaskRequire:!0,authType:1,enableCodeRepository:!1,repositoryType:"ä»£ç ä»“åº“",gitUrl:""});Ge(async()=>{var e;W.load(),ue.load(),X.load(),await ke();const a=history.state;console.log("æ¥æ”¶åˆ°çš„è·¯ç”±æ•°æ®:",a),a&&a.name?(o.value.name=a.name||"",o.value.description=a.description||"",o.value.difficulty=a.difficulty||1,o.value.environment=a.environment,o.value.secondType=a.secondType,o.value.classHour=a.classHour||0,o.value.showTaskRequire=a.showTaskRequire||!0,console.log("å·²è‡ªåŠ¨å¡«å……è¡¨å•æ•°æ®:",{name:o.value.name,description:o.value.description,descriptionLength:((e=o.value.description)==null?void 0:e.length)||0,difficulty:o.value.difficulty,environment:o.value.environment,secondType:o.value.secondType,classHour:o.value.classHour,showTaskRequire:o.value.showTaskRequire})):console.log("æœªæ¥æ”¶åˆ°è·¯ç”±æ•°æ®")}),te(y,async(a,e)=>{a===1&&e===0&&!_.value&&k.value&&(console.log("è¿›å…¥ç¬¬äºŒæ­¥ï¼ˆå®éªŒå†…å®¹ï¼‰ï¼Œè‡ªåŠ¨åˆ›å»ºä»»åŠ¡..."),await Ue()),a===1&&_.value&&await de()});const re={name:[{required:!0,message:"è¯·è¾“å…¥åç§°",trigger:"blur"}],tag:[{required:!0,message:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾",trigger:"blur"}],fieldType:[{required:!0,message:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",trigger:"change"}],difficulty:[{required:!0,message:"è¯·é€‰æ‹©éš¾åº¦",trigger:"change"}],environment:[{required:!0,message:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",trigger:"change"}],topCover:[{required:!0,message:"è¯·ä¸Šä¼ é¡¶éƒ¨èƒŒæ™¯å›¾",trigger:"change"}],cover:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"change"}],authType:[{required:!0,message:"è¯·é€‰æ‹©åŸ¹è®­å…¬å¼€èŒƒå›´",trigger:"change"}]},W=We(),ue=Xe(),X=Ze(),S=f([]),Z=f(!1),ke=async()=>{try{Z.value=!0;const a=ea(3),e=await aa({code:a});e&&e.list&&(S.value=e.list.map(i=>({label:i.name,value:String(i.value)})),console.log("åŠ è½½ç¯å¢ƒé€‰é¡¹:",{environmentOptions:S.value,currentEnvironment:o.value.environment}),o.value.environment?(C.value=String(o.value.environment),h.value.dockerImage=String(o.value.environment),console.log("ä½¿ç”¨ç¬¬ä¸€æ­¥çš„ç¯å¢ƒ:",o.value.environment)):!C.value&&S.value.length>0&&(C.value=S.value[0].value,h.value.dockerImage=S.value[0].value,o.value.environment=S.value[0].value,console.log("é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªç¯å¢ƒ:",S.value[0])))}catch(a){console.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥ï¼š",a),u.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥")}finally{Z.value=!1}},he=[{title:"åŸºæœ¬ä¿¡æ¯"},{title:"å®éªŒå†…å®¹"},{title:"è¯„æµ‹è®¾ç½®"},{title:"å®éªŒç¯å¢ƒ"}],ee=f(!1),Te=async a=>{var p;if(!(a.size/1024/1024<12))return u.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return u.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{J.value=!0;const m=await ye(a);Y.value=ne+m,o.value.topCover=m,(p=E.value)==null||p.validateFields(["topCover"]),u.success("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ æˆåŠŸ")}catch{u.error("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ å¤±è´¥")}finally{J.value=!1}return!1},Se=async a=>{var p;if(!(a.size/1024/1024<12))return u.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return u.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{z.value=!0;const m=await ye(a);Q.value=ne+m,o.value.cover=m,(p=E.value)==null||p.validateFields(["cover"]),u.success("å°é¢å›¾ä¸Šä¼ æˆåŠŸ")}catch{u.error("å°é¢å›¾ä¸Šä¼ å¤±è´¥")}finally{z.value=!1}return!1},ie=f("settings"),s=f({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:"",classHour:void 0,scoreRule:1,evaluationSetting:1,testSets:[{id:1,answer:"",select:1}]}),w=f({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),M=f(!1),D=f(!1),Ce=(a,e)=>{a.select=e?1:2},xe=f([]),Ae=a=>{xe.value=a.map(i=>({uid:i.uid,name:i.name,status:"done",url:i.path}));const e=a.map(i=>i.path).join(",");s.value.testValidateFiles=e,u.success(`å·²é€‰æ‹© ${a.length} ä¸ªæ–‡ä»¶`),ee.value=!1},ve=()=>{y.value===0?oe.back():(y.value--,T())},Le=async()=>{try{const a={projectType:3,environment:o.value.environment,name:o.value.name,tag:o.value.tag,fieldType:o.value.fieldType,difficulty:o.value.difficulty,topCover:o.value.topCover,cover:o.value.cover,description:o.value.description,showTaskRequire:o.value.showTaskRequire?1:2,authType:o.value.authType,enableCodeRepository:o.value.enableCodeRepository,secondType:o.value.secondType};o.value.enableCodeRepository&&(a.repositoryType=o.value.repositoryType,a.gitUrl=o.value.gitUrl),console.log("æäº¤é¡¹ç›®æ•°æ®ï¼š",a);let e;k.value?(a.id=k.value,e=await we(a),u.success("é¡¹ç›®æ›´æ–°æˆåŠŸï¼"),console.log("æ›´æ–°æˆåŠŸï¼š",e)):(e=await Qe(a),e&&e.id&&(k.value=e.id,console.log("é¡¹ç›®IDå·²ä¿å­˜ï¼š",k.value)),u.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),console.log("åˆ›å»ºæˆåŠŸï¼š",e)),y.value=1,T()}catch(a){console.error("æ“ä½œå¤±è´¥ï¼š",a),u.error(k.value?"é¡¹ç›®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•":"é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),T()}},Ie=async()=>{var a,e;if(y.value===0)try{await Promise.all([(a=E.value)==null?void 0:a.validate(),(e=se.value)==null?void 0:e.validate()]),console.log("è¡¨å•æ•°æ®ï¼š",o.value),await Le()}catch{u.error("è¯·å®Œå–„å¿…å¡«ä¿¡æ¯"),T()}else if(y.value===1)_.value&&await Ve(),y.value=2,T();else if(y.value===2)try{if(!_.value){u.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(s.value.openTestValidate===1){if(!s.value.timeLimitM){u.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶"),T();return}if(!s.value.classHour||s.value.classHour<=0){u.error("è¯·è¾“å…¥æœ‰æ•ˆçš„å­¦æ—¶"),T();return}if(!s.value.testSets||s.value.testSets.length===0){u.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†"),T();return}const m=s.value.testSets.filter(v=>v.select===1);if(m.length===0){u.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†"),T();return}for(let v=0;v<m.length;v++){const j=m[v];if(!j.answer||j.answer.trim()===""){u.error("æµ‹è¯•é›†çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º"),T();return}}}const i=s.value.testSets.map(m=>({answer:m.answer,select:m.select})),p={taskId:_.value,projectId:k.value,openTestValidate:s.value.openTestValidate,testValidateFiles:s.value.testValidateFiles,testValidateSh:s.value.testValidateSh,timeLimitM:s.value.timeLimitM,classHour:s.value.classHour,scoreRule:s.value.scoreRule,evaluationSetting:s.value.evaluationSetting,testContent:JSON.stringify(i),showAnswer:w.value.showAnswer,prohibitCopyAnswer:w.value.prohibitCopyAnswer,referenceAnswer:w.value.referenceAnswer};console.log("ä¸‹ä¸€æ­¥æ—¶ä¿å­˜è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",p),await O(p),M.value=!0,D.value=!0,y.value=3,T()}catch(i){console.error("ä¿å­˜æ•°æ®å¤±è´¥ï¼š",i),u.error("ä¿å­˜æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•"),T()}},Ue=async()=>{try{if(!k.value){console.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œæ— æ³•åˆ›å»ºä»»åŠ¡");return}const a={type:4,projectId:k.value,name:"JupyterLabç¯å¢ƒå®è®­ä»»åŠ¡"};console.log("è‡ªåŠ¨æäº¤ä»»åŠ¡æ•°æ®ï¼š",a);const e=await Ke(a);e&&e.taskId&&(_.value=e.taskId,console.log("ä»»åŠ¡IDå·²ä¿å­˜ï¼š",_.value),u.success("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼"),await de())}catch(a){console.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼š",a),u.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},de=async()=>{if(!_.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•è·å–Podé…ç½®");return}try{$.value=!0,console.log("æ­£åœ¨è·å–Podé…ç½®ï¼ŒtaskId:",_.value);const a=await $e({taskId:_.value});console.log("è·å–åˆ°Podæ•°æ®ï¼š",a),a&&a.config&&a.config.url?(K.value=a.config.url,console.log("æ›´æ–°Jupyter URLä¸ºï¼š",K.value),u.success("å®éªŒç¯å¢ƒåŠ è½½æˆåŠŸï¼")):(console.error("Podé…ç½®ä¸­æ²¡æœ‰urlå­—æ®µ"),u.warning("æœªè·å–åˆ°å®éªŒç¯å¢ƒURL"))}catch(a){console.error("è·å–Podé…ç½®å¤±è´¥ï¼š",a),u.error("è·å–å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{$.value=!1}},Ve=async()=>{if(!_.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•åœæ­¢Pod");return}try{console.log("æ­£åœ¨åœæ­¢Podï¼ŒtaskId:",_.value),await Ye({taskId:_.value}),console.log("Podåœæ­¢æˆåŠŸ"),u.success("å®éªŒç¯å¢ƒå·²åœæ­¢")}catch(a){console.error("åœæ­¢Podå¤±è´¥ï¼š",a),u.error("åœæ­¢å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},je=async()=>{try{if(!_.value){u.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(s.value.openTestValidate===1){if(!s.value.timeLimitM){u.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!s.value.classHour||s.value.classHour<=0){u.error("è¯·è¾“å…¥æœ‰æ•ˆçš„å­¦æ—¶");return}if(!s.value.testSets||s.value.testSets.length===0){u.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const i=s.value.testSets.filter(p=>p.select===1);if(i.length===0){u.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let p=0;p<i.length;p++){const m=i[p];if(!m.answer||m.answer.trim()===""){u.error("æµ‹è¯•é›†çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º");return}}}const a=s.value.testSets.map(i=>({answer:i.answer,select:i.select})),e={taskId:_.value,projectId:k.value,openTestValidate:s.value.openTestValidate,testValidateFiles:s.value.testValidateFiles,testValidateSh:s.value.testValidateSh,timeLimitM:s.value.timeLimitM,classHour:s.value.classHour,scoreRule:s.value.scoreRule,evaluationSetting:s.value.evaluationSetting,testContent:JSON.stringify(a),showAnswer:w.value.showAnswer,prohibitCopyAnswer:w.value.prohibitCopyAnswer,referenceAnswer:w.value.referenceAnswer};console.log("ä¿å­˜è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",e),await O(e),M.value=!0,D.value=!0,u.success("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(a){console.error("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",a),u.error("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Re=async()=>{try{if(!_.value){u.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(s.value.openTestValidate===1){if(!s.value.timeLimitM){u.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!s.value.classHour||s.value.classHour<=0){u.error("è¯·è¾“å…¥æœ‰æ•ˆçš„å­¦æ—¶");return}if(!s.value.testSets||s.value.testSets.length===0){u.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const i=s.value.testSets.filter(p=>p.select===1);if(i.length===0){u.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let p=0;p<i.length;p++){const m=i[p];if(!m.answer||m.answer.trim()===""){u.error("æµ‹è¯•é›†çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º");return}}}const a=s.value.testSets.map(i=>({answer:i.answer,select:i.select})),e={taskId:_.value,projectId:k.value,openTestValidate:s.value.openTestValidate,testValidateFiles:s.value.testValidateFiles,testValidateSh:s.value.testValidateSh,timeLimitM:s.value.timeLimitM,classHour:s.value.classHour,scoreRule:s.value.scoreRule,evaluationSetting:s.value.evaluationSetting,testContent:JSON.stringify(a),showAnswer:w.value.showAnswer,prohibitCopyAnswer:w.value.prohibitCopyAnswer,referenceAnswer:w.value.referenceAnswer};console.log("ä¿å­˜è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",e),await O(e),M.value=!0,D.value=!0,u.success("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(a){console.error("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",a),u.error("è¯„æµ‹è®¾ç½®å’Œå‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},qe=async()=>{try{if(!k.value){u.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºé¡¹ç›®");return}if(!_.value){u.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!M.value){u.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†å®Œæˆåˆ›å»º");return}if(!D.value){u.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†å®Œæˆåˆ›å»º");return}if(!h.value.dockerImage){u.error("è¯·é€‰æ‹©å®éªŒç¯å¢ƒ");return}if(!h.value.timeLimitM){u.error("è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿");return}await O({taskId:_.value,projectId:k.value,dockerImage:h.value.dockerImage,secondType:h.value.secondType,timeLimitM:h.value.timeLimitM}),await we({id:k.value,status:10}),u.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),setTimeout(()=>{oe.push("/dashboard/analysis")},500)}catch(a){console.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼š",a),u.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼Œè¯·é‡è¯•")}},C=f(""),N=f(""),Me=me(()=>N.value?S.value.filter(a=>a.label.toLowerCase().includes(N.value.toLowerCase())):S.value),De=me(()=>{const a=S.value.find(e=>e.value===C.value);return a?a.label:"æœªé€‰æ‹©"}),h=f({dockerImage:"",secondType:"Css",timeLimitM:""}),He=a=>{C.value=a,h.value.dockerImage=a,o.value.environment!==a&&(o.value.environment=a)};te(()=>o.value.environment,a=>{console.log("formData.environment å˜åŒ–:",a,"å½“å‰ selectedEnvironment:",C.value),a&&String(a)!==C.value&&(C.value=String(a),h.value.dockerImage=String(a),console.log("å·²åŒæ­¥åˆ°ç¬¬å››æ­¥:",C.value))}),te(()=>C.value,a=>{console.log("selectedEnvironment å˜åŒ–ä¸º:",a)});const T=()=>{Oe(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const a=document.querySelector(".page-content");a&&(a.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(p=>{p.scrollTop>0&&(p.scrollTop=0)})})};return(a,e)=>{const i=ua,p=ia,m=da,v=va,j=pa,ae=fa,ce=ca,b=ga,U=ma,B=_a,x=wa,pe=ya,H=ba,Pe=ka,Fe=ha,Ee=Sa,Je=Ca,fe=Ta,ze=xa;return d(),g("div",La,[e[53]||(e[53]=r("div",{class:"page-header"},[r("h2",null,"JupyterLabç¯å¢ƒå®è®­é¡¹ç›®é…ç½®")],-1)),r("div",Ia,[r("div",Ua,[t(p,{current:y.value,class:"custom-steps"},{default:l(()=>[(d(),g(A,null,G(he,(n,R)=>t(i,{key:R,title:n.title},null,8,["title"])),64))]),_:1},8,["current"])]),y.value===0?(d(),g("div",Va,[e[28]||(e[28]=r("div",{class:"section-title"},[r("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),r("div",ja,[t(H,{ref_key:"formRef",ref:E,model:o.value,rules:re,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[t(v,{label:"åç§°",name:"name",required:""},{default:l(()=>[t(m,{value:o.value.name,"onUpdate:value":e[0]||(e[0]=n=>o.value.name=n),placeholder:"è¯·è¾“å…¥åç§°"},null,8,["value"])]),_:1}),t(ce,null,{default:l(()=>[t(j,{span:12},{default:l(()=>[t(v,{label:"æŠ€èƒ½æ ‡ç­¾",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[t(m,{value:o.value.tag,"onUpdate:value":e[1]||(e[1]=n=>o.value.tag=n),placeholder:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾"},null,8,["value"]),e[21]||(e[21]=r("div",{style:{"font-size":"12px",color:"#999","margin-top":"4px"}}," è¯·ä½¿ç”¨è‹±æ–‡çŠ¶æ€ä¸‹çš„é€—å·åˆ†éš”æŠ€èƒ½æ ‡ç­¾ï¼Œæ¯”å¦‚html,css,js ",-1))]),_:1,__:[21]})]),_:1}),t(j,{span:12},{default:l(()=>[t(v,{label:"é¢†åŸŸç±»åˆ«",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[t(ae,{value:o.value.fieldType,"onUpdate:value":e[2]||(e[2]=n=>o.value.fieldType=n),placeholder:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",options:P(W).options.value,loading:P(W).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),t(v,{label:"éš¾åº¦",name:"difficulty",required:""},{default:l(()=>[t(U,{value:o.value.difficulty,"onUpdate:value":e[3]||(e[3]=n=>o.value.difficulty=n),class:"custom-radio"},{default:l(()=>[(d(!0),g(A,null,G(P(ue).data.value,n=>(d(),F(b,{key:n.value,value:Number(n.value)},{default:l(()=>[c(q(n.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),t(ce,null,{default:l(()=>[t(j,{span:12},{default:l(()=>[t(v,{label:"å®éªŒç¯å¢ƒ",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[t(ae,{value:o.value.environment,"onUpdate:value":e[4]||(e[4]=n=>o.value.environment=n),placeholder:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",options:S.value,loading:Z.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),t(v,{label:"å­¦æ—¶",name:"classHour"},{default:l(()=>[t(B,{min:0,disabled:"",class:"w-full",value:o.value.classHour,"onUpdate:value":e[5]||(e[5]=n=>o.value.classHour=n),placeholder:"é…ç½®ä»»åŠ¡åè‡ªåŠ¨è®¡ç®—å­¦æ—¶"},null,8,["value"])]),_:1}),t(v,{label:"é¡¶éƒ¨èƒŒæ™¯å›¾",name:"topCover",required:""},{default:l(()=>[r("div",Ra,[r("div",qa,[t(pe,{"before-upload":Te,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[t(x,{loading:J.value},{default:l(()=>[J.value?(d(),g(A,{key:1},[c("ä¸Šä¼ ä¸­...")],64)):(d(),g(A,{key:0},[c("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),Y.value?(d(),g("div",Ma,[r("img",{src:Y.value,alt:"é¡¶éƒ¨èƒŒæ™¯å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Da)])):L("",!0)]),e[22]||(e[22]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),t(v,{label:"å°é¢å›¾",name:"cover",required:""},{default:l(()=>[r("div",Ha,[r("div",Pa,[t(pe,{"before-upload":Se,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[t(x,{loading:z.value},{default:l(()=>[z.value?(d(),g(A,{key:1},[c("ä¸Šä¼ ä¸­...")],64)):(d(),g(A,{key:0},[c("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),Q.value?(d(),g("div",Fa,[r("img",{src:Q.value,alt:"å°é¢å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Ea)])):L("",!0)]),e[23]||(e[23]=r("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),t(v,{label:"ç®€ä»‹",name:"description"},{default:l(()=>[t(_e,{modelValue:o.value.description,"onUpdate:modelValue":e[6]||(e[6]=n=>o.value.description=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e[29]||(e[29]=r("div",{class:"section-title"},[r("h3",null,"åŸ¹è®­å…¬å¼€èŒƒå›´")],-1)),r("div",Ja,[t(H,{ref_key:"trainingScopeFormRef",ref:se,model:o.value,rules:re,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[t(v,{label:"åŸ¹è®­å…¬å¼€èŒƒå›´",name:"authType",required:""},{default:l(()=>[t(U,{value:o.value.authType,"onUpdate:value":e[7]||(e[7]=n=>o.value.authType=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[24]||(e[24]=[c("å®Œå…¨å…¬å¼€")])),_:1,__:[24]}),t(b,{value:2},{default:l(()=>e[25]||(e[25]=[c("å…¨é™¢å…¬å¼€")])),_:1,__:[25]}),t(b,{value:3},{default:l(()=>e[26]||(e[26]=[c("æœ¬å•ä½å…¬å¼€")])),_:1,__:[26]}),t(b,{value:4},{default:l(()=>e[27]||(e[27]=[c("ä¸å…¬å¼€")])),_:1,__:[27]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):L("",!0),y.value===1?(d(),g("div",za,[r("div",{class:ge(["jupyter-container",{fullscreen:V.value}])},[r("div",Na,[e[30]||(e[30]=r("h3",null,"Jupyter Lab ç¼–è¾‘å™¨",-1)),r("div",Ba,[t(Pe,{title:V.value?"é€€å‡ºå…¨å±":"å…¨å±"},{default:l(()=>[t(x,{type:"text",icon:V.value?"fullscreen-exit":"fullscreen",onClick:be},{default:l(()=>[c(q(V.value?"é€€å‡ºå…¨å±":"å…¨å±"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),r("div",Ga,[$.value?(d(),g("div",Oa,[t(Fe,{size:"large",tip:"æ­£åœ¨åŠ è½½å®éªŒç¯å¢ƒ..."})])):(d(),g("iframe",{key:1,src:K.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,Ka))])],2)])):L("",!0),y.value===2?(d(),g("div",$a,[t(ze,{activeKey:ie.value,"onUpdate:activeKey":e[16]||(e[16]=n=>ie.value=n),class:"evaluation-tabs"},{default:l(()=>[t(fe,{key:"settings",tab:"è¯„æµ‹è®¾ç½®"},{default:l(()=>[r("div",Ya,[r("div",Qa,[e[38]||(e[38]=r("div",{class:"block-header"},"è¯„æµ‹æ–‡ä»¶",-1)),r("div",Wa,[t(H,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[t(v,{label:"æ˜¯å¦å¯ç”¨è¯„æµ‹åŠŸèƒ½",required:""},{default:l(()=>[t(U,{value:s.value.openTestValidate,"onUpdate:value":e[8]||(e[8]=n=>s.value.openTestValidate=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[31]||(e[31]=[c("æ˜¯")])),_:1,__:[31]}),t(b,{value:2},{default:l(()=>e[32]||(e[32]=[c("å¦")])),_:1,__:[32]})]),_:1},8,["value"])]),_:1}),s.value.openTestValidate===1?(d(),g(A,{key:0},[t(v,{label:"è¯„æµ‹æ—¶é•¿é™åˆ¶",required:""},{default:l(()=>[r("div",Xa,[t(B,{value:s.value.timeLimitM,"onUpdate:value":e[9]||(e[9]=n=>s.value.timeLimitM=n),min:1,placeholder:"è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",style:{width:"580px"}},null,8,["value"]),e[33]||(e[33]=r("span",null,"åˆ†é’Ÿ",-1))])]),_:1}),t(v,{label:"å­¦æ—¶",required:""},{default:l(()=>[t(B,{value:s.value.classHour,"onUpdate:value":e[10]||(e[10]=n=>s.value.classHour=n),min:0,placeholder:"è¯·è¾“å…¥å­¦æ—¶",style:{width:"600px"}},null,8,["value"])]),_:1}),t(v,{label:"ç³»ç»Ÿè¯„åˆ†è§„åˆ™"},{default:l(()=>[t(U,{value:s.value.scoreRule,"onUpdate:value":e[11]||(e[11]=n=>s.value.scoreRule=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[34]||(e[34]=[c(" é€šè¿‡å…¨éƒ¨æµ‹è¯•é›†ï¼ˆä»…å½“æ‰€æœ‰æµ‹è¯•é›†éƒ½æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[34]}),t(b,{value:2},{default:l(()=>e[35]||(e[35]=[c(" é€šè¿‡éƒ¨åˆ†æµ‹è¯•é›†ï¼ˆä»»æ„ä¸€ä¸ªæµ‹è¯•é›†æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[35]})]),_:1},8,["value"])]),_:1}),t(v,{label:"è¯„æµ‹è®¾ç½®",required:""},{default:l(()=>[t(U,{value:s.value.evaluationSetting,"onUpdate:value":e[12]||(e[12]=n=>s.value.evaluationSetting=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[36]||(e[36]=[c(" é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æ‰€æœ‰éç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[36]}),t(b,{value:2},{default:l(()=>e[37]||(e[37]=[c(" é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æŒ‡å®šéç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1})],64)):L("",!0)]),_:1})])]),s.value.openTestValidate===1?(d(),g("div",Za,[e[40]||(e[40]=r("div",{class:"block-header"},[r("span",null,"æµ‹è¯•é›†")],-1)),r("div",et,[(d(!0),g(A,null,G(s.value.testSets,n=>(d(),g("div",{key:n.id,class:"test-set-item"},[t(Ee,{checked:n.select===1,onChange:R=>Ce(n,R.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),e[39]||(e[39]=r("span",{class:"test-set-label"},"æµ‹è¯•é›†",-1)),t(Je,{value:n.answer,"onUpdate:value":R=>n.answer=R,placeholder:"è¯·è¾“å…¥æœŸæœ›è¾“å‡º",class:"test-set-input","auto-size":{minRows:3}},null,8,["value","onUpdate:value"])]))),128))])])):L("",!0),r("div",at,[t(x,{type:"primary",onClick:je},{default:l(()=>[c(q(M.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1}),t(fe,{key:"reference",tab:"å‚è€ƒç­”æ¡ˆ"},{default:l(()=>[r("div",tt,[r("div",lt,[e[45]||(e[45]=r("div",{class:"block-header"},"å‚è€ƒç­”æ¡ˆ",-1)),r("div",ot,[t(H,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[t(v,{label:"æ˜¯å¦æ˜¾ç¤ºå‚è€ƒç­”æ¡ˆæ¨¡å—",required:""},{default:l(()=>[t(U,{value:w.value.showAnswer,"onUpdate:value":e[13]||(e[13]=n=>w.value.showAnswer=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[41]||(e[41]=[c("æ˜¯")])),_:1,__:[41]}),t(b,{value:2},{default:l(()=>e[42]||(e[42]=[c("å¦")])),_:1,__:[42]})]),_:1},8,["value"])]),_:1}),t(v,{label:"æ˜¯å¦ç¦æ­¢å¤åˆ¶å‚è€ƒç­”æ¡ˆ",required:""},{default:l(()=>[t(U,{value:w.value.prohibitCopyAnswer,"onUpdate:value":e[14]||(e[14]=n=>w.value.prohibitCopyAnswer=n),class:"custom-radio"},{default:l(()=>[t(b,{value:1},{default:l(()=>e[43]||(e[43]=[c("æ˜¯")])),_:1,__:[43]}),t(b,{value:2},{default:l(()=>e[44]||(e[44]=[c("å¦")])),_:1,__:[44]})]),_:1},8,["value"])]),_:1}),t(v,{label:"å‚è€ƒç­”æ¡ˆ"},{default:l(()=>[t(_e,{modelValue:w.value.referenceAnswer,"onUpdate:modelValue":e[15]||(e[15]=n=>w.value.referenceAnswer=n)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",st,[t(x,{type:"primary",onClick:Re},{default:l(()=>[c(q(D.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):L("",!0),y.value===3?(d(),g("div",nt,[r("div",rt,[e[48]||(e[48]=r("h3",{class:"section-main-title"},"å®éªŒç¯å¢ƒ",-1)),r("div",ut,[r("div",it,[r("div",vt,[t(m,{value:N.value,"onUpdate:value":e[17]||(e[17]=n=>N.value=n),placeholder:"æœç´¢éœ€è¦çš„å®éªŒç¯å¢ƒ","allow-clear":""},{suffix:l(()=>e[46]||(e[46]=[r("span",{class:"search-icon"},"ğŸ”",-1)])),_:1},8,["value"])]),r("div",dt,[(d(!0),g(A,null,G(Me.value,n=>(d(),g("div",{key:n.value,class:ge(["environment-item",{active:C.value===n.value}]),onClick:R=>He(n.value)},q(n.label),11,ct))),128))])]),r("div",pt,[r("div",ft," å®éªŒç¯å¢ƒ: "+q(De.value),1),t(H,{model:h.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:16}},{default:l(()=>[t(v,{label:"é™„å¸¦ç¯å¢ƒ"},{default:l(()=>[t(ae,{value:h.value.secondType,"onUpdate:value":e[18]||(e[18]=n=>h.value.secondType=n),placeholder:"è¯·é€‰æ‹©é™„å¸¦ç¯å¢ƒ",options:P(X).options.value,loading:P(X).loading.value},null,8,["value","options","loading"])]),_:1}),t(v,{label:"å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿"},{default:l(()=>[r("div",mt,[t(B,{value:h.value.timeLimitM,"onUpdate:value":e[19]||(e[19]=n=>h.value.timeLimitM=n),min:1,placeholder:"è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿",style:{flex:"1"}},null,8,["value"]),e[47]||(e[47]=r("span",null,"åˆ†",-1))])]),_:1})]),_:1},8,["model"])])])])])):L("",!0),r("div",gt,[y.value===0?(d(),F(x,{key:0,onClick:ve},{default:l(()=>e[49]||(e[49]=[c("è¿”å›")])),_:1,__:[49]})):(d(),F(x,{key:1,onClick:ve},{default:l(()=>e[50]||(e[50]=[c("ä¸Šä¸€æ­¥")])),_:1,__:[50]})),y.value===3?(d(),F(x,{key:2,type:"primary",onClick:qe},{default:l(()=>e[51]||(e[51]=[c("å®Œæˆåˆ›å»º")])),_:1,__:[51]})):(d(),F(x,{key:3,type:"primary",onClick:Ie},{default:l(()=>e[52]||(e[52]=[c("ä¸‹ä¸€æ­¥")])),_:1,__:[52]}))])]),t(ra,{open:ee.value,"onUpdate:open":e[20]||(e[20]=n=>ee.value=n),title:"é€‰æ‹©è¯„æµ‹æ–‡ä»¶","git-url":o.value.gitUrl,onConfirm:Ae},null,8,["open","git-url"])])}}}),At=Aa(_t,[["__scopeId","data-v-11d3590d"]]);export{At as default};

import{d as Ke,ak as Oe,f as v,o as Ye,w as le,c as ge,_ as f,a1 as d,$ as n,k as l,ac as I,a7 as t,F as S,ag as O,u as q,a6 as V,G as i,a9 as j,ab as _e,y as Qe}from"./vue-PnzzEkKE.js";import{R as ye,u as ke}from"./RichTextEditor-B5Fu9kzK.js";import{b as te,d as We,g as Xe,s as Ze,a as be,c as ea}from"./index-DMb5rcEz.js";import{u as aa,a as la,d as ta}from"./dictionary-BabBVMKJ.js";import{g as oa,a as sa}from"./dictionary-DJLWLOfI.js";import{H as L,j as na,t as ra,x as oe,c as ua,a as ia,m as da,F as va}from"./FileSelectModal-CnW9UHI8.js";import{a1 as r,a2 as ca,a3 as pa,z as fa,I as ma,a4 as ga,a5 as _a,a6 as ya,a7 as ka,a8 as ba,ac as wa,a9 as ha,H as Ta,J as Ca,K as xa,aj as Sa,Y as Ua,s as Ia,ah as qa,af as La,T as Aa}from"./antd-Cme2pY03.js";import{_ as ja}from"./index-Czbu5Zek.js";const Ra={class:"config-jupyter-lab-page"},Pa={class:"page-container"},Da={class:"steps-section"},Va={key:0},Ma={class:"form-section"},Fa={class:"flex items-top gap-16px"},Ha={class:"flex flex-col gap-12px"},Ea={key:0,class:"image-preview"},za=["src"],Ja={class:"flex items-top gap-16px"},Ba={class:"flex flex-col gap-12px"},Na={key:0,class:"image-preview"},Ga=["src"],$a={class:"form-section"},Ka={key:1,class:"step-content"},Oa={class:"jupyter-header"},Ya={class:"jupyter-actions"},Qa={class:"jupyter-iframe-wrapper"},Wa={key:0,class:"loading-container"},Xa=["src"],Za={key:2,class:"step-content evaluation-step"},el={class:"evaluation-section"},al={class:"section-block"},ll={class:"block-content"},tl={style:{display:"flex","align-items":"center",gap:"8px"}},ol={key:0,class:"section-block"},sl={class:"block-header"},nl={class:"header-actions"},rl={class:"block-content"},ul={class:"test-set-label"},il={class:"tab-footer-buttons"},dl={class:"reference-section"},vl={class:"section-block"},cl={class:"block-content"},pl={class:"tab-footer-buttons"},fl={key:3,class:"step-content environment-step"},ml={class:"environment-section"},gl={class:"environment-container"},_l={class:"environment-left"},yl={class:"search-box"},kl={class:"environment-list"},bl=["onClick"],wl={class:"environment-right"},hl={class:"environment-config-header"},Tl={style:{display:"flex","align-items":"center",gap:"8px"}},Cl={class:"page-footer"},we="http://101.200.13.193",xl=Ke({name:"ConfigJupyterLab",__name:"config-jupyter-lab",setup(Sl){L.registerLanguage("javascript",na),L.registerLanguage("typescript",ra),L.registerLanguage("xml",oe),L.registerLanguage("html",oe),L.registerLanguage("vue",oe),L.registerLanguage("css",ua),L.registerLanguage("json",ia),L.registerLanguage("markdown",da);const se=Oe(),_=v(0),w=v(null),m=v(null),M=v(),ne=v(),Y=v(""),R=v(!1),Q=v(!1),he=()=>{R.value=!R.value},W=v(""),X=v(""),F=v(!1),H=v(!1),o=v({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:0,topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1,enableCodeRepository:!1,repositoryType:"ä»£ç ä»“åº“",gitUrl:""});Ye(async()=>{var e;Z.load(),ue.load(),P.load(),await Te();const a=history.state;console.log("æ¥æ”¶åˆ°çš„è·¯ç”±æ•°æ®:",a),a&&a.name?(o.value.name=a.name||"",o.value.description=a.description||"",o.value.difficulty=a.difficulty||1,o.value.environment=a.environment,o.value.secondType=a.secondType,o.value.classHour=a.classHour||0,o.value.showTaskRequire=a.showTaskRequire||!1,console.log("å·²è‡ªåŠ¨å¡«å……è¡¨å•æ•°æ®:",{name:o.value.name,description:o.value.description,descriptionLength:((e=o.value.description)==null?void 0:e.length)||0,difficulty:o.value.difficulty,environment:o.value.environment,secondType:o.value.secondType,classHour:o.value.classHour,showTaskRequire:o.value.showTaskRequire})):console.log("æœªæ¥æ”¶åˆ°è·¯ç”±æ•°æ®")}),le(_,async(a,e)=>{a===1&&e===0&&!m.value&&w.value&&(console.log("è¿›å…¥ç¬¬äºŒæ­¥ï¼ˆå®éªŒå†…å®¹ï¼‰ï¼Œè‡ªåŠ¨åˆ›å»ºä»»åŠ¡..."),await De()),a===1&&m.value&&await ve()});const re={name:[{required:!0,message:"è¯·è¾“å…¥åç§°",trigger:"blur"}],tag:[{required:!0,message:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾",trigger:"blur"}],fieldType:[{required:!0,message:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",trigger:"change"}],difficulty:[{required:!0,message:"è¯·é€‰æ‹©éš¾åº¦",trigger:"change"}],environment:[{required:!0,message:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",trigger:"change"}],secondType:[{required:!0,message:"è¯·é€‰æ‹©å°ç±»åˆ«",trigger:"change"}],topCover:[{required:!0,message:"è¯·ä¸Šä¼ é¡¶éƒ¨èƒŒæ™¯å›¾",trigger:"change"}],cover:[{required:!0,message:"è¯·ä¸Šä¼ å°é¢å›¾",trigger:"change"}],authType:[{required:!0,message:"è¯·é€‰æ‹©åŸ¹è®­å…¬å¼€èŒƒå›´",trigger:"change"}]},Z=aa(),ue=la(),P=ta(),T=v([]),ee=v(!1),Te=async()=>{try{ee.value=!0;const a=oa(3),e=await sa({code:a});e&&e.list&&(T.value=e.list.map(p=>({label:p.name,value:String(p.value)})),console.log("åŠ è½½ç¯å¢ƒé€‰é¡¹:",{environmentOptions:T.value,currentEnvironment:o.value.environment}),o.value.environment?(C.value=String(o.value.environment),k.value.dockerImage=String(o.value.environment),console.log("ä½¿ç”¨ç¬¬ä¸€æ­¥çš„ç¯å¢ƒ:",o.value.environment)):!C.value&&T.value.length>0&&(C.value=T.value[0].value,k.value.dockerImage=T.value[0].value,o.value.environment=T.value[0].value,console.log("é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªç¯å¢ƒ:",T.value[0])))}catch(a){console.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥ï¼š",a),r.error("åŠ è½½å®éªŒç¯å¢ƒé€‰é¡¹å¤±è´¥")}finally{ee.value=!1}},Ce=[{title:"åŸºæœ¬ä¿¡æ¯"},{title:"å®éªŒå†…å®¹"},{title:"è¯„æµ‹è®¾ç½®"},{title:"å®éªŒç¯å¢ƒ"}],ae=v(!1),xe=async a=>{var g;if(!(a.size/1024/1024<12))return r.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return r.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{F.value=!0;const b=await ke(a);W.value=we+b,o.value.topCover=b,(g=M.value)==null||g.validateFields(["topCover"]),r.success("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ æˆåŠŸ")}catch{r.error("é¡¶éƒ¨èƒŒæ™¯å›¾ä¸Šä¼ å¤±è´¥")}finally{F.value=!1}return!1},Se=async a=>{var g;if(!(a.size/1024/1024<12))return r.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 12MB!"),!1;if(!(a.type==="image/jpeg"||a.type==="image/png"))return r.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;try{H.value=!0;const b=await ke(a);X.value=we+b,o.value.cover=b,(g=M.value)==null||g.validateFields(["cover"]),r.success("å°é¢å›¾ä¸Šä¼ æˆåŠŸ")}catch{r.error("å°é¢å›¾ä¸Šä¼ å¤±è´¥")}finally{H.value=!1}return!1},ie=v("settings"),u=v({openTestValidate:1,testValidateFiles:"",testValidateSh:"",timeLimitM:"",classHour:void 0,scoreRule:1,evaluationSetting:1,testSets:[{id:1,answer:"",select:1},{id:2,answer:"",select:1}]}),h=v({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),E=v(!1),z=v(!1);let Ue=3;const Ie=()=>{u.value.testSets.push({id:Ue++,answer:"",select:1})},qe=a=>{if(u.value.testSets.length===1){r.warning("è‡³å°‘ä¿ç•™ä¸€ä¸ªæµ‹è¯•é›†");return}u.value.testSets=u.value.testSets.filter(e=>e.id!==a),r.success("åˆ é™¤æˆåŠŸ")},Le=(a,e)=>{a.select=e?1:2},Ae=v([]),je=a=>{Ae.value=a.map(p=>({uid:p.uid,name:p.name,status:"done",url:p.path}));const e=a.map(p=>p.path).join(",");u.value.testValidateFiles=e,r.success(`å·²é€‰æ‹© ${a.length} ä¸ªæ–‡ä»¶`),ae.value=!1},de=()=>{_.value===0?se.back():(_.value--,U())},Re=async()=>{try{const a={projectType:3,environment:o.value.environment,name:o.value.name,tag:o.value.tag,fieldType:o.value.fieldType,difficulty:o.value.difficulty,topCover:o.value.topCover,cover:o.value.cover,description:o.value.description,showTaskRequire:o.value.showTaskRequire?1:2,authType:o.value.authType,enableCodeRepository:o.value.enableCodeRepository,secondType:o.value.secondType};o.value.enableCodeRepository&&(a.repositoryType=o.value.repositoryType,a.gitUrl=o.value.gitUrl),console.log("æäº¤é¡¹ç›®æ•°æ®ï¼š",a);let e;w.value?(a.id=w.value,e=await be(a),r.success("é¡¹ç›®æ›´æ–°æˆåŠŸï¼"),console.log("æ›´æ–°æˆåŠŸï¼š",e)):(e=await ea(a),e&&e.id&&(w.value=e.id,console.log("é¡¹ç›®IDå·²ä¿å­˜ï¼š",w.value)),r.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),console.log("åˆ›å»ºæˆåŠŸï¼š",e)),_.value=1,U()}catch(a){console.error("æ“ä½œå¤±è´¥ï¼š",a),r.error(w.value?"é¡¹ç›®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•":"é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),U()}},Pe=async()=>{var a,e;if(_.value===0)try{await Promise.all([(a=M.value)==null?void 0:a.validate(),(e=ne.value)==null?void 0:e.validate()]),console.log("è¡¨å•æ•°æ®ï¼š",o.value),await Re()}catch{r.error("è¯·å®Œå–„å¿…å¡«ä¿¡æ¯"),U()}else if(_.value===1)m.value&&await Ve(),_.value=2,U();else if(_.value===2){if(!E.value){r.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†è¿›è¡Œä¸‹ä¸€æ­¥"),U();return}if(!z.value){r.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†è¿›è¡Œä¸‹ä¸€æ­¥"),U();return}_.value=3,U()}},De=async()=>{try{if(!w.value){console.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œæ— æ³•åˆ›å»ºä»»åŠ¡");return}const a={type:4,projectId:w.value,name:"JupyterLabç¯å¢ƒå®è®­ä»»åŠ¡"};console.log("è‡ªåŠ¨æäº¤ä»»åŠ¡æ•°æ®ï¼š",a);const e=await We(a);e&&e.taskId&&(m.value=e.taskId,console.log("ä»»åŠ¡IDå·²ä¿å­˜ï¼š",m.value),r.success("ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼"),await ve())}catch(a){console.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼š",a),r.error("ä»»åŠ¡åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},ve=async()=>{if(!m.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•è·å–Podé…ç½®");return}try{Q.value=!0,console.log("æ­£åœ¨è·å–Podé…ç½®ï¼ŒtaskId:",m.value);const a=await Xe({taskId:m.value});console.log("è·å–åˆ°Podæ•°æ®ï¼š",a),a&&a.config&&a.config.url?(Y.value=a.config.url,console.log("æ›´æ–°Jupyter URLä¸ºï¼š",Y.value),r.success("å®éªŒç¯å¢ƒåŠ è½½æˆåŠŸï¼")):(console.error("Podé…ç½®ä¸­æ²¡æœ‰urlå­—æ®µ"),r.warning("æœªè·å–åˆ°å®éªŒç¯å¢ƒURL"))}catch(a){console.error("è·å–Podé…ç½®å¤±è´¥ï¼š",a),r.error("è·å–å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{Q.value=!1}},Ve=async()=>{if(!m.value){console.log("taskIdä¸å­˜åœ¨ï¼Œæ— æ³•åœæ­¢Pod");return}try{console.log("æ­£åœ¨åœæ­¢Podï¼ŒtaskId:",m.value),await Ze({taskId:m.value}),console.log("Podåœæ­¢æˆåŠŸ"),r.success("å®éªŒç¯å¢ƒå·²åœæ­¢")}catch(a){console.error("åœæ­¢Podå¤±è´¥ï¼š",a),r.error("åœæ­¢å®éªŒç¯å¢ƒå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},Me=async()=>{try{if(!m.value){r.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(u.value.openTestValidate===1){if(!u.value.timeLimitM){r.error("è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿é™åˆ¶");return}if(!u.value.classHour||u.value.classHour<=0){r.error("è¯·è¾“å…¥æœ‰æ•ˆçš„å­¦æ—¶");return}if(!u.value.testSets||u.value.testSets.length===0){r.error("è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæµ‹è¯•é›†");return}const p=u.value.testSets.filter(g=>g.select===1);if(p.length===0){r.error("è¯·è‡³å°‘é€‰ä¸­ä¸€ä¸ªæµ‹è¯•é›†");return}for(let g=0;g<p.length;g++){const b=p[g];if(!b.answer||b.answer.trim()===""){r.error(`æµ‹è¯•é›†${g+1}çš„æœŸæœ›è¾“å‡ºä¸èƒ½ä¸ºç©º`);return}}}const a=u.value.testSets.map(p=>({answer:p.answer,select:p.select})),e={taskId:m.value,projectId:w.value,openTestValidate:u.value.openTestValidate,testValidateFiles:u.value.testValidateFiles,testValidateSh:u.value.testValidateSh,timeLimitM:u.value.timeLimitM,classHour:u.value.classHour,scoreRule:u.value.scoreRule,evaluationSetting:u.value.evaluationSetting,testContent:JSON.stringify(a)};console.log("ä¿å­˜è¯„æµ‹è®¾ç½®æ•°æ®ï¼š",e),await te(e),E.value=!0,r.success("è¯„æµ‹è®¾ç½®ä¿å­˜æˆåŠŸï¼")}catch(a){console.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼š",a),r.error("è¯„æµ‹è®¾ç½®ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},Fe=async()=>{try{if(!m.value){r.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!h.value.referenceAnswer||h.value.referenceAnswer.trim()===""){r.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}if(!h.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){r.error("è¯·è¾“å…¥å‚è€ƒç­”æ¡ˆå†…å®¹");return}const e={taskId:m.value,projectId:w.value,showAnswer:h.value.showAnswer,prohibitCopyAnswer:h.value.prohibitCopyAnswer,referenceAnswer:h.value.referenceAnswer};console.log("ä¿å­˜å‚è€ƒç­”æ¡ˆæ•°æ®ï¼š",e),await te(e),z.value=!0,r.success("å‚è€ƒç­”æ¡ˆä¿å­˜æˆåŠŸï¼")}catch(a){console.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼š",a),r.error("å‚è€ƒç­”æ¡ˆä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}},He=async()=>{try{if(!w.value){r.error("é¡¹ç›®IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºé¡¹ç›®");return}if(!m.value){r.error("ä»»åŠ¡IDä¸å­˜åœ¨ï¼Œè¯·é‡æ–°åˆ›å»ºä»»åŠ¡");return}if(!E.value){r.error("è¯·å…ˆä¿å­˜è¯„æµ‹è®¾ç½®åå†å®Œæˆåˆ›å»º");return}if(!z.value){r.error("è¯·å…ˆä¿å­˜å‚è€ƒç­”æ¡ˆåå†å®Œæˆåˆ›å»º");return}if(!k.value.dockerImage){r.error("è¯·é€‰æ‹©å®éªŒç¯å¢ƒ");return}if(!k.value.timeLimitM){r.error("è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿");return}await te({taskId:m.value,projectId:w.value,dockerImage:k.value.dockerImage,secondType:k.value.secondType,timeLimitM:k.value.timeLimitM}),await be({id:w.value,status:10}),r.success("é¡¹ç›®åˆ›å»ºæˆåŠŸï¼"),setTimeout(()=>{se.push("/dashboard/analysis")},500)}catch(a){console.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼š",a),r.error("å®Œæˆåˆ›å»ºå¤±è´¥ï¼Œè¯·é‡è¯•")}},C=v(""),J=v(""),Ee=ge(()=>J.value?T.value.filter(a=>a.label.toLowerCase().includes(J.value.toLowerCase())):T.value),ze=ge(()=>{const a=T.value.find(e=>e.value===C.value);return a?a.label:"æœªé€‰æ‹©"}),k=v({dockerImage:"",secondType:"Css",timeLimitM:""}),Je=a=>{C.value=a,k.value.dockerImage=a,o.value.environment!==a&&(o.value.environment=a)};le(()=>o.value.environment,a=>{console.log("formData.environment å˜åŒ–:",a,"å½“å‰ selectedEnvironment:",C.value),a&&String(a)!==C.value&&(C.value=String(a),k.value.dockerImage=String(a),console.log("å·²åŒæ­¥åˆ°ç¬¬å››æ­¥:",C.value))}),le(()=>C.value,a=>{console.log("selectedEnvironment å˜åŒ–ä¸º:",a)});const U=()=>{Qe(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const a=document.querySelector(".page-content");a&&(a.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(g=>{g.scrollTop>0&&(g.scrollTop=0)})})};return(a,e)=>{const p=ca,g=pa,b=ma,c=fa,B=_a,N=ya,ce=ga,y=ba,A=ka,G=wa,x=Ta,pe=ha,fe=Ca,D=xa,Be=Sa,Ne=Ua,Ge=qa,me=Ia,$e=Aa;return d(),f("div",Ra,[e[55]||(e[55]=n("div",{class:"page-header"},[n("h2",null,"JupyterLabç¯å¢ƒå®è®­é¡¹ç›®é…ç½®")],-1)),n("div",Pa,[n("div",Da,[l(g,{current:_.value,class:"custom-steps"},{default:t(()=>[(d(),f(S,null,O(Ce,(s,$)=>l(p,{key:$,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),_.value===0?(d(),f("div",Va,[e[30]||(e[30]=n("div",{class:"section-title"},[n("h3",null,"åŸºæœ¬ä¿¡æ¯")],-1)),n("div",Ma,[l(D,{ref_key:"formRef",ref:M,model:o.value,rules:re,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:t(()=>[l(c,{label:"åç§°",name:"name",required:""},{default:t(()=>[l(b,{value:o.value.name,"onUpdate:value":e[0]||(e[0]=s=>o.value.name=s),placeholder:"è¯·è¾“å…¥åç§°"},null,8,["value"])]),_:1}),l(ce,null,{default:t(()=>[l(B,{span:12},{default:t(()=>[l(c,{label:"æŠ€èƒ½æ ‡ç­¾",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:t(()=>[l(b,{value:o.value.tag,"onUpdate:value":e[1]||(e[1]=s=>o.value.tag=s),placeholder:"è¯·è¾“å…¥æŠ€èƒ½æ ‡ç­¾"},null,8,["value"])]),_:1})]),_:1}),l(B,{span:12},{default:t(()=>[l(c,{label:"é¢†åŸŸç±»åˆ«",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:t(()=>[l(N,{value:o.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>o.value.fieldType=s),placeholder:"è¯·é€‰æ‹©é¢†åŸŸç±»åˆ«",options:q(Z).options.value,loading:q(Z).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),l(c,{label:"éš¾åº¦",name:"difficulty",required:""},{default:t(()=>[l(A,{value:o.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>o.value.difficulty=s),class:"custom-radio"},{default:t(()=>[(d(!0),f(S,null,O(q(ue).data.value,s=>(d(),V(y,{key:s.value,value:Number(s.value)},{default:t(()=>[i(j(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),l(ce,null,{default:t(()=>[l(B,{span:12},{default:t(()=>[l(c,{label:"å®éªŒç¯å¢ƒ",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:t(()=>[l(N,{value:o.value.environment,"onUpdate:value":e[4]||(e[4]=s=>o.value.environment=s),placeholder:"è¯·é€‰æ‹©å®éªŒç¯å¢ƒ",options:T.value,loading:ee.value},null,8,["value","options","loading"])]),_:1})]),_:1}),l(B,{span:12},{default:t(()=>[l(c,{label:"å°ç±»åˆ«",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:t(()=>[l(N,{value:o.value.secondType,"onUpdate:value":e[5]||(e[5]=s=>o.value.secondType=s),placeholder:"è¯·é€‰æ‹©å°ç±»åˆ«",options:q(P).options.value,loading:q(P).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),l(c,{label:"å­¦æ—¶",name:"classHour"},{default:t(()=>[l(G,{min:0,disabled:"",class:"w-full",value:o.value.classHour,"onUpdate:value":e[6]||(e[6]=s=>o.value.classHour=s),placeholder:"é…ç½®ä»»åŠ¡åè‡ªåŠ¨è®¡ç®—å­¦æ—¶"},null,8,["value"])]),_:1}),l(c,{label:"é¡¶éƒ¨èƒŒæ™¯å›¾",name:"topCover",required:""},{default:t(()=>[n("div",Fa,[n("div",Ha,[l(pe,{"before-upload":xe,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:t(()=>[l(x,{loading:F.value},{default:t(()=>[F.value?(d(),f(S,{key:1},[i("ä¸Šä¼ ä¸­...")],64)):(d(),f(S,{key:0},[i("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),W.value?(d(),f("div",Ea,[n("img",{src:W.value,alt:"é¡¶éƒ¨èƒŒæ™¯å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,za)])):I("",!0)]),e[23]||(e[23]=n("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),l(c,{label:"å°é¢å›¾",name:"cover",required:""},{default:t(()=>[n("div",Ja,[n("div",Ba,[l(pe,{"before-upload":Se,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:t(()=>[l(x,{loading:H.value},{default:t(()=>[H.value?(d(),f(S,{key:1},[i("ä¸Šä¼ ä¸­...")],64)):(d(),f(S,{key:0},[i("é€‰æ‹©æ–‡ä»¶")],64))]),_:1},8,["loading"])]),_:1}),X.value?(d(),f("div",Na,[n("img",{src:X.value,alt:"å°é¢å›¾é¢„è§ˆ",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Ga)])):I("",!0)]),e[24]||(e[24]=n("div",{class:"upload-hint"}," è¯´æ˜ï¼šæ”¯æŒä¸Šä¼ png/jpegç­‰æ ¼å¼æ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡12M,å»ºè®®ä½¿ç”¨290*218åƒç´ ã€‚ ",-1))])]),_:1}),l(c,{label:"ç®€ä»‹",name:"description"},{default:t(()=>[l(ye,{modelValue:o.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.description=s)},null,8,["modelValue"])]),_:1}),l(c,{label:"ä»»åŠ¡è¦æ±‚",name:"showTaskRequire"},{default:t(()=>[l(fe,{checked:o.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=s=>o.value.showTaskRequire=s)},{default:t(()=>e[25]||(e[25]=[i(" æ˜¾ç¤ºä»»åŠ¡è¦æ±‚ï¼ˆå‹¾é€‰åï¼Œå°†å¸®ä½œä¸ºä»»åŠ¡è¦æ±‚æ˜¾ç¤ºåœ¨ä»»åŠ¡é¡¹ç›®æ”¿ç­–é¢ï¼‰ ")])),_:1,__:[25]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[31]||(e[31]=n("div",{class:"section-title"},[n("h3",null,"åŸ¹è®­å…¬å¼€èŒƒå›´")],-1)),n("div",$a,[l(D,{ref_key:"trainingScopeFormRef",ref:ne,model:o.value,rules:re,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:t(()=>[l(c,{label:"åŸ¹è®­å…¬å¼€èŒƒå›´",name:"authType",required:""},{default:t(()=>[l(A,{value:o.value.authType,"onUpdate:value":e[9]||(e[9]=s=>o.value.authType=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[26]||(e[26]=[i("å®Œå…¨å…¬å¼€")])),_:1,__:[26]}),l(y,{value:2},{default:t(()=>e[27]||(e[27]=[i("å…¨é™¢å…¬å¼€")])),_:1,__:[27]}),l(y,{value:3},{default:t(()=>e[28]||(e[28]=[i("æœ¬å•ä½å…¬å¼€")])),_:1,__:[28]}),l(y,{value:4},{default:t(()=>e[29]||(e[29]=[i("ä¸å…¬å¼€")])),_:1,__:[29]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):I("",!0),_.value===1?(d(),f("div",Ka,[n("div",{class:_e(["jupyter-container",{fullscreen:R.value}])},[n("div",Oa,[e[32]||(e[32]=n("h3",null,"Jupyter Lab ç¼–è¾‘å™¨",-1)),n("div",Ya,[l(Be,{title:R.value?"é€€å‡ºå…¨å±":"å…¨å±"},{default:t(()=>[l(x,{type:"text",icon:R.value?"fullscreen-exit":"fullscreen",onClick:he},{default:t(()=>[i(j(R.value?"é€€å‡ºå…¨å±":"å…¨å±"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),n("div",Qa,[Q.value?(d(),f("div",Wa,[l(Ne,{size:"large",tip:"æ­£åœ¨åŠ è½½å®éªŒç¯å¢ƒ..."})])):(d(),f("iframe",{key:1,src:Y.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,Xa))])],2)])):I("",!0),_.value===2?(d(),f("div",Za,[l($e,{activeKey:ie.value,"onUpdate:activeKey":e[18]||(e[18]=s=>ie.value=s),class:"evaluation-tabs"},{default:t(()=>[l(me,{key:"settings",tab:"è¯„æµ‹è®¾ç½®"},{default:t(()=>[n("div",el,[n("div",al,[e[40]||(e[40]=n("div",{class:"block-header"},"è¯„æµ‹æ–‡ä»¶",-1)),n("div",ll,[l(D,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:t(()=>[l(c,{label:"æ˜¯å¦å¯ç”¨è¯„æµ‹åŠŸèƒ½",required:""},{default:t(()=>[l(A,{value:u.value.openTestValidate,"onUpdate:value":e[10]||(e[10]=s=>u.value.openTestValidate=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[33]||(e[33]=[i("æ˜¯")])),_:1,__:[33]}),l(y,{value:2},{default:t(()=>e[34]||(e[34]=[i("å¦")])),_:1,__:[34]})]),_:1},8,["value"])]),_:1}),u.value.openTestValidate===1?(d(),f(S,{key:0},[l(c,{label:"è¯„æµ‹æ—¶é•¿é™åˆ¶",required:""},{default:t(()=>[n("div",tl,[l(G,{value:u.value.timeLimitM,"onUpdate:value":e[11]||(e[11]=s=>u.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥è¯„æµ‹æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",style:{width:"580px"}},null,8,["value"]),e[35]||(e[35]=n("span",null,"åˆ†é’Ÿ",-1))])]),_:1}),l(c,{label:"å­¦æ—¶",required:""},{default:t(()=>[l(G,{value:u.value.classHour,"onUpdate:value":e[12]||(e[12]=s=>u.value.classHour=s),min:0,placeholder:"è¯·è¾“å…¥å­¦æ—¶",style:{width:"600px"}},null,8,["value"])]),_:1}),l(c,{label:"ç³»ç»Ÿè¯„åˆ†è§„åˆ™"},{default:t(()=>[l(A,{value:u.value.scoreRule,"onUpdate:value":e[13]||(e[13]=s=>u.value.scoreRule=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[36]||(e[36]=[i(" é€šè¿‡å…¨éƒ¨æµ‹è¯•é›†ï¼ˆä»…å½“æ‰€æœ‰æµ‹è¯•é›†éƒ½æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[36]}),l(y,{value:2},{default:t(()=>e[37]||(e[37]=[i(" é€šè¿‡éƒ¨åˆ†æµ‹è¯•é›†ï¼ˆä»»æ„ä¸€ä¸ªæµ‹è¯•é›†æ­£ç¡®æ—¶ï¼Œè·å¾—é¡¹ç›®å­¦æ—¶ï¼‰ ")])),_:1,__:[37]})]),_:1},8,["value"])]),_:1}),l(c,{label:"è¯„æµ‹è®¾ç½®",required:""},{default:t(()=>[l(A,{value:u.value.evaluationSetting,"onUpdate:value":e[14]||(e[14]=s=>u.value.evaluationSetting=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[38]||(e[38]=[i(" é€šè¿‡æ‰€æœ‰ä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æ‰€æœ‰éç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[38]}),l(y,{value:2},{default:t(()=>e[39]||(e[39]=[i(" é€šè¿‡æŒ‡å®šä»£ç å—è¯„æµ‹ï¼ˆå¯¹å­¦å‘˜ä»»åŠ¡æ–‡ä»¶çš„æŒ‡å®šéç©ºä»£ç å—è¿›è¡Œè¯„æµ‹ï¼‰ ")])),_:1,__:[39]})]),_:1},8,["value"])]),_:1})],64)):I("",!0)]),_:1})])]),u.value.openTestValidate===1?(d(),f("div",ol,[n("div",sl,[e[42]||(e[42]=n("span",null,"æµ‹è¯•é›†",-1)),n("div",nl,[l(x,{onClick:Ie},{default:t(()=>e[41]||(e[41]=[i("æ–°å¢æµ‹è¯•é›†")])),_:1,__:[41]})])]),n("div",rl,[(d(!0),f(S,null,O(u.value.testSets,(s,$)=>(d(),f("div",{key:s.id,class:"test-set-item"},[l(fe,{checked:s.select===1,onChange:K=>Le(s,K.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),n("span",ul,"æµ‹è¯•é›†"+j($+1),1),l(Ge,{value:s.answer,"onUpdate:value":K=>s.answer=K,placeholder:"è¯·è¾“å…¥æœŸæœ›è¾“å‡º",class:"test-set-input","auto-size":{minRows:3}},null,8,["value","onUpdate:value"]),l(q(La),{class:"delete-test-set-icon",onClick:K=>qe(s.id)},null,8,["onClick"])]))),128))])])):I("",!0),n("div",il,[l(x,{type:"primary",onClick:Me},{default:t(()=>[i(j(E.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1}),l(me,{key:"reference",tab:"å‚è€ƒç­”æ¡ˆ"},{default:t(()=>[n("div",dl,[n("div",vl,[e[47]||(e[47]=n("div",{class:"block-header"},"å‚è€ƒç­”æ¡ˆ",-1)),n("div",cl,[l(D,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:t(()=>[l(c,{label:"æ˜¯å¦æ˜¾ç¤ºå‚è€ƒç­”æ¡ˆæ¨¡å—",required:""},{default:t(()=>[l(A,{value:h.value.showAnswer,"onUpdate:value":e[15]||(e[15]=s=>h.value.showAnswer=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[43]||(e[43]=[i("æ˜¯")])),_:1,__:[43]}),l(y,{value:2},{default:t(()=>e[44]||(e[44]=[i("å¦")])),_:1,__:[44]})]),_:1},8,["value"])]),_:1}),l(c,{label:"æ˜¯å¦ç¦æ­¢å¤åˆ¶å‚è€ƒç­”æ¡ˆ",required:""},{default:t(()=>[l(A,{value:h.value.prohibitCopyAnswer,"onUpdate:value":e[16]||(e[16]=s=>h.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:t(()=>[l(y,{value:1},{default:t(()=>e[45]||(e[45]=[i("æ˜¯")])),_:1,__:[45]}),l(y,{value:2},{default:t(()=>e[46]||(e[46]=[i("å¦")])),_:1,__:[46]})]),_:1},8,["value"])]),_:1}),l(c,{label:"å‚è€ƒç­”æ¡ˆ",required:""},{default:t(()=>[l(ye,{modelValue:h.value.referenceAnswer,"onUpdate:modelValue":e[17]||(e[17]=s=>h.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),n("div",pl,[l(x,{type:"primary",onClick:Fe},{default:t(()=>[i(j(z.value?"æ›´æ–°":"ä¿å­˜"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):I("",!0),_.value===3?(d(),f("div",fl,[n("div",ml,[e[50]||(e[50]=n("h3",{class:"section-main-title"},"å®éªŒç¯å¢ƒ",-1)),n("div",gl,[n("div",_l,[n("div",yl,[l(b,{value:J.value,"onUpdate:value":e[19]||(e[19]=s=>J.value=s),placeholder:"æœç´¢éœ€è¦çš„å®éªŒç¯å¢ƒ","allow-clear":""},{suffix:t(()=>e[48]||(e[48]=[n("span",{class:"search-icon"},"ğŸ”",-1)])),_:1},8,["value"])]),n("div",kl,[(d(!0),f(S,null,O(Ee.value,s=>(d(),f("div",{key:s.value,class:_e(["environment-item",{active:C.value===s.value}]),onClick:$=>Je(s.value)},j(s.label),11,bl))),128))])]),n("div",wl,[n("div",hl," å®éªŒç¯å¢ƒ: "+j(ze.value),1),l(D,{model:k.value,layout:"horizontal","label-col":{span:6},"wrapper-col":{span:16}},{default:t(()=>[l(c,{label:"é™„å¸¦ç¯å¢ƒ"},{default:t(()=>[l(N,{value:k.value.secondType,"onUpdate:value":e[20]||(e[20]=s=>k.value.secondType=s),placeholder:"è¯·é€‰æ‹©é™„å¸¦ç¯å¢ƒ",options:q(P).options.value,loading:q(P).loading.value},null,8,["value","options","loading"])]),_:1}),l(c,{label:"å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿"},{default:t(()=>[n("div",Tl,[l(G,{value:k.value.timeLimitM,"onUpdate:value":e[21]||(e[21]=s=>k.value.timeLimitM=s),min:1,placeholder:"è¯·è¾“å…¥å®éªŒç¯å¢ƒä½¿ç”¨æ—¶é•¿",style:{flex:"1"}},null,8,["value"]),e[49]||(e[49]=n("span",null,"åˆ†",-1))])]),_:1})]),_:1},8,["model"])])])])])):I("",!0),n("div",Cl,[_.value===0?(d(),V(x,{key:0,onClick:de},{default:t(()=>e[51]||(e[51]=[i("è¿”å›")])),_:1,__:[51]})):(d(),V(x,{key:1,onClick:de},{default:t(()=>e[52]||(e[52]=[i("ä¸Šä¸€æ­¥")])),_:1,__:[52]})),_.value===3?(d(),V(x,{key:2,type:"primary",onClick:He},{default:t(()=>e[53]||(e[53]=[i("å®Œæˆåˆ›å»º")])),_:1,__:[53]})):(d(),V(x,{key:3,type:"primary",onClick:Pe},{default:t(()=>e[54]||(e[54]=[i("ä¸‹ä¸€æ­¥")])),_:1,__:[54]}))])]),l(va,{open:ae.value,"onUpdate:open":e[22]||(e[22]=s=>ae.value=s),title:"é€‰æ‹©è¯„æµ‹æ–‡ä»¶","git-url":o.value.gitUrl,onConfirm:je},null,8,["open","git-url"])])}}}),Dl=ja(xl,[["__scopeId","data-v-fc551875"]]);export{Dl as default};

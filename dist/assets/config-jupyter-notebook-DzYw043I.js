import{d as De,ak as Ve,f as c,o as Me,w as Le,_ as f,a1 as d,$ as r,ac as q,k as a,a7 as l,F as h,ag as O,u as A,a6 as S,G as u,a9 as R,ab as Fe,y as Ne}from"./vue-PnzzEkKE.js";import{R as de,u as ce}from"./RichTextEditor-Bq9HNmhi.js";import{b as ve,d as He,g as ze,a as pe,c as Je,s as Be}from"./index-BNK75F8N.js";import{u as Ee,a as Ge,d as $e}from"./dictionary-B3V_ZyH8.js";import{a as Ke}from"./dictionary-V8PuDZvS.js";import{a1 as n,a2 as Oe,a3 as Ye,z as Qe,I as We,a4 as Xe,a5 as Ze,a6 as ea,a7 as aa,a8 as ta,ac as la,a9 as oa,H as sa,J as na,K as ra,aj as ua,Y as ia,s as da,ah as ca,af as va,T as pa}from"./antd-Cme2pY03.js";import{_ as fa}from"./index-DmgcJQeo.js";const ma={class:"config-jupyter-notebook-page"},_a={class:"page-container"},ga={class:"steps-section"},ya={key:0},ka={class:"form-section"},wa={class:"flex items-top gap-16px"},ba={class:"flex flex-col gap-12px"},Ta={key:0,class:"image-preview"},ha=["src"],Ca={class:"flex items-top gap-16px"},qa={class:"flex flex-col gap-12px"},xa={key:0,class:"image-preview"},Ua=["src"],Aa={class:"form-section"},Ia={key:1,class:"step-content"},Sa={class:"jupyter-header"},Ra={class:"jupyter-actions"},ja={class:"jupyter-iframe-wrapper"},Pa={key:0,class:"loading-container"},Da=["src"],Va={key:2,class:"step-content evaluation-step"},Ma={class:"evaluation-section"},La={class:"section-block"},Fa={class:"block-content"},Na={key:0,class:"section-block"},Ha={class:"block-header"},za={class:"header-actions"},Ja={class:"block-content"},Ba={class:"test-set-label"},Ea={class:"tab-footer-buttons"},Ga={class:"reference-section"},$a={class:"section-block"},Ka={class:"block-content"},Oa={class:"tab-footer-buttons"},Ya={class:"page-footer"},fe="http://101.200.13.193",Qa=De({name:"ConfigJupyterNotebook",__name:"config-jupyter-notebook",setup(Wa){const Y=Ve(),y=c(0),k=c(null),m=c(null),j=c(),Q=c(),L=c(""),x=c(!1),F=c(!1),me=()=>{x.value=!x.value},W=c("settings"),i=c({openTestValidate:1,testValidateFiles:"",timeLimitM:"",scoreRule:1,evaluationSetting:1,testSets:[{id:1,arg:"",answer:"",select:1},{id:2,arg:"",answer:"",select:1}]}),b=c({showAnswer:1,prohibitCopyAnswer:1,referenceAnswer:""}),N=c(!1),H=c(!1);let _e=3;const ge=()=>{i.value.testSets.push({id:_e++,arg:"",answer:"",select:1})},ye=t=>{if(i.value.testSets.length===1){n.warning("至少保留一个测试集");return}i.value.testSets=i.value.testSets.filter(e=>e.id!==t),n.success("删除成功")},ke=(t,e)=>{t.select=e?1:2},o=c({name:"",tag:"",fieldType:void 0,difficulty:1,environment:void 0,secondType:void 0,classHour:"",topCover:"",cover:"",description:"",showTaskRequire:!1,authType:1}),z=c(""),J=c(""),P=c(!1),D=c(!1);Me(async()=>{var e;B.load(),Z.load(),E.load(),await we();const t=history.state;console.log("接收到的路由数据:",t),t&&t.name?(o.value.name=t.name||"",o.value.description=t.description||"",o.value.difficulty=t.difficulty||1,o.value.environment=t.environment,o.value.secondType=t.secondType,o.value.classHour=t.classHour||"",o.value.showTaskRequire=t.showTaskRequire||!1,console.log("已自动填充表单数据:",{name:o.value.name,description:o.value.description,descriptionLength:((e=o.value.description)==null?void 0:e.length)||0,difficulty:o.value.difficulty,environment:o.value.environment,secondType:o.value.secondType,classHour:o.value.classHour,showTaskRequire:o.value.showTaskRequire})):console.log("未接收到路由数据")}),Le(y,async(t,e)=>{t===1&&e===0&&!m.value&&k.value&&(console.log("进入第二步，自动创建任务..."),await te()),t===1&&m.value&&await le()});const X={name:[{required:!0,message:"请输入名称",trigger:"blur"}],tag:[{required:!0,message:"请输入技能标签",trigger:"blur"}],fieldType:[{required:!0,message:"请选择领域类别",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],environment:[{required:!0,message:"请选择实验环境",trigger:"change"}],secondType:[{required:!0,message:"请选择小类别",trigger:"change"}],classHour:[{required:!0,message:"请输入学时",trigger:"blur"}],topCover:[{required:!0,message:"请上传顶部背景图",trigger:"change"}],cover:[{required:!0,message:"请上传封面图",trigger:"change"}],authType:[{required:!0,message:"请选择培训公开范围",trigger:"change"}]},B=Ee(),Z=Ge(),E=$e(),ee=c([]),G=c(!1),we=async()=>{try{G.value=!0;const t=await Ke({code:"project#environment_2"});t&&t.list&&(ee.value=t.list.map(e=>({label:e.name,value:e.value})))}catch(t){console.error("加载实验环境选项失败：",t),n.error("加载实验环境选项失败")}finally{G.value=!1}},be=[{title:"基本信息"},{title:"实验内容"},{title:"评测设置"}],ae=()=>{y.value===0?Y.back():(y.value--,I())},Te=async()=>{var t,e;if(y.value===0)try{await Promise.all([(t=j.value)==null?void 0:t.validate(),(e=Q.value)==null?void 0:e.validate()]),console.log("表单数据：",o.value),await he()}catch{n.error("请完善必填信息"),I()}else y.value===1&&await Ce()},he=async()=>{try{const t={projectType:2,environment:o.value.environment,secondType:o.value.secondType,name:o.value.name,tag:o.value.tag,fieldType:o.value.fieldType,difficulty:o.value.difficulty,classHour:o.value.classHour,topCover:o.value.topCover,cover:o.value.cover,description:o.value.description,showTaskRequire:o.value.showTaskRequire?1:2,authType:o.value.authType};console.log("提交项目数据：",t);let e;k.value?(t.id=k.value,e=await pe(t),n.success("项目更新成功！"),console.log("更新成功：",e)):(e=await Je(t),e&&e.id&&(k.value=e.id,console.log("项目ID已保存：",k.value)),n.success("项目创建成功！"),console.log("创建成功：",e)),y.value=1,I()}catch(t){console.error("操作失败：",t),n.error(k.value?"项目更新失败，请稍后重试":"项目创建失败，请稍后重试")}},te=async()=>{try{if(!k.value){console.error("项目ID不存在，无法创建任务");return}const t={type:4,projectId:k.value,name:"JupyterNotebook环境实训任务"};console.log("自动提交任务数据：",t);const e=await He(t);e&&e.taskId&&(m.value=e.taskId,console.log("任务ID已保存：",m.value),n.success("任务创建成功！"),await le())}catch(t){console.error("任务创建失败：",t),n.error("任务创建失败，请稍后重试")}},le=async()=>{if(!m.value){console.log("taskId不存在，无法获取Pod配置");return}try{F.value=!0,console.log("正在获取Pod配置，taskId:",m.value);const t=await ze({taskId:m.value});console.log("获取到Pod数据：",t),t&&t.config&&t.config.url?(L.value=t.config.url,console.log("更新Jupyter URL为：",L.value),n.success("实验环境加载成功！")):(console.error("Pod配置中没有url字段"),n.warning("未获取到实验环境URL"))}catch(t){console.error("获取Pod配置失败：",t),n.error("获取实验环境失败，请稍后重试")}finally{F.value=!1}},Ce=async()=>{try{if(!k.value){n.error("项目ID不存在，请先创建项目");return}if(m.value){await qe(),y.value=2,I();return}await te(),y.value=2,I()}catch(t){console.error("任务操作失败：",t),n.error("任务操作失败，请稍后重试")}},qe=async()=>{if(!m.value){console.log("taskId不存在，无法停止Pod");return}try{console.log("正在停止Pod，taskId:",m.value),await Be({taskId:m.value}),console.log("Pod停止成功"),n.success("实验环境已停止")}catch(t){console.error("停止Pod失败：",t),n.error("停止实验环境失败，请稍后重试")}},xe=async()=>{try{if(!m.value){n.error("任务ID不存在，请重新创建任务");return}if(i.value.openTestValidate===1){if(!i.value.timeLimitM||i.value.timeLimitM.trim()===""){n.error("请输入评测时长限制");return}if(!i.value.testSets||i.value.testSets.length===0){n.error("请至少添加一个测试集");return}const w=i.value.testSets.filter(p=>p.select===1);if(w.length===0){n.error("请至少选中一个测试集");return}for(let p=0;p<w.length;p++){const _=w[p];if(!_.arg||_.arg.trim()===""){n.error(`测试集${p+1}的输入内容不能为空`);return}if(!_.answer||_.answer.trim()===""){n.error(`测试集${p+1}的期望输出不能为空`);return}}}const t=i.value.testSets.map(w=>({arg:w.arg,answer:w.answer,select:w.select})),e={taskId:m.value,projectId:k.value,openTestValidate:i.value.openTestValidate,testValidateFiles:i.value.testValidateFiles,timeLimitM:i.value.timeLimitM,scoreRule:i.value.scoreRule,testContent:JSON.stringify(t)};console.log("保存评测设置数据：",e),await ve(e),N.value=!0,n.success("评测设置保存成功！")}catch(t){console.error("评测设置保存失败：",t),n.error("评测设置保存失败，请重试")}},Ue=async()=>{try{if(!m.value){n.error("任务ID不存在，请重新创建任务");return}if(!b.value.referenceAnswer||b.value.referenceAnswer.trim()===""){n.error("请输入参考答案内容");return}if(!b.value.referenceAnswer.replace(/<[^>]*>/g,"").trim()){n.error("请输入参考答案内容");return}const e={taskId:m.value,projectId:k.value,showAnswer:b.value.showAnswer,prohibitCopyAnswer:b.value.prohibitCopyAnswer,referenceAnswer:b.value.referenceAnswer};console.log("保存参考答案数据：",e),await ve(e),H.value=!0,n.success("参考答案保存成功！")}catch(t){console.error("参考答案保存失败：",t),n.error("参考答案保存失败，请重试")}},Ae=async()=>{try{if(!k.value){n.error("项目ID不存在，请重新创建项目");return}if(!N.value){n.error("请先保存评测设置后再完成创建");return}if(!H.value){n.error("请先保存参考答案后再完成创建");return}await pe({id:k.value,status:10}),n.success("项目创建成功！"),setTimeout(()=>{Y.push("/dashboard/analysis")},500)}catch(t){console.error("完成创建失败：",t),n.error("完成创建失败，请重试")}},I=()=>{Ne(()=>{window.scrollTo({top:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const t=document.querySelector(".page-content");t&&(t.scrollTop=0);const e=document.querySelector(".ant-layout-content");e&&(e.scrollTop=0),document.querySelectorAll("*").forEach(p=>{p.scrollTop>0&&(p.scrollTop=0)})})},Ie=async t=>{var p;if(!(t.size/1024/1024<12))return n.error("图片大小不能超过 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return n.error("只能上传 JPG/PNG 格式的图片!"),!1;try{P.value=!0;const _=await ce(t);z.value=fe+_,o.value.topCover=_,(p=j.value)==null||p.validateFields(["topCover"]),n.success("顶部背景图上传成功")}catch{n.error("顶部背景图上传失败")}finally{P.value=!1}return!1},Se=async t=>{var p;if(!(t.size/1024/1024<12))return n.error("图片大小不能超过 12MB!"),!1;if(!(t.type==="image/jpeg"||t.type==="image/png"))return n.error("只能上传 JPG/PNG 格式的图片!"),!1;try{D.value=!0;const _=await ce(t);J.value=fe+_,o.value.cover=_,(p=j.value)==null||p.validateFields(["cover"]),n.success("封面图上传成功")}catch{n.error("封面图上传失败")}finally{D.value=!1}return!1};return(t,e)=>{const w=Oe,p=Ye,_=We,v=Qe,V=Ze,$=ea,oe=Xe,g=ta,C=aa,se=la,T=sa,ne=oa,re=na,M=ra,Re=ua,je=ia,ue=ca,ie=da,Pe=pa;return d(),f("div",ma,[e[46]||(e[46]=r("div",{class:"page-header"},[r("h2",null,"JupyterNotebook环境实训项目配置")],-1)),r("div",_a,[r("div",ga,[a(p,{current:y.value,class:"custom-steps"},{default:l(()=>[(d(),f(h,null,O(be,(s,K)=>a(w,{key:K,title:s.title},null,8,["title"])),64))]),_:1},8,["current"])]),y.value===0?(d(),f("div",ya,[e[25]||(e[25]=r("div",{class:"section-title"},[r("h3",null,"基本信息")],-1)),r("div",ka,[a(M,{ref_key:"formRef",ref:j,model:o.value,rules:X,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(v,{label:"名称",name:"name",required:""},{default:l(()=>[a(_,{value:o.value.name,"onUpdate:value":e[0]||(e[0]=s=>o.value.name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1}),a(oe,null,{default:l(()=>[a(V,{span:12},{default:l(()=>[a(v,{label:"技能标签",name:"tag",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a(_,{value:o.value.tag,"onUpdate:value":e[1]||(e[1]=s=>o.value.tag=s),placeholder:"请输入技能标签"},null,8,["value"])]),_:1})]),_:1}),a(V,{span:12},{default:l(()=>[a(v,{label:"领域类别",name:"fieldType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a($,{value:o.value.fieldType,"onUpdate:value":e[2]||(e[2]=s=>o.value.fieldType=s),placeholder:"请选择领域类别",options:A(B).options.value,loading:A(B).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),a(v,{label:"难度",name:"difficulty",required:""},{default:l(()=>[a(C,{value:o.value.difficulty,"onUpdate:value":e[3]||(e[3]=s=>o.value.difficulty=s),class:"custom-radio"},{default:l(()=>[(d(!0),f(h,null,O(A(Z).data.value,s=>(d(),S(g,{key:s.value,value:Number(s.value)},{default:l(()=>[u(R(s.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),a(oe,null,{default:l(()=>[a(V,{span:12},{default:l(()=>[a(v,{label:"实验环境",name:"environment",required:"","label-col":{span:4},"wrapper-col":{span:20}},{default:l(()=>[a($,{value:o.value.environment,"onUpdate:value":e[4]||(e[4]=s=>o.value.environment=s),placeholder:"请选择实验环境",options:ee.value,loading:G.value},null,8,["value","options","loading"])]),_:1})]),_:1}),a(V,{span:12},{default:l(()=>[a(v,{label:"小类别",name:"secondType",required:"","label-col":{span:4},"wrapper-col":{span:12}},{default:l(()=>[a($,{value:o.value.secondType,"onUpdate:value":e[5]||(e[5]=s=>o.value.secondType=s),placeholder:"请选择小类别",options:A(E).options.value,loading:A(E).loading.value},null,8,["value","options","loading"])]),_:1})]),_:1})]),_:1}),a(v,{label:"学时",name:"classHour",required:""},{default:l(()=>[a(se,{min:0,class:"w-full",value:o.value.classHour,"onUpdate:value":e[6]||(e[6]=s=>o.value.classHour=s),placeholder:"请输入学时"},null,8,["value"])]),_:1}),a(v,{label:"顶部背景图",name:"topCover",required:""},{default:l(()=>[r("div",wa,[r("div",ba,[a(ne,{"before-upload":Ie,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(T,{loading:P.value},{default:l(()=>[P.value?(d(),f(h,{key:1},[u("上传中...")],64)):(d(),f(h,{key:0},[u("选择文件")],64))]),_:1},8,["loading"])]),_:1}),z.value?(d(),f("div",Ta,[r("img",{src:z.value,alt:"顶部背景图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,ha)])):q("",!0)]),e[18]||(e[18]=r("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),a(v,{label:"封面图",name:"cover",required:""},{default:l(()=>[r("div",Ca,[r("div",qa,[a(ne,{"before-upload":Se,"show-upload-list":!1,accept:"image/png,image/jpeg"},{default:l(()=>[a(T,{loading:D.value},{default:l(()=>[D.value?(d(),f(h,{key:1},[u("上传中...")],64)):(d(),f(h,{key:0},[u("选择文件")],64))]),_:1},8,["loading"])]),_:1}),J.value?(d(),f("div",xa,[r("img",{src:J.value,alt:"封面图预览",style:{"max-width":"290px","max-height":"218px","border-radius":"4px"}},null,8,Ua)])):q("",!0)]),e[19]||(e[19]=r("div",{class:"upload-hint"}," 说明：支持上传png/jpeg等格式文件，文件大小不能超过12M,建议使用290*218像素。 ",-1))])]),_:1}),a(v,{label:"简介",name:"description"},{default:l(()=>[a(de,{modelValue:o.value.description,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.description=s)},null,8,["modelValue"])]),_:1}),a(v,{label:"任务要求",name:"showTaskRequire"},{default:l(()=>[a(re,{checked:o.value.showTaskRequire,"onUpdate:checked":e[8]||(e[8]=s=>o.value.showTaskRequire=s)},{default:l(()=>e[20]||(e[20]=[u(" 显示任务要求（勾选后，将帮作为任务要求显示在任务项目政策面） ")])),_:1,__:[20]},8,["checked"])]),_:1})]),_:1},8,["model"])]),e[26]||(e[26]=r("div",{class:"section-title"},[r("h3",null,"培训公开范围")],-1)),r("div",Aa,[a(M,{ref_key:"trainingScopeFormRef",ref:Q,model:o.value,rules:X,layout:"horizontal","label-col":{span:2},"wrapper-col":{span:18}},{default:l(()=>[a(v,{label:"培训公开范围",name:"authType",required:""},{default:l(()=>[a(C,{value:o.value.authType,"onUpdate:value":e[9]||(e[9]=s=>o.value.authType=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[21]||(e[21]=[u("完全公开")])),_:1,__:[21]}),a(g,{value:2},{default:l(()=>e[22]||(e[22]=[u("全院公开")])),_:1,__:[22]}),a(g,{value:3},{default:l(()=>e[23]||(e[23]=[u("本单位公开")])),_:1,__:[23]}),a(g,{value:4},{default:l(()=>e[24]||(e[24]=[u("不公开")])),_:1,__:[24]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])])):q("",!0),y.value===1?(d(),f("div",Ia,[r("div",{class:Fe(["jupyter-container",{fullscreen:x.value}])},[r("div",Sa,[e[27]||(e[27]=r("h3",null,"Jupyter Notebook 编辑器",-1)),r("div",Ra,[a(Re,{title:x.value?"退出全屏":"全屏"},{default:l(()=>[a(T,{type:"text",icon:x.value?"fullscreen-exit":"fullscreen",onClick:me},{default:l(()=>[u(R(x.value?"退出全屏":"全屏"),1)]),_:1},8,["icon"])]),_:1},8,["title"])])]),r("div",ja,[F.value?(d(),f("div",Pa,[a(je,{size:"large",tip:"正在加载实验环境..."})])):(d(),f("iframe",{key:1,src:L.value,class:"jupyter-iframe",frameborder:"0",allowfullscreen:""},null,8,Da))])],2)])):q("",!0),y.value===2?(d(),f("div",Va,[a(Pe,{activeKey:W.value,"onUpdate:activeKey":e[17]||(e[17]=s=>W.value=s),class:"evaluation-tabs"},{default:l(()=>[a(ie,{key:"settings",tab:"评测设置"},{default:l(()=>[r("div",Ma,[r("div",La,[e[34]||(e[34]=r("div",{class:"block-header"},"评测文件",-1)),r("div",Fa,[a(M,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(v,{label:"是否启用评测功能",required:""},{default:l(()=>[a(C,{value:i.value.openTestValidate,"onUpdate:value":e[10]||(e[10]=s=>i.value.openTestValidate=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[28]||(e[28]=[u("是")])),_:1,__:[28]}),a(g,{value:2},{default:l(()=>e[29]||(e[29]=[u("否")])),_:1,__:[29]})]),_:1},8,["value"])]),_:1}),i.value.openTestValidate===1?(d(),f(h,{key:0},[a(v,{label:"评测时长限制",required:""},{default:l(()=>[a(se,{value:i.value.timeLimitM,"onUpdate:value":e[11]||(e[11]=s=>i.value.timeLimitM=s),min:0,placeholder:"请输入评测时长（分钟）",style:{width:"600px"}},null,8,["value"])]),_:1}),a(v,{label:"系统评分规则"},{default:l(()=>[a(C,{value:i.value.scoreRule,"onUpdate:value":e[12]||(e[12]=s=>i.value.scoreRule=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[30]||(e[30]=[u(" 通过全部测试集（仅当所有测试集都正确时，获得项目学时） ")])),_:1,__:[30]}),a(g,{value:2},{default:l(()=>e[31]||(e[31]=[u(" 通过部分测试集（任意一个测试集正确时，获得项目学时） ")])),_:1,__:[31]})]),_:1},8,["value"])]),_:1}),a(v,{label:"评测设置",required:""},{default:l(()=>[a(C,{value:i.value.evaluationSetting,"onUpdate:value":e[13]||(e[13]=s=>i.value.evaluationSetting=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[32]||(e[32]=[u(" 通过所有代码块评测（对学员任务文件的所有非空代码块进行评测） ")])),_:1,__:[32]}),a(g,{value:2},{default:l(()=>e[33]||(e[33]=[u(" 通过指定代码块评测（对学员任务文件的指定非空代码块进行评测） ")])),_:1,__:[33]})]),_:1},8,["value"])]),_:1})],64)):q("",!0)]),_:1})])]),i.value.openTestValidate===1?(d(),f("div",Na,[r("div",Ha,[e[36]||(e[36]=r("span",null,"测试集",-1)),r("div",za,[a(T,{onClick:ge},{default:l(()=>e[35]||(e[35]=[u("新增测试集")])),_:1,__:[35]})])]),r("div",Ja,[(d(!0),f(h,null,O(i.value.testSets,(s,K)=>(d(),f("div",{key:s.id,class:"test-set-item"},[a(re,{checked:s.select===1,onChange:U=>ke(s,U.target.checked),class:"test-set-checkbox"},null,8,["checked","onChange"]),r("span",Ba,"测试集"+R(K+1),1),a(ue,{value:s.arg,"onUpdate:value":U=>s.arg=U,placeholder:"请输入输入内容",class:"test-set-input","auto-size":{minRows:3}},null,8,["value","onUpdate:value"]),a(ue,{value:s.answer,"onUpdate:value":U=>s.answer=U,placeholder:"请输入期望输出",class:"test-set-input","auto-size":{minRows:3}},null,8,["value","onUpdate:value"]),a(A(va),{class:"delete-test-set-icon",onClick:U=>ye(s.id)},null,8,["onClick"])]))),128))])])):q("",!0),r("div",Ea,[a(T,{type:"primary",onClick:xe},{default:l(()=>[u(R(N.value?"更新":"保存"),1)]),_:1})])])]),_:1}),a(ie,{key:"reference",tab:"参考答案"},{default:l(()=>[r("div",Ga,[r("div",$a,[e[41]||(e[41]=r("div",{class:"block-header"},"参考答案",-1)),r("div",Ka,[a(M,{layout:"horizontal","label-col":{span:3},"wrapper-col":{span:20}},{default:l(()=>[a(v,{label:"是否显示参考答案模块",required:""},{default:l(()=>[a(C,{value:b.value.showAnswer,"onUpdate:value":e[14]||(e[14]=s=>b.value.showAnswer=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[37]||(e[37]=[u("是")])),_:1,__:[37]}),a(g,{value:2},{default:l(()=>e[38]||(e[38]=[u("否")])),_:1,__:[38]})]),_:1},8,["value"])]),_:1}),a(v,{label:"是否禁止复制参考答案",required:""},{default:l(()=>[a(C,{value:b.value.prohibitCopyAnswer,"onUpdate:value":e[15]||(e[15]=s=>b.value.prohibitCopyAnswer=s),class:"custom-radio"},{default:l(()=>[a(g,{value:1},{default:l(()=>e[39]||(e[39]=[u("是")])),_:1,__:[39]}),a(g,{value:2},{default:l(()=>e[40]||(e[40]=[u("否")])),_:1,__:[40]})]),_:1},8,["value"])]),_:1}),a(v,{label:"参考答案",required:""},{default:l(()=>[a(de,{modelValue:b.value.referenceAnswer,"onUpdate:modelValue":e[16]||(e[16]=s=>b.value.referenceAnswer=s)},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",Oa,[a(T,{type:"primary",onClick:Ue},{default:l(()=>[u(R(H.value?"更新":"保存"),1)]),_:1})])])]),_:1})]),_:1},8,["activeKey"])])):q("",!0),r("div",Ya,[y.value===0?(d(),S(T,{key:0,onClick:ae},{default:l(()=>e[42]||(e[42]=[u("返回")])),_:1,__:[42]})):(d(),S(T,{key:1,onClick:ae},{default:l(()=>e[43]||(e[43]=[u("上一步")])),_:1,__:[43]})),y.value===2?(d(),S(T,{key:2,type:"primary",onClick:Ae},{default:l(()=>e[44]||(e[44]=[u("完成创建")])),_:1,__:[44]})):(d(),S(T,{key:3,type:"primary",onClick:Te},{default:l(()=>e[45]||(e[45]=[u("下一步")])),_:1,__:[45]}))])])])}}}),st=fa(Qa,[["__scopeId","data-v-43ac22c6"]]);export{st as default};
